(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ae(){}const Gt=t=>t;function gn(t,e){for(const n in e)t[n]=e[n];return t}function Yt(t){return t()}function _t(){return Object.create(null)}function me(t){t.forEach(Yt)}function Le(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ye;function dt(t,e){return Ye||(Ye=document.createElement("a")),Ye.href=e,t===Ye.href}function pn(t){return Object.keys(t).length===0}function bn(t,e,n,l){if(t){const i=Zt(t,e,n,l);return t[0](i)}}function Zt(t,e,n,l){return t[1]&&l?gn(n.ctx.slice(),t[1](l(e))):n.ctx}function vn(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let u=0;u<s;u+=1)o[u]=e.dirty[u]|i[u];return o}return e.dirty|i}return e.dirty}function wn(t,e,n,l,i,o){if(i){const s=Zt(e,n,l,o);t.p(s,i)}}function kn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Ce(t){return t==null?"":t}const Xt=typeof window<"u";let yn=Xt?()=>window.performance.now():()=>Date.now(),ot=Xt?t=>requestAnimationFrame(t):ae;const Re=new Set;function Jt(t){Re.forEach(e=>{e.c(t)||(Re.delete(e),e.f())}),Re.size!==0&&ot(Jt)}function Sn(t){let e;return Re.size===0&&ot(Jt),{promise:new Promise(n=>{Re.add(e={c:t,f:n})}),abort(){Re.delete(e)}}}function _(t,e){t.appendChild(e)}function Qt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Cn(t){const e=p("style");return Mn(Qt(t),e),e.sheet}function Mn(t,e){_(t.head||t,e)}function W(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function Oe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function E(){return H(" ")}function Se(){return H("")}function D(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function re(t){return t===""?null:+t}function Bn(t){return Array.from(t.childNodes)}function oe(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e){t.value=e==null?"":e}function Ee(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function ht(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e){l.selected=!0;return}}t.selectedIndex=-1}function Wn(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function J(t,e,n){t.classList[n?"add":"remove"](e)}function Ut(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,l,e),i}const Ue=new Map;let xe=0;function On(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function En(t,e){const n={stylesheet:Cn(e),rules:{}};return Ue.set(t,n),n}function gt(t,e,n,l,i,o,s,u=0){const a=16.666/l;let r=`{
`;for(let k=0;k<=1;k+=a){const y=e+(n-e)*o(k);r+=k*100+`%{${s(y,1-y)}}
`}const c=r+`100% {${s(n,1-n)}}
}`,h=`__svelte_${On(c)}_${u}`,d=Qt(t),{stylesheet:v,rules:f}=Ue.get(d)||En(d,t);f[h]||(f[h]=!0,v.insertRule(`@keyframes ${h} ${c}`,v.cssRules.length));const w=t.style.animation||"";return t.style.animation=`${w?`${w}, `:""}${h} ${l}ms linear ${i}ms 1 both`,xe+=1,h}function Ln(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-l.length;i&&(t.style.animation=l.join(", "),xe-=i,xe||Tn())}function Tn(){ot(()=>{xe||(Ue.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),Ue.clear())})}let Ie;function He(t){Ie=t}function Ve(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function Pn(t){Ve().$$.on_mount.push(t)}function An(t){Ve().$$.on_destroy.push(t)}function Rn(){const t=Ve();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Ut(e,n,{cancelable:l});return i.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function zn(t,e){return Ve().$$.context.set(t,e),e}function Nn(t){return Ve().$$.context.get(t)}const Fe=[],fe=[],Je=[],nt=[],Dn=Promise.resolve();let lt=!1;function Fn(){lt||(lt=!0,Dn.then(xt))}function Te(t){Je.push(t)}function ke(t){nt.push(t)}const $e=new Set;let Ze=0;function xt(){const t=Ie;do{for(;Ze<Fe.length;){const e=Fe[Ze];Ze++,He(e),Hn(e.$$)}for(He(null),Fe.length=0,Ze=0;fe.length;)fe.pop()();for(let e=0;e<Je.length;e+=1){const n=Je[e];$e.has(n)||($e.add(n),n())}Je.length=0}while(Fe.length);for(;nt.length;)nt.pop()();lt=!1,$e.clear(),He(t)}function Hn(t){if(t.fragment!==null){t.update(),me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Te)}}let De;function In(){return De||(De=Promise.resolve(),De.then(()=>{De=null})),De}function et(t,e,n){t.dispatchEvent(Ut(`${e?"intro":"outro"}${n}`))}const Qe=new Set;let We;function ge(){We={r:0,c:[],p:We}}function pe(){We.r||me(We.c),We=We.p}function P(t,e){t&&t.i&&(Qe.delete(t),t.i(e))}function N(t,e,n,l){if(t&&t.o){if(Qe.has(t))return;Qe.add(t),We.c.push(()=>{Qe.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Vn={duration:0};function Xe(t,e,n,l){let i=e(t,n),o=l?0:1,s=null,u=null,a=null;function r(){a&&Ln(t,a)}function c(d,v){const f=d.b-o;return v*=Math.abs(f),{a:o,b:d.b,d:f,duration:v,start:d.start,end:d.start+v,group:d.group}}function h(d){const{delay:v=0,duration:f=300,easing:w=Gt,tick:k=ae,css:y}=i||Vn,b={start:yn()+v,b:d};d||(b.group=We,We.r+=1),s||u?u=b:(y&&(r(),a=gt(t,o,d,f,v,w,y)),d&&k(0,1),s=c(b,f),Te(()=>et(t,d,"start")),Sn(g=>{if(u&&g>u.start&&(s=c(u,f),u=null,et(t,s.b,"start"),y&&(r(),a=gt(t,o,s.b,s.duration,0,w,i.css))),s){if(g>=s.end)k(o=s.b,1-o),et(t,s.b,"end"),u||(s.b?r():--s.group.r||me(s.group.c)),s=null;else if(g>=s.start){const C=g-s.start;o=s.a+s.d*w(C/s.duration),k(o,1-o)}}return!!(s||u)}))}return{run(d){Le(i)?In().then(()=>{i=i(),h(d)}):h(d)},end(){r(),s=u=null}}}const jn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ye(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ue(t){t&&t.c()}function ne(t,e,n,l){const{fragment:i,on_mount:o,on_destroy:s,after_update:u}=t.$$;i&&i.m(e,n),l||Te(()=>{const a=o.map(Yt).filter(Le);s?s.push(...a):me(a),t.$$.on_mount=[]}),u.forEach(Te)}function le(t,e){const n=t.$$;n.fragment!==null&&(me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Kn(t,e){t.$$.dirty[0]===-1&&(Fe.push(t),Fn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ve(t,e,n,l,i,o,s,u=[-1]){const a=Ie;He(t);const r=t.$$={fragment:null,ctx:null,props:o,update:ae,not_equal:i,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:_t(),dirty:u,skip_bound:!1,root:e.target||a.$$.root};s&&s(r.root);let c=!1;if(r.ctx=n?n(t,e.props||{},(h,d,...v)=>{const f=v.length?v[0]:d;return r.ctx&&i(r.ctx[h],r.ctx[h]=f)&&(!r.skip_bound&&r.bound[h]&&r.bound[h](f),c&&Kn(t,h)),d}):[],r.update(),c=!0,me(r.before_update),r.fragment=l?l(r.ctx):!1,e.target){if(e.hydrate){const h=Bn(e.target);r.fragment&&r.fragment.l(h),h.forEach(B)}else r.fragment&&r.fragment.c();e.intro&&P(t.$$.fragment),ne(t,e.target,e.anchor,e.customElement),xt()}He(a)}class we{$destroy(){le(this,1),this.$destroy=ae}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function qn(t,{delay:e=0,duration:n=400,easing:l=Gt}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:o=>`opacity: ${o*i}`}}const{window:Gn}=jn;function pt(t){let e,n,l,i,o,s,u,a,r,c,h,d,v,f,w,k,y,b=t[1].closeButton&&bt(t);var g=t[2];function C(M){return{}}return g&&(s=new g(C())),{c(){e=p("div"),n=p("div"),l=p("div"),b&&b.c(),i=E(),o=p("div"),s&&ue(s.$$.fragment),m(o,"class",u=Ce(t[1].classContent)+" svelte-g4wg3a"),m(o,"style",t[9]),J(o,"content",!t[0]),m(l,"class",a=Ce(t[1].classWindow)+" svelte-g4wg3a"),m(l,"role","dialog"),m(l,"aria-modal","true"),m(l,"aria-label",r=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),m(l,"aria-labelledby",c=t[1].ariaLabelledBy||null),m(l,"style",t[8]),J(l,"window",!t[0]),m(n,"class",d=Ce(t[1].classWindowWrap)+" svelte-g4wg3a"),m(n,"style",t[7]),J(n,"wrap",!t[0]),m(e,"class",v=Ce(t[1].classBg)+" svelte-g4wg3a"),m(e,"style",t[6]),J(e,"bg",!t[0])},m(M,S){W(M,e,S),_(e,n),_(n,l),b&&b.m(l,null),_(l,i),_(l,o),s&&ne(s,o,null),t[49](l),t[50](n),t[51](e),w=!0,k||(y=[D(l,"introstart",function(){Le(t[13])&&t[13].apply(this,arguments)}),D(l,"outrostart",function(){Le(t[14])&&t[14].apply(this,arguments)}),D(l,"introend",function(){Le(t[15])&&t[15].apply(this,arguments)}),D(l,"outroend",function(){Le(t[16])&&t[16].apply(this,arguments)}),D(e,"mousedown",t[20]),D(e,"mouseup",t[21])],k=!0)},p(M,S){if(t=M,t[1].closeButton?b?(b.p(t,S),S[0]&2&&P(b,1)):(b=bt(t),b.c(),P(b,1),b.m(l,i)):b&&(ge(),N(b,1,1,()=>{b=null}),pe()),g!==(g=t[2])){if(s){ge();const L=s;N(L.$$.fragment,1,0,()=>{le(L,1)}),pe()}g?(s=new g(C()),ue(s.$$.fragment),P(s.$$.fragment,1),ne(s,o,null)):s=null}(!w||S[0]&2&&u!==(u=Ce(t[1].classContent)+" svelte-g4wg3a"))&&m(o,"class",u),(!w||S[0]&512)&&m(o,"style",t[9]),S[0]&3&&J(o,"content",!t[0]),(!w||S[0]&2&&a!==(a=Ce(t[1].classWindow)+" svelte-g4wg3a"))&&m(l,"class",a),(!w||S[0]&2&&r!==(r=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&m(l,"aria-label",r),(!w||S[0]&2&&c!==(c=t[1].ariaLabelledBy||null))&&m(l,"aria-labelledby",c),(!w||S[0]&256)&&m(l,"style",t[8]),S[0]&3&&J(l,"window",!t[0]),(!w||S[0]&2&&d!==(d=Ce(t[1].classWindowWrap)+" svelte-g4wg3a"))&&m(n,"class",d),(!w||S[0]&128)&&m(n,"style",t[7]),S[0]&3&&J(n,"wrap",!t[0]),(!w||S[0]&2&&v!==(v=Ce(t[1].classBg)+" svelte-g4wg3a"))&&m(e,"class",v),(!w||S[0]&64)&&m(e,"style",t[6]),S[0]&3&&J(e,"bg",!t[0])},i(M){w||(P(b),s&&P(s.$$.fragment,M),Te(()=>{h||(h=Xe(l,t[12],t[1].transitionWindowProps,!0)),h.run(1)}),Te(()=>{f||(f=Xe(e,t[11],t[1].transitionBgProps,!0)),f.run(1)}),w=!0)},o(M){N(b),s&&N(s.$$.fragment,M),h||(h=Xe(l,t[12],t[1].transitionWindowProps,!1)),h.run(0),f||(f=Xe(e,t[11],t[1].transitionBgProps,!1)),f.run(0),w=!1},d(M){M&&B(e),b&&b.d(),s&&le(s),t[49](null),M&&h&&h.end(),t[50](null),t[51](null),M&&f&&f.end(),k=!1,me(y)}}}function bt(t){let e,n,l,i,o;const s=[Zn,Yn],u=[];function a(r,c){return c[0]&2&&(e=null),e==null&&(e=!!r[17](r[1].closeButton)),e?0:1}return n=a(t,[-1,-1,-1]),l=u[n]=s[n](t),{c(){l.c(),i=Se()},m(r,c){u[n].m(r,c),W(r,i,c),o=!0},p(r,c){let h=n;n=a(r,c),n===h?u[n].p(r,c):(ge(),N(u[h],1,1,()=>{u[h]=null}),pe(),l=u[n],l?l.p(r,c):(l=u[n]=s[n](r),l.c()),P(l,1),l.m(i.parentNode,i))},i(r){o||(P(l),o=!0)},o(r){N(l),o=!1},d(r){u[n].d(r),r&&B(i)}}}function Yn(t){let e,n,l,i;return{c(){e=p("button"),m(e,"class",n=Ce(t[1].classCloseButton)+" svelte-g4wg3a"),m(e,"aria-label","Close modal"),m(e,"style",t[10]),m(e,"type","button"),J(e,"close",!t[0])},m(o,s){W(o,e,s),l||(i=D(e,"click",t[18]),l=!0)},p(o,s){s[0]&2&&n!==(n=Ce(o[1].classCloseButton)+" svelte-g4wg3a")&&m(e,"class",n),s[0]&1024&&m(e,"style",o[10]),s[0]&3&&J(e,"close",!o[0])},i:ae,o:ae,d(o){o&&B(e),l=!1,i()}}}function Zn(t){let e,n,l;var i=t[1].closeButton;function o(s){return{props:{onClose:s[18]}}}return i&&(e=new i(o(t))),{c(){e&&ue(e.$$.fragment),n=Se()},m(s,u){e&&ne(e,s,u),W(s,n,u),l=!0},p(s,u){if(i!==(i=s[1].closeButton)){if(e){ge();const a=e;N(a.$$.fragment,1,0,()=>{le(a,1)}),pe()}i?(e=new i(o(s)),ue(e.$$.fragment),P(e.$$.fragment,1),ne(e,n.parentNode,n)):e=null}},i(s){l||(e&&P(e.$$.fragment,s),l=!0)},o(s){e&&N(e.$$.fragment,s),l=!1},d(s){s&&B(n),e&&le(e,s)}}}function Xn(t){let e,n,l,i,o=t[2]&&pt(t);const s=t[48].default,u=bn(s,t,t[47],null);return{c(){o&&o.c(),e=E(),u&&u.c()},m(a,r){o&&o.m(a,r),W(a,e,r),u&&u.m(a,r),n=!0,l||(i=D(Gn,"keydown",t[19]),l=!0)},p(a,r){a[2]?o?(o.p(a,r),r[0]&4&&P(o,1)):(o=pt(a),o.c(),P(o,1),o.m(e.parentNode,e)):o&&(ge(),N(o,1,1,()=>{o=null}),pe()),u&&u.p&&(!n||r[1]&65536)&&wn(u,s,a,a[47],n?vn(s,a[47],r,null):kn(a[47]),null)},i(a){n||(P(o),P(u,a),n=!0)},o(a){N(o),N(u,a),n=!1},d(a){o&&o.d(a),a&&B(e),u&&u.d(a),l=!1,i()}}}function Jn(t,e={}){return function(l){return new t({...l,props:{...e,...l.props}})}}function Qn(t,e,n){let{$$slots:l={},$$scope:i}=e;const o=Rn(),s=zn,u=O=>O.tabIndex>=0&&!O.hidden&&!O.disabled&&O.style.display!=="none"&&O.type!=="hidden"&&Boolean(O.offsetWidth||O.offsetHeight||O.getClientRects().length);let{isTabbable:a=u}=e,{show:r=null}=e,{key:c="simple-modal"}=e,{ariaLabel:h=null}=e,{ariaLabelledBy:d=null}=e,{closeButton:v=!0}=e,{closeOnEsc:f=!0}=e,{closeOnOuterClick:w=!0}=e,{styleBg:k={}}=e,{styleWindowWrap:y={}}=e,{styleWindow:b={}}=e,{styleContent:g={}}=e,{styleCloseButton:C={}}=e,{classBg:M=null}=e,{classWindowWrap:S=null}=e,{classWindow:L=null}=e,{classContent:A=null}=e,{classCloseButton:F=null}=e,{unstyled:j=!1}=e,{setContext:Z=s}=e,{transitionBg:K=qn}=e,{transitionBgProps:Q={duration:250}}=e,{transitionWindow:U=K}=e,{transitionWindowProps:z=Q}=e,{disableFocusTrap:se=!1}=e;const q={ariaLabel:h,ariaLabelledBy:d,closeButton:v,closeOnEsc:f,closeOnOuterClick:w,styleBg:k,styleWindowWrap:y,styleWindow:b,styleContent:g,styleCloseButton:C,classBg:M,classWindowWrap:S,classWindow:L,classContent:A,classCloseButton:F,transitionBg:K,transitionBgProps:Q,transitionWindow:U,transitionWindowProps:z,disableFocusTrap:se,isTabbable:a,unstyled:j};let I={...q},X=null,ee,ie,te,Y,de,G,$,ce,R,T,V,_e,Pe,at,ut;const sn=O=>O.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),ze=O=>O?Object.keys(O).reduce((Ne,Me)=>`${Ne}; ${sn(Me)}: ${O[Me]}`,""):"",rt=O=>!!(O&&O.constructor&&O.call&&O.apply),on=()=>{n(6,de=ze(Object.assign({},{width:window.innerWidth,height:window.innerHeight},I.styleBg))),n(7,G=ze(I.styleWindowWrap)),n(8,$=ze(I.styleWindow)),n(9,ce=ze(I.styleContent)),n(10,R=ze(I.styleCloseButton)),n(11,T=I.transitionBg),n(12,V=I.transitionWindow)},je=()=>{};let ft=je,Ke=je,ct=je,qe=je;const mt=(O,Ne={},Me={},he={})=>{n(2,X=Jn(O,Ne)),n(1,I={...q,...Me}),on(),fn(),n(13,ft=Be=>{he.onOpen&&he.onOpen(Be),o("open"),o("opening")}),n(14,Ke=Be=>{he.onClose&&he.onClose(Be),o("close"),o("closing")}),n(15,ct=Be=>{he.onOpened&&he.onOpened(Be),o("opened")}),n(16,qe=Be=>{he.onClosed&&he.onClosed(Be),o("closed")})},Ae=(O={})=>{!X||(n(14,Ke=O.onClose||Ke),n(16,qe=O.onClosed||qe),n(2,X=null),cn())},an=O=>{if(I.closeOnEsc&&X&&O.key==="Escape"&&(O.preventDefault(),Ae()),X&&O.key==="Tab"&&!I.disableFocusTrap){const Ne=te.querySelectorAll("*"),Me=Array.from(Ne).filter(I.isTabbable).sort((Be,hn)=>Be.tabIndex-hn.tabIndex);let he=Me.indexOf(document.activeElement);he===-1&&O.shiftKey&&(he=0),he+=Me.length+(O.shiftKey?-1:1),he%=Me.length,Me[he].focus(),O.preventDefault()}},un=O=>{I.closeOnOuterClick&&(O.target===ee||O.target===ie)&&(ut=O.target)},rn=O=>{I.closeOnOuterClick&&O.target===ut&&(O.preventDefault(),Ae())},fn=()=>{Y=window.scrollY,_e=document.body.style.position,Pe=document.body.style.overflow,at=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${Y}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},cn=()=>{document.body.style.position=_e||"",document.body.style.top="",document.body.style.overflow=Pe||"",document.body.style.width=at||"",window.scrollTo(0,Y)};Z(c,{open:mt,close:Ae});let Ge=!1;An(()=>{Ge&&Ae()}),Pn(()=>{n(46,Ge=!0)});function mn(O){fe[O?"unshift":"push"](()=>{te=O,n(5,te)})}function _n(O){fe[O?"unshift":"push"](()=>{ie=O,n(4,ie)})}function dn(O){fe[O?"unshift":"push"](()=>{ee=O,n(3,ee)})}return t.$$set=O=>{"isTabbable"in O&&n(22,a=O.isTabbable),"show"in O&&n(23,r=O.show),"key"in O&&n(24,c=O.key),"ariaLabel"in O&&n(25,h=O.ariaLabel),"ariaLabelledBy"in O&&n(26,d=O.ariaLabelledBy),"closeButton"in O&&n(27,v=O.closeButton),"closeOnEsc"in O&&n(28,f=O.closeOnEsc),"closeOnOuterClick"in O&&n(29,w=O.closeOnOuterClick),"styleBg"in O&&n(30,k=O.styleBg),"styleWindowWrap"in O&&n(31,y=O.styleWindowWrap),"styleWindow"in O&&n(32,b=O.styleWindow),"styleContent"in O&&n(33,g=O.styleContent),"styleCloseButton"in O&&n(34,C=O.styleCloseButton),"classBg"in O&&n(35,M=O.classBg),"classWindowWrap"in O&&n(36,S=O.classWindowWrap),"classWindow"in O&&n(37,L=O.classWindow),"classContent"in O&&n(38,A=O.classContent),"classCloseButton"in O&&n(39,F=O.classCloseButton),"unstyled"in O&&n(0,j=O.unstyled),"setContext"in O&&n(40,Z=O.setContext),"transitionBg"in O&&n(41,K=O.transitionBg),"transitionBgProps"in O&&n(42,Q=O.transitionBgProps),"transitionWindow"in O&&n(43,U=O.transitionWindow),"transitionWindowProps"in O&&n(44,z=O.transitionWindowProps),"disableFocusTrap"in O&&n(45,se=O.disableFocusTrap),"$$scope"in O&&n(47,i=O.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8388608|t.$$.dirty[1]&32768&&Ge&&(rt(r)?mt(r):Ae())},[j,I,X,ee,ie,te,de,G,$,ce,R,T,V,ft,Ke,ct,qe,rt,Ae,an,un,rn,a,r,c,h,d,v,f,w,k,y,b,g,C,M,S,L,A,F,Z,K,Q,U,z,se,Ge,i,l,mn,_n,dn]}class Un extends we{constructor(e){super(),ve(this,e,Qn,Xn,be,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}const st=[{name:"Dog",hp:3,attack_speed:25,hit_chance:.7,min_damage:1,max_damage:2,image_name:"Dog",stun_chance:0},{name:"Explorer",hp:3,attack_speed:20,hit_chance:.7,min_damage:1,max_damage:1,image_name:"Explorer",stun_chance:0},{name:"Fisher",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Fisherman",stun_chance:0},{name:"Friendly Pirate",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"FriendlyPirate",stun_chance:.15},{name:"Militia",hp:6,attack_speed:15,hit_chance:.8,min_damage:1,max_damage:2,image_name:"Militia",stun_chance:0},{name:"Swordsman",hp:7,attack_speed:15,hit_chance:.9,min_damage:2,max_damage:2,image_name:"Swordman",stun_chance:0},{name:"Trained Monkey",hp:2,attack_speed:25,hit_chance:.6,min_damage:1,max_damage:1,image_name:"TrainedMonkey",stun_chance:0},{name:"Villager",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Villager",stun_chance:0}],it=[{name:"Bear",hp:10,attack_speed:30,hit_chance:.33,min_damage:2,max_damage:4,image_name:"Bear",stun_chance:.1},{name:"Demon",hp:99,attack_speed:15,hit_chance:.75,min_damage:1,max_damage:3,image_name:"Demon",stun_chance:0},{name:"Demon Lord",hp:666,attack_speed:15,hit_chance:.75,min_damage:1,max_damage:3,image_name:"DemonLord",stun_chance:0},{name:"Giant Rat",hp:12,attack_speed:30,hit_chance:.5,min_damage:2,max_damage:2,image_name:"Big-Rat",stun_chance:0},{name:"Goblin",hp:5,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"Goblin",stun_chance:0},{name:"Kraken",hp:150,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Kraken",stun_chance:.1},{name:"Momma Crab",hp:50,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"MammaCrab",stun_chance:.2},{name:"Pirate",hp:3,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"AngryPirate",stun_chance:.2},{name:"Rat",hp:3,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Small-Rat",stun_chance:0},{name:"Seagull",hp:3,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Seagull",stun_chance:0},{name:"Skeleton",hp:5,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:2,image_name:"Skeleton",stun_chance:.1},{name:"Slime",hp:8,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Big-Slime",stun_chance:0},{name:"Small Slime",hp:2,attack_speed:50,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Small-Slime",stun_chance:0},{name:"Snake",hp:3,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Snake",stun_chance:0},{name:"Tentacle",hp:50,attack_speed:20,hit_chance:.4,min_damage:1,max_damage:1,image_name:"Tentacle",stun_chance:.2},{name:"Tiger",hp:5,attack_speed:20,hit_chance:.5,min_damage:2,max_damage:3,image_name:"Tiger",stun_chance:.2},{name:"Wolf",hp:10,attack_speed:30,hit_chance:.33,min_damage:1,max_damage:3,image_name:"Wolf",stun_chance:0}];function xn(t){let e,n;return{c(){e=p("div"),m(e,"class","img svelte-v3nxxj"),m(e,"title",n=t[0].name)},m(l,i){W(l,e,i)},p(l,i){i&1&&n!==(n=l[0].name)&&m(e,"title",n)},d(l){l&&B(e)}}}function $n(t){let e,n,l,i;return{c(){e=p("img"),m(e,"class","img svelte-v3nxxj"),dt(e.src,n="/stacklands-combat-simulator/images/"+t[0].image_name+".png")||m(e,"src",n),m(e,"title",l=t[0].name),m(e,"alt",i=t[0].name),J(e,"enemy",t[1])},m(o,s){W(o,e,s)},p(o,s){s&1&&!dt(e.src,n="/stacklands-combat-simulator/images/"+o[0].image_name+".png")&&m(e,"src",n),s&1&&l!==(l=o[0].name)&&m(e,"title",l),s&1&&i!==(i=o[0].name)&&m(e,"alt",i),s&2&&J(e,"enemy",o[1])},d(o){o&&B(e)}}}function el(t){let e;function n(o,s){return o[0].image_name?$n:xn}let l=n(t),i=l(t);return{c(){i.c(),e=Se()},m(o,s){i.m(o,s),W(o,e,s)},p(o,[s]){l===(l=n(o))&&i?i.p(o,s):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},i:ae,o:ae,d(o){i.d(o),o&&B(e)}}}function tl(t,e,n){let{combatant:l}=e,{isEnemy:i=!1}=e;return t.$$set=o=>{"combatant"in o&&n(0,l=o.combatant),"isEnemy"in o&&n(1,i=o.isEnemy)},[l,i]}class $t extends we{constructor(e){super(),ve(this,e,tl,el,be,{combatant:0,isEnemy:1})}}function nl(t){let e,n,l,i,o,s=t[0].hp+"",u,a,r,c,h,d,v=t[0].attack_speed/10+"",f,w,k,y,b,g,C,M=t[0].hit_chance*100+"",S,L,A,F,j,Z,K,Q=t[0].min_damage+"",U,z=t[0].min_damage!==t[0].max_damage?"-"+t[0].max_damage:"",se,q,I,X,ee,ie,te=t[0].stun_chance*100+"",Y,de;return{c(){e=p("table"),n=p("tr"),l=p("td"),l.textContent="HP:",i=E(),o=p("td"),u=H(s),a=E(),r=p("tr"),c=p("td"),c.textContent="Attack Speed:",h=E(),d=p("td"),f=H(v),w=H("s"),k=E(),y=p("tr"),b=p("td"),b.textContent="Hit Chance:",g=E(),C=p("td"),S=H(M),L=H("%"),A=E(),F=p("tr"),j=p("td"),j.textContent="Damage:",Z=E(),K=p("td"),U=H(Q),se=H(z),q=E(),I=p("tr"),X=p("td"),X.textContent="Stun Chance:",ee=E(),ie=p("td"),Y=H(te),de=H("%"),m(l,"class","svelte-zvmgvg"),m(o,"class","svelte-zvmgvg"),m(c,"class","svelte-zvmgvg"),m(d,"class","svelte-zvmgvg"),m(b,"class","svelte-zvmgvg"),m(C,"class","svelte-zvmgvg"),m(j,"class","svelte-zvmgvg"),m(K,"class","svelte-zvmgvg"),m(X,"class","svelte-zvmgvg"),m(ie,"class","svelte-zvmgvg")},m(G,$){W(G,e,$),_(e,n),_(n,l),_(n,i),_(n,o),_(o,u),_(e,a),_(e,r),_(r,c),_(r,h),_(r,d),_(d,f),_(d,w),_(e,k),_(e,y),_(y,b),_(y,g),_(y,C),_(C,S),_(C,L),_(e,A),_(e,F),_(F,j),_(F,Z),_(F,K),_(K,U),_(K,se),_(e,q),_(e,I),_(I,X),_(I,ee),_(I,ie),_(ie,Y),_(ie,de)},p(G,[$]){$&1&&s!==(s=G[0].hp+"")&&oe(u,s),$&1&&v!==(v=G[0].attack_speed/10+"")&&oe(f,v),$&1&&M!==(M=G[0].hit_chance*100+"")&&oe(S,M),$&1&&Q!==(Q=G[0].min_damage+"")&&oe(U,Q),$&1&&z!==(z=G[0].min_damage!==G[0].max_damage?"-"+G[0].max_damage:"")&&oe(se,z),$&1&&te!==(te=G[0].stun_chance*100+"")&&oe(Y,te)},i:ae,o:ae,d(G){G&&B(e)}}}function ll(t,e,n){let{combatant:l}=e;return t.$$set=i=>{"combatant"in i&&n(0,l=i.combatant)},[l]}class en extends we{constructor(e){super(),ve(this,e,ll,nl,be,{combatant:0})}}function vt(t,e,n){const l=t.slice();return l[17]=e[n],l}function sl(t){let e,n,l,i,o,s,u,a,r,c,h=t[1]?it:st,d=[];for(let f=0;f<h.length;f+=1)d[f]=kt(vt(t,h,f));const v=f=>N(d[f],1,1,()=>{d[f]=null});return{c(){e=p("input"),n=E(),l=p("div");for(let f=0;f<d.length;f+=1)d[f].c();i=E(),o=p("hr"),s=E(),u=p("div"),u.innerHTML="<b>Add Custom Combatant</b>",m(e,"class","search svelte-1fblcp9"),m(e,"type","text"),m(e,"placeholder","Search"),e.autofocus=!0,m(l,"class","container svelte-1fblcp9"),m(u,"class","combatant-row svelte-1fblcp9")},m(f,w){W(f,e,w),x(e,t[2]),W(f,n,w),W(f,l,w);for(let k=0;k<d.length;k+=1)d[k].m(l,null);W(f,i,w),W(f,o,w),W(f,s,w),W(f,u,w),a=!0,e.focus(),r||(c=[D(e,"input",t[14]),D(u,"click",t[16])],r=!0)},p(f,w){if(w&4&&e.value!==f[2]&&x(e,f[2]),w&23){h=f[1]?it:st;let k;for(k=0;k<h.length;k+=1){const y=vt(f,h,k);d[k]?(d[k].p(y,w),P(d[k],1)):(d[k]=kt(y),d[k].c(),P(d[k],1),d[k].m(l,null))}for(ge(),k=h.length;k<d.length;k+=1)v(k);pe()}},i(f){if(!a){for(let w=0;w<h.length;w+=1)P(d[w]);a=!0}},o(f){d=d.filter(Boolean);for(let w=0;w<d.length;w+=1)N(d[w]);a=!1},d(f){f&&B(e),f&&B(n),f&&B(l),Oe(d,f),f&&B(i),f&&B(o),f&&B(s),f&&B(u),r=!1,me(c)}}}function il(t){let e,n,l,i,o,s,u,a,r,c,h,d,v,f,w,k,y,b,g,C,M,S,L,A,F,j,Z,K,Q,U,z,se,q,I,X,ee,ie,te,Y,de,G,$,ce,R;return{c(){e=p("table"),n=p("tr"),l=p("td"),l.textContent="Name:",i=E(),o=p("td"),s=p("input"),u=E(),a=p("tr"),r=p("td"),r.textContent="HP:",c=E(),h=p("td"),d=p("input"),v=E(),f=p("tr"),w=p("td"),w.textContent="Attack Speed:",k=E(),y=p("td"),b=p("input"),g=E(),C=p("tr"),M=p("td"),M.textContent="Hit Chance:",S=E(),L=p("td"),A=p("input"),F=H(" %"),j=E(),Z=p("tr"),K=p("td"),K.textContent="Damage:",Q=E(),U=p("td"),z=p("input"),se=H(`
        \u2013
        `),q=p("input"),I=E(),X=p("tr"),ee=p("td"),ee.textContent="Stun Chance:",ie=E(),te=p("td"),Y=p("input"),de=H(" %"),G=E(),$=p("div"),$.innerHTML='<button class="button button-primary">Add</button>',m(l,"class","svelte-1fblcp9"),m(s,"type","text"),m(o,"class","svelte-1fblcp9"),m(r,"class","svelte-1fblcp9"),m(d,"type","number"),m(d,"min","0"),m(d,"step","1"),m(d,"max","9999"),m(h,"class","svelte-1fblcp9"),m(w,"class","svelte-1fblcp9"),m(b,"type","number"),m(b,"min","0.1"),m(b,"step","0.1"),m(b,"max","99"),m(y,"class","svelte-1fblcp9"),m(M,"class","svelte-1fblcp9"),m(A,"type","number"),m(A,"min","0"),m(A,"step","1"),m(A,"max","99"),m(L,"class","svelte-1fblcp9"),m(K,"class","svelte-1fblcp9"),m(z,"type","number"),m(z,"min","0"),m(z,"max","99"),m(z,"step","1"),m(q,"type","number"),m(q,"min","0"),m(q,"max","99"),m(q,"step","1"),m(U,"class","svelte-1fblcp9"),m(ee,"class","svelte-1fblcp9"),m(Y,"type","number"),m(Y,"min","0"),m(Y,"step","1"),m(Y,"max","99"),m(te,"class","svelte-1fblcp9"),m($,"class","button-container svelte-1fblcp9")},m(T,V){W(T,e,V),_(e,n),_(n,l),_(n,i),_(n,o),_(o,s),x(s,t[3].name),_(e,u),_(e,a),_(a,r),_(a,c),_(a,h),_(h,d),x(d,t[3].hp),_(e,v),_(e,f),_(f,w),_(f,k),_(f,y),_(y,b),x(b,t[3].attack_speed),_(e,g),_(e,C),_(C,M),_(C,S),_(C,L),_(L,A),x(A,t[3].hit_chance),_(L,F),_(e,j),_(e,Z),_(Z,K),_(Z,Q),_(Z,U),_(U,z),x(z,t[3].min_damage),_(U,se),_(U,q),x(q,t[3].max_damage),_(e,I),_(e,X),_(X,ee),_(X,ie),_(X,te),_(te,Y),x(Y,t[3].stun_chance),_(te,de),W(T,G,V),W(T,$,V),ce||(R=[D(s,"input",t[6]),D(d,"input",t[7]),D(b,"input",t[8]),D(A,"input",t[9]),D(z,"input",t[10]),D(q,"input",t[11]),D(Y,"input",t[12]),D($,"click",t[13])],ce=!0)},p(T,V){V&8&&s.value!==T[3].name&&x(s,T[3].name),V&8&&re(d.value)!==T[3].hp&&x(d,T[3].hp),V&8&&re(b.value)!==T[3].attack_speed&&x(b,T[3].attack_speed),V&8&&re(A.value)!==T[3].hit_chance&&x(A,T[3].hit_chance),V&8&&re(z.value)!==T[3].min_damage&&x(z,T[3].min_damage),V&8&&re(q.value)!==T[3].max_damage&&x(q,T[3].max_damage),V&8&&re(Y.value)!==T[3].stun_chance&&x(Y,T[3].stun_chance)},i:ae,o:ae,d(T){T&&B(e),T&&B(G),T&&B($),ce=!1,me(R)}}}function wt(t){let e,n,l,i,o,s=t[17].name+"",u,a,r,c,h,d,v;l=new $t({props:{combatant:t[17],isEnemy:t[1]}}),r=new en({props:{combatant:t[17]}});function f(){return t[15](t[17])}return{c(){e=p("div"),n=p("div"),ue(l.$$.fragment),i=E(),o=p("b"),u=H(s),a=E(),ue(r.$$.fragment),c=E(),m(n,"class","combatant-side svelte-1fblcp9"),m(e,"class","combatant-row svelte-1fblcp9")},m(w,k){W(w,e,k),_(e,n),ne(l,n,null),_(n,i),_(n,o),_(o,u),_(e,a),ne(r,e,null),_(e,c),h=!0,d||(v=D(e,"click",f),d=!0)},p(w,k){t=w;const y={};k&2&&(y.combatant=t[17]),k&2&&(y.isEnemy=t[1]),l.$set(y),(!h||k&2)&&s!==(s=t[17].name+"")&&oe(u,s);const b={};k&2&&(b.combatant=t[17]),r.$set(b)},i(w){h||(P(l.$$.fragment,w),P(r.$$.fragment,w),h=!0)},o(w){N(l.$$.fragment,w),N(r.$$.fragment,w),h=!1},d(w){w&&B(e),le(l),le(r),d=!1,v()}}}function kt(t){let e=!t[2]||t[17].name.match(t[4]),n,l,i=e&&wt(t);return{c(){i&&i.c(),n=Se()},m(o,s){i&&i.m(o,s),W(o,n,s),l=!0},p(o,s){s&22&&(e=!o[2]||o[17].name.match(o[4])),e?i?(i.p(o,s),s&22&&P(i,1)):(i=wt(o),i.c(),P(i,1),i.m(n.parentNode,n)):i&&(ge(),N(i,1,1,()=>{i=null}),pe())},i(o){l||(P(i),l=!0)},o(o){N(i),l=!1},d(o){i&&i.d(o),o&&B(n)}}}function ol(t){let e,n,l,i,o,s;const u=[il,sl],a=[];function r(c,h){return c[3]?0:1}return l=r(t),i=a[l]=u[l](t),{c(){e=p("h2"),e.textContent="Add Combatant",n=E(),i.c(),o=Se(),m(e,"class","svelte-1fblcp9")},m(c,h){W(c,e,h),W(c,n,h),a[l].m(c,h),W(c,o,h),s=!0},p(c,[h]){let d=l;l=r(c),l===d?a[l].p(c,h):(ge(),N(a[d],1,1,()=>{a[d]=null}),pe(),i=a[l],i?i.p(c,h):(i=a[l]=u[l](c),i.c()),P(i,1),i.m(o.parentNode,o))},i(c){s||(P(i),s=!0)},o(c){N(i),s=!1},d(c){c&&B(e),c&&B(n),a[l].d(c),c&&B(o)}}}function al(t,e,n){let l,{add:i}=e,{isEnemy:o}=e,s="";const u={name:"",hp:5,attack_speed:2.5,hit_chance:50,min_damage:1,max_damage:3,stun_chance:0};let a=null;function r(){a.name=this.value,n(3,a)}function c(){a.hp=re(this.value),n(3,a)}function h(){a.attack_speed=re(this.value),n(3,a)}function d(){a.hit_chance=re(this.value),n(3,a)}function v(){a.min_damage=re(this.value),n(3,a)}function f(){a.max_damage=re(this.value),n(3,a)}function w(){a.stun_chance=re(this.value),n(3,a)}const k=()=>{!a||(n(3,a.attack_speed*=10,a),n(3,a.hit_chance/=100,a),n(3,a.stun_chance/=100,a),a.name||n(3,a.name="Custom",a),i(a))};function y(){s=this.value,n(2,s)}const b=C=>i(C),g=()=>n(3,a={...u});return t.$$set=C=>{"add"in C&&n(0,i=C.add),"isEnemy"in C&&n(1,o=C.isEnemy)},t.$$.update=()=>{t.$$.dirty&4&&n(4,l=new RegExp(s,"ig"))},[i,o,s,a,l,u,r,c,h,d,v,f,w,k,y,b,g]}class ul extends we{constructor(e){super(),ve(this,e,al,ol,be,{add:0,isEnemy:1})}}function rl(t){let e,n,l=t[0].count+"",i,o,s,u,a;return{c(){e=p("button"),e.textContent="\u2212",n=E(),i=H(l),o=E(),s=p("button"),s.textContent="+",m(e,"title","Hold Shift to decrease by 10"),m(e,"class","svelte-zkxo52"),J(e,"red",t[0].count===1),m(s,"title","Hold Shift to increase by 10"),m(s,"class","svelte-zkxo52")},m(r,c){W(r,e,c),W(r,n,c),W(r,i,c),W(r,o,c),W(r,s,c),u||(a=[D(e,"click",t[8]),D(s,"click",t[9])],u=!0)},p(r,c){c&1&&J(e,"red",r[0].count===1),c&1&&l!==(l=r[0].count+"")&&oe(i,l)},d(r){r&&B(e),r&&B(n),r&&B(i),r&&B(o),r&&B(s),u=!1,me(a)}}}function fl(t){let e,n,l,i,o;return{c(){e=p("input"),n=H(`
      \u2013
      `),l=p("input"),m(e,"type","number"),m(e,"min","1"),m(e,"max","99"),m(e,"step","1"),m(e,"class","svelte-zkxo52"),m(l,"type","number"),m(l,"maxlength","2"),m(l,"min","1"),m(l,"max","99"),m(l,"step","1"),m(l,"class","svelte-zkxo52")},m(s,u){W(s,e,u),x(e,t[0].min_count),W(s,n,u),W(s,l,u),x(l,t[0].max_count),i||(o=[D(e,"input",t[4]),D(e,"change",t[5]),D(l,"input",t[6]),D(l,"change",t[7])],i=!0)},p(s,u){u&1&&re(e.value)!==s[0].min_count&&x(e,s[0].min_count),u&1&&re(l.value)!==s[0].max_count&&x(l,s[0].max_count)},d(s){s&&B(e),s&&B(n),s&&B(l),i=!1,me(o)}}}function cl(t){let e,n,l,i,o,s,u=t[0].name+"",a,r,c,h,d,v,f,w=t[0].vary?"1":"\u2194",k,y,b,g,C;i=new $t({props:{combatant:t[0],isEnemy:t[1]}}),c=new en({props:{combatant:t[0]}});function M(A,F){return A[0].vary?fl:rl}let S=M(t),L=S(t);return{c(){e=p("div"),n=p("button"),n.textContent="\u274C",l=E(),ue(i.$$.fragment),o=E(),s=p("b"),a=H(u),r=E(),ue(c.$$.fragment),h=E(),d=p("div"),L.c(),v=E(),f=p("button"),k=H(w),m(n,"class","delete svelte-zkxo52"),m(f,"class","switch svelte-zkxo52"),m(f,"title",y=t[0].vary?"Switch to setting a single value":"Switch to setting a range of values"),m(d,"class","row svelte-zkxo52"),J(d,"vary",!!t[0].vary),m(e,"class","container svelte-zkxo52")},m(A,F){W(A,e,F),_(e,n),_(e,l),ne(i,e,null),_(e,o),_(e,s),_(s,a),_(e,r),ne(c,e,null),_(e,h),_(e,d),L.m(d,null),_(d,v),_(d,f),_(f,k),b=!0,g||(C=[D(n,"click",t[3]),D(f,"click",t[10])],g=!0)},p(A,[F]){const j={};F&1&&(j.combatant=A[0]),F&2&&(j.isEnemy=A[1]),i.$set(j),(!b||F&1)&&u!==(u=A[0].name+"")&&oe(a,u);const Z={};F&1&&(Z.combatant=A[0]),c.$set(Z),S===(S=M(A))&&L?L.p(A,F):(L.d(1),L=S(A),L&&(L.c(),L.m(d,v))),(!b||F&1)&&w!==(w=A[0].vary?"1":"\u2194")&&oe(k,w),(!b||F&1&&y!==(y=A[0].vary?"Switch to setting a single value":"Switch to setting a range of values"))&&m(f,"title",y),F&1&&J(d,"vary",!!A[0].vary)},i(A){b||(P(i.$$.fragment,A),P(c.$$.fragment,A),b=!0)},o(A){N(i.$$.fragment,A),N(c.$$.fragment,A),b=!1},d(A){A&&B(e),le(i),le(c),L.d(),g=!1,me(C)}}}function ml(t,e,n){let{combatant:l}=e,{isEnemy:i=!1}=e,{remove:o}=e;const s=()=>o(l);function u(){l.min_count=re(this.value),n(0,l)}const a=()=>{l.min_count||n(0,l.min_count=1,l),(!l.max_count||l.min_count>l.max_count)&&n(0,l.max_count=l.min_count,l)};function r(){l.max_count=re(this.value),n(0,l)}const c=()=>{l.max_count||n(0,l.max_count=1,l),(!l.min_count||l.max_count<l.min_count)&&n(0,l.min_count=l.max_count,l)},h=f=>{l.count===1?o(l):(n(0,l.count-=f.shiftKey?10:1,l),l.count<1&&n(0,l.count=1,l))},d=f=>{n(0,l.count+=f.shiftKey?10:1,l)},v=()=>{n(0,l.vary=!l.vary,l),l.vary&&(n(0,l.min_count=l.count,l),n(0,l.max_count=l.count,l))};return t.$$set=f=>{"combatant"in f&&n(0,l=f.combatant),"isEnemy"in f&&n(1,i=f.isEnemy),"remove"in f&&n(2,o=f.remove)},[l,i,o,s,u,a,r,c,h,d,v]}class tn extends we{constructor(e){super(),ve(this,e,ml,cl,be,{combatant:0,isEnemy:1,remove:2})}}function yt(t,e,n){const l=t.slice();return l[10]=e[n],l[11]=e,l[12]=n,l}function St(t,e,n){const l=t.slice();return l[13]=e[n],l[14]=e,l[15]=n,l}function Ct(t){let e,n,l;function i(s){t[4](s,t[13],t[14],t[15])}let o={remove:t[3]};return t[13]!==void 0&&(o.combatant=t[13]),e=new tn({props:o}),fe.push(()=>ye(e,"combatant",i)),{c(){ue(e.$$.fragment)},m(s,u){ne(e,s,u),l=!0},p(s,u){t=s;const a={};u&1&&(a.remove=t[3]),!n&&u&1&&(n=!0,a.combatant=t[13],ke(()=>n=!1)),e.$set(a)},i(s){l||(P(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){le(e,s)}}}function Mt(t){let e,n,l;function i(s){t[7](s,t[10],t[11],t[12])}let o={isEnemy:!0,remove:t[6]};return t[10]!==void 0&&(o.combatant=t[10]),e=new tn({props:o}),fe.push(()=>ye(e,"combatant",i)),{c(){ue(e.$$.fragment)},m(s,u){ne(e,s,u),l=!0},p(s,u){t=s;const a={};u&2&&(a.remove=t[6]),!n&&u&2&&(n=!0,a.combatant=t[10],ke(()=>n=!1)),e.$set(a)},i(s){l||(P(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){le(e,s)}}}function _l(t){let e,n,l,i,o,s,u,a,r,c,h,d,v=t[0],f=[];for(let g=0;g<v.length;g+=1)f[g]=Ct(St(t,v,g));const w=g=>N(f[g],1,1,()=>{f[g]=null});let k=t[1],y=[];for(let g=0;g<k.length;g+=1)y[g]=Mt(yt(t,k,g));const b=g=>N(y[g],1,1,()=>{y[g]=null});return{c(){e=p("div");for(let g=0;g<f.length;g+=1)f[g].c();n=E(),l=p("button"),l.innerHTML='<img src="/images/plus.png" alt="Add new combatant" title="Add combatant" width="100" height="100" class="svelte-1ax4x69"/>',i=E(),o=p("div"),s=E(),u=p("div");for(let g=0;g<y.length;g+=1)y[g].c();a=E(),r=p("button"),r.innerHTML='<img src="/images/plus.png" alt="Add new combatant" title="Add combatant" width="100" height="100" class="svelte-1ax4x69"/>',m(l,"class","new svelte-1ax4x69"),m(e,"class","row svelte-1ax4x69"),m(o,"class","divider svelte-1ax4x69"),m(r,"class","new svelte-1ax4x69"),m(u,"class","row svelte-1ax4x69")},m(g,C){W(g,e,C);for(let M=0;M<f.length;M+=1)f[M].m(e,null);_(e,n),_(e,l),W(g,i,C),W(g,o,C),W(g,s,C),W(g,u,C);for(let M=0;M<y.length;M+=1)y[M].m(u,null);_(u,a),_(u,r),c=!0,h||(d=[D(l,"click",t[5]),D(r,"click",t[8])],h=!0)},p(g,[C]){if(C&1){v=g[0];let M;for(M=0;M<v.length;M+=1){const S=St(g,v,M);f[M]?(f[M].p(S,C),P(f[M],1)):(f[M]=Ct(S),f[M].c(),P(f[M],1),f[M].m(e,n))}for(ge(),M=v.length;M<f.length;M+=1)w(M);pe()}if(C&2){k=g[1];let M;for(M=0;M<k.length;M+=1){const S=yt(g,k,M);y[M]?(y[M].p(S,C),P(y[M],1)):(y[M]=Mt(S),y[M].c(),P(y[M],1),y[M].m(u,a))}for(ge(),M=k.length;M<y.length;M+=1)b(M);pe()}},i(g){if(!c){for(let C=0;C<v.length;C+=1)P(f[C]);for(let C=0;C<k.length;C+=1)P(y[C]);c=!0}},o(g){f=f.filter(Boolean);for(let C=0;C<f.length;C+=1)N(f[C]);y=y.filter(Boolean);for(let C=0;C<y.length;C+=1)N(y[C]);c=!1},d(g){g&&B(e),Oe(f,g),g&&B(i),g&&B(o),g&&B(s),g&&B(u),Oe(y,g),h=!1,me(d)}}}function dl(t,e,n){let{villagerSetup:l}=e,{enemySetup:i}=e;const o=Nn("simple-modal"),s=v=>{o.open(ul,{add:f=>{const w={...f,count:1};v?(i.push(w),n(1,i)):(l.push(w),n(0,l)),o.close()},isEnemy:v},{closeButton:!1,styleContent:{padding:"24px"},styleWindow:{background:"var(--card-bg)",color:"var(--text)",width:"400px"}})},u=v=>n(0,l=l.filter(f=>f!==v));function a(v,f,w,k){w[k]=v,n(0,l)}const r=()=>s(!1),c=v=>n(1,i=i.filter(f=>f!==v));function h(v,f,w,k){w[k]=v,n(1,i)}const d=()=>s(!0);return t.$$set=v=>{"villagerSetup"in v&&n(0,l=v.villagerSetup),"enemySetup"in v&&n(1,i=v.enemySetup)},[l,i,s,u,a,r,c,h,d]}class hl extends we{constructor(e){super(),ve(this,e,dl,_l,be,{villagerSetup:0,enemySetup:1})}}function Bt(t,e,n){const l=t.slice();return l[8]=e[n],l[10]=n,l}function Wt(t,e,n){const l=t.slice();return l[11]=e[n],l[10]=n,l}function Ot(t){let e,n=90-t[10]*10+"",l,i,o=100-t[10]*10+"",s,u,a,r,c,h,d;return{c(){e=p("div"),l=H(n),i=H("-"),s=H(o),u=H("%"),a=E(),r=p("div"),c=p("div"),h=E(),m(e,"class","label svelte-170nl0e"),m(c,"class","demon-hp svelte-170nl0e"),Ee(c,"width",100*t[11]/t[3]+"%"),m(r,"class","bar svelte-170nl0e"),m(r,"data-title",d=(100*t[11]/t[2]).toFixed(2)+" %")},m(v,f){W(v,e,f),_(e,l),_(e,i),_(e,s),_(e,u),W(v,a,f),W(v,r,f),_(r,c),_(r,h)},p(v,f){f&9&&Ee(c,"width",100*v[11]/v[3]+"%"),f&5&&d!==(d=(100*v[11]/v[2]).toFixed(2)+" %")&&m(r,"data-title",d)},d(v){v&&B(e),v&&B(a),v&&B(r)}}}function Et(t){let e,n=t[10]+1+"",l,i,o,s,u,a;return{c(){e=p("div"),l=H(n),i=E(),o=p("div"),s=p("div"),u=E(),m(e,"class","label svelte-170nl0e"),m(s,"class","villagers svelte-170nl0e"),Ee(s,"width",100*t[8]/t[3]+"%"),m(o,"class","bar svelte-170nl0e"),m(o,"data-title",a=(100*t[8]/t[2]).toFixed(2)+" %")},m(r,c){W(r,e,c),_(e,l),W(r,i,c),W(r,o,c),_(o,s),_(o,u)},p(r,c){c&9&&Ee(s,"width",100*r[8]/r[3]+"%"),c&5&&a!==(a=(100*r[8]/r[2]).toFixed(2)+" %")&&m(o,"data-title",a)},d(r){r&&B(e),r&&B(i),r&&B(o)}}}function gl(t){let e,n,l,i,o,s,u,a,r,c,h,d,v,f=t[0].enemy_hp,w=[];for(let b=0;b<f.length;b+=1)w[b]=Ot(Wt(t,f,b));let k=t[0].village_survivors,y=[];for(let b=0;b<k.length;b+=1)y[b]=Et(Bt(t,k,b));return{c(){e=p("b"),e.textContent="Lefover Enemy HP",n=E(),l=p("div");for(let b=0;b<w.length;b+=1)w[b].c();i=E(),o=p("br"),s=E(),u=p("b"),u.textContent="Leftover Villagers",a=E(),r=p("div");for(let b=0;b<y.length;b+=1)y[b].c();c=E(),h=p("div"),m(l,"class","stats-graph svelte-170nl0e"),m(r,"class","stats-graph svelte-170nl0e"),m(h,"class","tooltip hidden svelte-170nl0e")},m(b,g){W(b,e,g),W(b,n,g),W(b,l,g);for(let C=0;C<w.length;C+=1)w[C].m(l,null);W(b,i,g),W(b,o,g),W(b,s,g),W(b,u,g),W(b,a,g),W(b,r,g);for(let C=0;C<y.length;C+=1)y[C].m(r,null);W(b,c,g),W(b,h,g),t[7](h),d||(v=[D(l,"mousemove",t[4]),D(l,"mouseleave",t[5]),D(r,"mousemove",t[4]),D(r,"mouseleave",t[6])],d=!0)},p(b,[g]){if(g&13){f=b[0].enemy_hp;let C;for(C=0;C<f.length;C+=1){const M=Wt(b,f,C);w[C]?w[C].p(M,g):(w[C]=Ot(M),w[C].c(),w[C].m(l,null))}for(;C<w.length;C+=1)w[C].d(1);w.length=f.length}if(g&13){k=b[0].village_survivors;let C;for(C=0;C<k.length;C+=1){const M=Bt(b,k,C);y[C]?y[C].p(M,g):(y[C]=Et(M),y[C].c(),y[C].m(r,null))}for(;C<y.length;C+=1)y[C].d(1);y.length=k.length}},i:ae,o:ae,d(b){b&&B(e),b&&B(n),b&&B(l),Oe(w,b),b&&B(i),b&&B(o),b&&B(s),b&&B(u),b&&B(a),b&&B(r),Oe(y,b),b&&B(c),b&&B(h),t[7](null),d=!1,me(v)}}}function pl(t,e,n){let l,i,{result:o}=e,s;const u=h=>{let d=h.target;if(d&&!d.dataset.title&&(d=d.parentElement),!d||!d.dataset.title){s.classList.add("hidden");return}s.classList.remove("hidden"),n(1,s.innerText=d.dataset.title,s),n(1,s.style.top=h.clientY-25+"px",s),n(1,s.style.left=h.clientX+"px",s)},a=()=>s.classList.add("hidden"),r=()=>s.classList.add("hidden");function c(h){fe[h?"unshift":"push"](()=>{s=h,n(1,s)})}return t.$$set=h=>{"result"in h&&n(0,o=h.result)},t.$$.update=()=>{t.$$.dirty&1&&n(3,l=Math.max(...o.enemy_hp,...o.village_survivors)),t.$$.dirty&1&&n(2,i=[...o.enemy_hp,...o.village_survivors].reduce((h,d)=>h+d,0))},[o,s,i,l,u,a,r,c]}class bl extends we{constructor(e){super(),ve(this,e,pl,gl,be,{result:0})}}function Lt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function Tt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function tt(t){const e=t.slice(),n=e[3](e[0].villagerSetup);e[4]=n;const l=e[3](e[0].enemySetup);return e[5]=l,e}function Pt(t){let e,n,l,i=t[4].length>0&&At(t),o=t[4].length>0&&t[5].length>0&&Nt(),s=t[5].length>0&&Dt(t);return{c(){e=p("div"),i&&i.c(),n=E(),o&&o.c(),l=E(),s&&s.c()},m(u,a){W(u,e,a),i&&i.m(e,null),_(e,n),o&&o.m(e,null),_(e,l),s&&s.m(e,null)},p(u,a){u[4].length>0?i?i.p(u,a):(i=At(u),i.c(),i.m(e,n)):i&&(i.d(1),i=null),u[4].length>0&&u[5].length>0?o||(o=Nt(),o.c(),o.m(e,l)):o&&(o.d(1),o=null),u[5].length>0?s?s.p(u,a):(s=Dt(u),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(u){u&&B(e),i&&i.d(),o&&o.d(),s&&s.d()}}}function At(t){let e,n=t[4],l=[];for(let i=0;i<n.length;i+=1)l[i]=zt(Tt(t,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=Se()},m(i,o){for(let s=0;s<l.length;s+=1)l[s].m(i,o);W(i,e,o)},p(i,o){if(o&9){n=i[4];let s;for(s=0;s<n.length;s+=1){const u=Tt(i,n,s);l[s]?l[s].p(u,o):(l[s]=zt(u),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(i){Oe(l,i),i&&B(e)}}}function Rt(t){let e;return{c(){e=H("/")},m(n,l){W(n,e,l)},d(n){n&&B(e)}}}function zt(t){let e,n=t[6].count+"",l,i,o,s,u=t[8]!==t[4].length-1&&Rt();return{c(){e=p("span"),l=H(n),o=E(),u&&u.c(),s=Se(),m(e,"title",i=t[6].name)},m(a,r){W(a,e,r),_(e,l),W(a,o,r),u&&u.m(a,r),W(a,s,r)},p(a,r){r&1&&n!==(n=a[6].count+"")&&oe(l,n),r&1&&i!==(i=a[6].name)&&m(e,"title",i),a[8]!==a[4].length-1?u||(u=Rt(),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},d(a){a&&B(e),a&&B(o),u&&u.d(a),a&&B(s)}}}function Nt(t){let e;return{c(){e=H("|")},m(n,l){W(n,e,l)},d(n){n&&B(e)}}}function Dt(t){let e,n=t[5],l=[];for(let i=0;i<n.length;i+=1)l[i]=Ht(Lt(t,n,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=Se()},m(i,o){for(let s=0;s<l.length;s+=1)l[s].m(i,o);W(i,e,o)},p(i,o){if(o&9){n=i[5];let s;for(s=0;s<n.length;s+=1){const u=Lt(i,n,s);l[s]?l[s].p(u,o):(l[s]=Ht(u),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(i){Oe(l,i),i&&B(e)}}}function Ft(t){let e;return{c(){e=H("/")},m(n,l){W(n,e,l)},d(n){n&&B(e)}}}function Ht(t){let e,n=t[6].count+"",l,i,o,s,u=t[8]!==t[5].length-1&&Ft();return{c(){e=p("span"),l=H(n),o=E(),u&&u.c(),s=Se(),m(e,"title",i=t[6].name)},m(a,r){W(a,e,r),_(e,l),W(a,o,r),u&&u.m(a,r),W(a,s,r)},p(a,r){r&1&&n!==(n=a[6].count+"")&&oe(l,n),r&1&&i!==(i=a[6].name)&&m(e,"title",i),a[8]!==a[5].length-1?u||(u=Ft(),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},d(a){a&&B(e),a&&B(o),u&&u.d(a),a&&B(s)}}}function vl(t){let e,n,l=t[0].monthStart+"",i,o,s,u,a,r,c,h,d=`${t[2]}%`,v,f,w=Math.floor(t[0].total_length/t[0].iters)+"",k,y,b,g=t[0].longest+"",C,M=t[1]&&Pt(tt(t));return{c(){M&&M.c(),e=E(),n=p("div"),i=H(l),o=E(),s=p("div"),u=H(t[2]),a=H(" %"),r=E(),c=p("div"),h=p("div"),v=E(),f=p("div"),k=H(w),y=E(),b=p("div"),C=H(g),m(h,"class","win-rate-bar-inner svelte-118pgso"),Ee(h,"width",d,!1),m(c,"class","win-rate-bar svelte-118pgso")},m(S,L){M&&M.m(S,L),W(S,e,L),W(S,n,L),_(n,i),W(S,o,L),W(S,s,L),_(s,u),_(s,a),W(S,r,L),W(S,c,L),_(c,h),W(S,v,L),W(S,f,L),_(f,k),W(S,y,L),W(S,b,L),_(b,C)},p(S,[L]){S[1]?M?M.p(tt(S),L):(M=Pt(tt(S)),M.c(),M.m(e.parentNode,e)):M&&(M.d(1),M=null),L&1&&l!==(l=S[0].monthStart+"")&&oe(i,l),L&4&&oe(u,S[2]),L&4&&d!==(d=`${S[2]}%`)&&Ee(h,"width",d,!1),L&1&&w!==(w=Math.floor(S[0].total_length/S[0].iters)+"")&&oe(k,w),L&1&&g!==(g=S[0].longest+"")&&oe(C,g)},i:ae,o:ae,d(S){M&&M.d(S),S&&B(e),S&&B(n),S&&B(o),S&&B(s),S&&B(r),S&&B(c),S&&B(v),S&&B(f),S&&B(y),S&&B(b)}}}function wl(t,e,n){let l,{result:i}=e,{showSetup:o}=e;const s=u=>{const a=[];for(const r of u)r.vary&&a.push(r);return a};return t.$$set=u=>{"result"in u&&n(0,i=u.result),"showSetup"in u&&n(1,o=u.showSetup)},t.$$.update=()=>{t.$$.dirty&1&&n(2,l=(100*i.wins/i.iters).toFixed(2))},[i,o,l,s]}class nn extends we{constructor(e){super(),ve(this,e,wl,vl,be,{result:0,showSetup:1})}}function It(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function kl(t){const e=t.slice(),n=e[0]===null?e[2][0]:e[2][e[0]];return e[11]=n,e}function Vt(t){let e;return{c(){e=p("span"),e.textContent="Setup"},m(n,l){W(n,e,l)},d(n){n&&B(e)}}}function yl(t){let e,n,l=t[2],i=[];for(let s=0;s<l.length;s+=1)i[s]=jt(It(t,l,s));const o=s=>N(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=Se()},m(s,u){for(let a=0;a<i.length;a+=1)i[a].m(s,u);W(s,e,u),n=!0},p(s,u){if(u&7){l=s[2];let a;for(a=0;a<l.length;a+=1){const r=It(s,l,a);i[a]?(i[a].p(r,u),P(i[a],1)):(i[a]=jt(r),i[a].c(),P(i[a],1),i[a].m(e.parentNode,e))}for(ge(),a=l.length;a<i.length;a+=1)o(a);pe()}},i(s){if(!n){for(let u=0;u<l.length;u+=1)P(i[u]);n=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)N(i[u]);n=!1},d(s){Oe(i,s),s&&B(e)}}}function Sl(t){let e,n,l,i,o,s,u,a,r;return n=new nn({props:{result:t[11],showSetup:t[1]}}),s=new bl({props:{result:t[11]}}),{c(){e=p("div"),ue(n.$$.fragment),l=E(),i=p("br"),o=E(),ue(s.$$.fragment),m(e,"class","row svelte-bzckt0"),J(e,"showSetup",t[1]),J(e,"no-hover",t[0]===null)},m(c,h){W(c,e,h),ne(n,e,null),W(c,l,h),W(c,i,h),W(c,o,h),ne(s,c,h),u=!0,a||(r=D(e,"click",t[6]),a=!0)},p(c,h){const d={};h&5&&(d.result=c[11]),h&2&&(d.showSetup=c[1]),n.$set(d),h&2&&J(e,"showSetup",c[1]),h&1&&J(e,"no-hover",c[0]===null);const v={};h&5&&(v.result=c[11]),s.$set(v)},i(c){u||(P(n.$$.fragment,c),P(s.$$.fragment,c),u=!0)},o(c){N(n.$$.fragment,c),N(s.$$.fragment,c),u=!1},d(c){c&&B(e),le(n),c&&B(l),c&&B(i),c&&B(o),le(s,c),a=!1,r()}}}function jt(t){let e,n,l,i,o,s;n=new nn({props:{result:t[11],showSetup:t[1]}});function u(){return t[7](t[13])}return{c(){e=p("div"),ue(n.$$.fragment),l=E(),m(e,"class","row svelte-bzckt0"),J(e,"showSetup",t[1])},m(a,r){W(a,e,r),ne(n,e,null),_(e,l),i=!0,o||(s=D(e,"click",u),o=!0)},p(a,r){t=a;const c={};r&4&&(c.result=t[11]),r&2&&(c.showSetup=t[1]),n.$set(c),r&2&&J(e,"showSetup",t[1])},i(a){i||(P(n.$$.fragment,a),i=!0)},o(a){N(n.$$.fragment,a),i=!1},d(a){a&&B(e),le(n),o=!1,s()}}}function Cl(t){let e,n,l,i,o,s,u,a,r,c,h,d,v,f,w,k,y=t[1]&&Vt();const b=[Sl,yl],g=[];function C(S,L){return S[0]!==null||S[2].length===1?0:1}function M(S,L){return L===0?kl(S):S}return v=C(t),f=g[v]=b[v](M(t,v)),{c(){e=p("b"),y&&y.c(),n=E(),l=p("span"),l.textContent="Start (s)",i=E(),o=p("span"),o.textContent="Win Rate",s=E(),u=p("span"),a=E(),r=p("span"),r.textContent="Avg Length (s)",c=E(),h=p("span"),h.textContent="Longest (s)",d=E(),f.c(),w=Se(),m(e,"class","row svelte-bzckt0"),J(e,"showSetup",t[1])},m(S,L){W(S,e,L),y&&y.m(e,null),_(e,n),_(e,l),_(e,i),_(e,o),_(e,s),_(e,u),_(e,a),_(e,r),_(e,c),_(e,h),W(S,d,L),g[v].m(S,L),W(S,w,L),k=!0},p(S,[L]){S[1]?y||(y=Vt(),y.c(),y.m(e,n)):y&&(y.d(1),y=null),L&2&&J(e,"showSetup",S[1]);let A=v;v=C(S),v===A?g[v].p(M(S,v),L):(ge(),N(g[A],1,1,()=>{g[A]=null}),pe(),f=g[v],f?f.p(M(S,v),L):(f=g[v]=b[v](M(S,v)),f.c()),P(f,1),f.m(w.parentNode,w))},i(S){k||(P(f),k=!0)},o(S){N(f),k=!1},d(S){S&&B(e),y&&y.d(),S&&B(d),g[v].d(S),S&&B(w)}}}function Ml(t,e,n){let l,i,{results:o}=e,{onlyShowOptimal:s}=e,u=null;const a=()=>{n(0,u=null)},r=(f,w)=>{for(const k in f.villagerSetup)if(f.villagerSetup[k].count!==w.villagerSetup[k].count)return!1;for(const k in f.enemySetup)if(f.enemySetup[k].count!==w.enemySetup[k].count)return!1;return!0},c=(f,w)=>{if(f.wins>w.wins)return!0;if(f.wins<w.wins)return!1;const k=f.village_survivors.map((b,g)=>b*(g+1)).reduce((b,g)=>b+g,0),y=w.village_survivors.map((b,g)=>b*(g+1)).reduce((b,g)=>b+g,0);return k>y},h=(f,w)=>{if(!w)return f;let k=null,y=[];for(const b of f)!k||!r(k,b)?(k&&y.push(k),k=b):c(b,k)&&(k=b);return k&&y.push(k),y},d=()=>n(0,u=null),v=f=>n(0,u=f);return t.$$set=f=>{"results"in f&&n(3,o=f.results),"onlyShowOptimal"in f&&n(4,s=f.onlyShowOptimal)},t.$$.update=()=>{t.$$.dirty&24&&n(2,l=h(o,s)),t.$$.dirty&8&&n(1,i=o.length>0&&(o[0].villagerSetup.some(f=>f.vary)||o[0].enemySetup.some(f=>f.vary)))},[u,i,l,o,s,a,d,v]}class Bl extends we{constructor(e){super(),ve(this,e,Ml,Cl,be,{results:3,onlyShowOptimal:4,reset:5})}get reset(){return this.$$.ctx[5]}}const Kt=t=>{let e=1;for(const n of t)n.vary&&(e*=Math.max(1,n.max_count-n.min_count+1));return e};function qt(t){let e,n;return{c(){e=H("/"),n=H(t[1])},m(l,i){W(l,e,i),W(l,n,i)},p(l,i){i&2&&oe(n,l[1])},d(l){l&&B(e),l&&B(n)}}}function Wl(t){let e,n,l,i,o,s,u,a=t[4]&&qt(t);return{c(){e=p("div"),n=p("span"),l=H(t[0]),a&&a.c(),i=E(),o=p("input"),m(n,"class","svelte-1n91gn1"),m(o,"type","range"),m(o,"min",t[2]),m(o,"step",t[3]),m(o,"max",t[1]),m(o,"class","svelte-1n91gn1"),m(e,"class","svelte-1n91gn1")},m(r,c){W(r,e,c),_(e,n),_(n,l),a&&a.m(n,null),_(e,i),_(e,o),x(o,t[0]),s||(u=[D(o,"change",t[5]),D(o,"input",t[5])],s=!0)},p(r,[c]){c&1&&oe(l,r[0]),r[4]?a?a.p(r,c):(a=qt(r),a.c(),a.m(n,null)):a&&(a.d(1),a=null),c&4&&m(o,"min",r[2]),c&8&&m(o,"step",r[3]),c&2&&m(o,"max",r[1]),c&1&&x(o,r[0])},i:ae,o:ae,d(r){r&&B(e),a&&a.d(),s=!1,me(u)}}}function Ol(t,e,n){let{value:l}=e,{max:i}=e,{min:o=0}=e,{step:s=1}=e,{showMax:u=!1}=e;function a(){l=re(this.value),n(0,l)}return t.$$set=r=>{"value"in r&&n(0,l=r.value),"max"in r&&n(1,i=r.max),"min"in r&&n(2,o=r.min),"step"in r&&n(3,s=r.step),"showMax"in r&&n(4,u=r.showMax)},[l,i,o,s,u,a]}class ln extends we{constructor(e){super(),ve(this,e,Ol,Wl,be,{value:0,max:1,min:2,step:3,showMax:4})}}function El(t){let e,n,l,i,o,s,u;function a(c){t[14](c)}let r={max:t[0],step:5,showMax:!0};return t[2]!==void 0&&(r.value=t[2]),o=new ln({props:r}),fe.push(()=>ye(o,"value",a)),{c(){e=p("tr"),n=p("td"),n.textContent="Month Start:",l=E(),i=p("td"),ue(o.$$.fragment),m(n,"class","svelte-s5kw35"),m(i,"class","center svelte-s5kw35"),m(e,"class","svelte-s5kw35")},m(c,h){W(c,e,h),_(e,n),_(e,l),_(e,i),ne(o,i,null),u=!0},p(c,h){const d={};h&1&&(d.max=c[0]),!s&&h&4&&(s=!0,d.value=c[2],ke(()=>s=!1)),o.$set(d)},i(c){u||(P(o.$$.fragment,c),u=!0)},o(c){N(o.$$.fragment,c),u=!1},d(c){c&&B(e),le(o)}}}function Ll(t){let e,n,l,i,o,s,u;function a(c){t[13](c)}let r={min:5,max:Math.floor(t[0]/2),step:5};return t[1]!==void 0&&(r.value=t[1]),o=new ln({props:r}),fe.push(()=>ye(o,"value",a)),{c(){e=p("tr"),n=p("td"),n.textContent="Start steps:",l=E(),i=p("td"),ue(o.$$.fragment),m(n,"class","svelte-s5kw35"),m(i,"class","center svelte-s5kw35"),m(e,"title","How many seconds between each month start time attempt. A lower amount means more accuracy but it takes longer since it leads to more options to check."),m(e,"class","svelte-s5kw35")},m(c,h){W(c,e,h),_(e,n),_(e,l),_(e,i),ne(o,i,null),u=!0},p(c,h){const d={};h&1&&(d.max=Math.floor(c[0]/2)),!s&&h&2&&(s=!0,d.value=c[1],ke(()=>s=!1)),o.$set(d)},i(c){u||(P(o.$$.fragment,c),u=!0)},o(c){N(o.$$.fragment,c),u=!1},d(c){c&&B(e),le(o)}}}function Tl(t){let e,n,l,i,o,s,u,a,r,c,h,d,v,f,w,k,y,b,g,C,M,S,L,A,F,j,Z,K,Q,U,z,se=t[8]*(t[4]?Math.floor(t[0]/t[1]):1)+"",q,I,X,ee,ie=t[5]?"Cancel":"Simulate",te,Y,de,G;const $=[Ll,El],ce=[];function R(T,V){return T[4]?0:1}return g=R(t),C=ce[g]=$[g](t),{c(){e=p("h3"),e.textContent="Simulation Settings",n=E(),l=p("table"),i=p("tr"),o=p("td"),o.textContent="Month Length:",s=E(),u=p("td"),a=p("select"),r=p("option"),r.textContent="Short (90s)",c=p("option"),c.textContent="Normal (120s)",h=p("option"),h.textContent="Long (200s)",d=E(),v=p("tr"),f=p("td"),f.textContent="Find optimal start:",w=E(),k=p("td"),y=p("input"),b=E(),C.c(),M=E(),S=p("tr"),L=p("td"),L.textContent="Iterations:",A=E(),F=p("td"),j=p("input"),Z=E(),K=p("tr"),Q=p("td"),Q.textContent="Max scenarios:",U=E(),z=p("td"),q=H(se),I=E(),X=p("div"),ee=p("button"),te=H(ie),m(e,"class","svelte-s5kw35"),m(o,"class","svelte-s5kw35"),r.__value=90,r.value=r.__value,c.__value=120,c.value=c.__value,h.__value=200,h.value=h.__value,t[0]===void 0&&Te(()=>t[11].call(a)),m(u,"class","svelte-s5kw35"),m(i,"class","svelte-s5kw35"),m(f,"class","svelte-s5kw35"),m(y,"type","checkbox"),m(k,"class","svelte-s5kw35"),m(v,"title","Try various month start times to find the best one"),m(v,"class","svelte-s5kw35"),m(L,"class","svelte-s5kw35"),m(j,"type","number"),m(j,"min","1"),m(j,"max","100000000"),m(F,"class","svelte-s5kw35"),m(S,"class","svelte-s5kw35"),m(Q,"class","svelte-s5kw35"),m(z,"class","svelte-s5kw35"),m(K,"title","How many different possible scenarios will be tested with the current setup (the higher the longer the simulation takes)."),m(K,"class","svelte-s5kw35"),m(l,"class","svelte-s5kw35"),m(ee,"class","button button-primary"),J(ee,"button-cancel",t[5]),m(X,"class","button-container svelte-s5kw35")},m(T,V){W(T,e,V),W(T,n,V),W(T,l,V),_(l,i),_(i,o),_(i,s),_(i,u),_(u,a),_(a,r),_(a,c),_(a,h),ht(a,t[0]),_(l,d),_(l,v),_(v,f),_(v,w),_(v,k),_(k,y),y.checked=t[4],_(l,b),ce[g].m(l,null),_(l,M),_(l,S),_(S,L),_(S,A),_(S,F),_(F,j),x(j,t[3]),_(l,Z),_(l,K),_(K,Q),_(K,U),_(K,z),_(z,q),W(T,I,V),W(T,X,V),_(X,ee),_(ee,te),Y=!0,de||(G=[D(a,"change",t[11]),D(y,"change",t[12]),D(j,"input",t[15]),D(ee,"click",function(){Le(t[5]?t[6]:t[7])&&(t[5]?t[6]:t[7]).apply(this,arguments)})],de=!0)},p(T,[V]){t=T,V&1&&ht(a,t[0]),V&16&&(y.checked=t[4]);let _e=g;g=R(t),g===_e?ce[g].p(t,V):(ge(),N(ce[_e],1,1,()=>{ce[_e]=null}),pe(),C=ce[g],C?C.p(t,V):(C=ce[g]=$[g](t),C.c()),P(C,1),C.m(l,M)),V&8&&re(j.value)!==t[3]&&x(j,t[3]),(!Y||V&275)&&se!==(se=t[8]*(t[4]?Math.floor(t[0]/t[1]):1)+"")&&oe(q,se),(!Y||V&32)&&ie!==(ie=t[5]?"Cancel":"Simulate")&&oe(te,ie),V&32&&J(ee,"button-cancel",t[5])},i(T){Y||(P(C),Y=!0)},o(T){N(C),Y=!1},d(T){T&&B(e),T&&B(n),T&&B(l),ce[g].d(),T&&B(I),T&&B(X),de=!1,me(G)}}}function Pl(t,e,n){let l,{monthLength:i}=e,{monthStart:o}=e,{iterations:s}=e,{findMonthStart:u}=e,{findMonthStartStep:a}=e,{running:r}=e,{villagerSetup:c}=e,{enemySetup:h}=e,{cancel:d}=e,{run:v}=e;function f(){i=Wn(this),n(0,i)}function w(){u=this.checked,n(4,u)}function k(g){a=g,n(1,a),n(0,i)}function y(g){o=g,n(2,o)}function b(){s=re(this.value),n(3,s)}return t.$$set=g=>{"monthLength"in g&&n(0,i=g.monthLength),"monthStart"in g&&n(2,o=g.monthStart),"iterations"in g&&n(3,s=g.iterations),"findMonthStart"in g&&n(4,u=g.findMonthStart),"findMonthStartStep"in g&&n(1,a=g.findMonthStartStep),"running"in g&&n(5,r=g.running),"villagerSetup"in g&&n(9,c=g.villagerSetup),"enemySetup"in g&&n(10,h=g.enemySetup),"cancel"in g&&n(6,d=g.cancel),"run"in g&&n(7,v=g.run)},t.$$.update=()=>{if(t.$$.dirty&1536&&n(8,l=Kt(c)*Kt(h)),t.$$.dirty&3){const g=Math.floor(i/2);a>g&&n(1,a=g)}},[i,a,o,s,u,r,d,v,l,c,h,f,w,k,y,b]}class Al extends we{constructor(e){super(),ve(this,e,Pl,Tl,be,{monthLength:0,monthStart:2,iterations:3,findMonthStart:4,findMonthStartStep:1,running:5,villagerSetup:9,enemySetup:10,cancel:6,run:7})}}function Rl(t){let e,n,l,i,o,s,u,a,r,c,h;return{c(){e=p("h3"),e.textContent="Display Settings",n=E(),l=p("table"),i=p("tr"),o=p("td"),o.textContent="Only show optimal start time:",s=E(),u=p("td"),a=p("input"),m(e,"class","svelte-1wdg570"),m(o,"class","svelte-1wdg570"),m(a,"type","checkbox"),a.disabled=r=!t[1],m(u,"class","svelte-1wdg570"),m(i,"class","svelte-1wdg570"),m(l,"class","svelte-1wdg570")},m(d,v){W(d,e,v),W(d,n,v),W(d,l,v),_(l,i),_(i,o),_(i,s),_(i,u),_(u,a),a.checked=t[0],c||(h=D(a,"change",t[2]),c=!0)},p(d,[v]){v&2&&r!==(r=!d[1])&&(a.disabled=r),v&1&&(a.checked=d[0])},i:ae,o:ae,d(d){d&&B(e),d&&B(n),d&&B(l),c=!1,h()}}}function zl(t,e,n){let{onlyShowOptimal:l}=e,{findMonthStart:i}=e;function o(){l=this.checked,n(0,l)}return t.$$set=s=>{"onlyShowOptimal"in s&&n(0,l=s.onlyShowOptimal),"findMonthStart"in s&&n(1,i=s.findMonthStart)},[l,i,o]}class Nl extends we{constructor(e){super(),ve(this,e,zl,Rl,be,{onlyShowOptimal:0,findMonthStart:1})}}function Dl(){return new Worker("/stacklands-combat-simulator/assets/worker.5ce2864f.js")}function Fl(t){let e,n,l={results:t[11],onlyShowOptimal:t[7]&&t[3]};return e=new Bl({props:l}),t[17](e),{c(){ue(e.$$.fragment)},m(i,o){ne(e,i,o),n=!0},p(i,o){const s={};o&2048&&(s.results=i[11]),o&136&&(s.onlyShowOptimal=i[7]&&i[3]),e.$set(s)},i(i){n||(P(e.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),n=!1},d(i){t[17](null),le(e,i)}}}function Hl(t){let e,n,l,i;function o(a){t[15](a)}function s(a){t[16](a)}let u={};return t[9]!==void 0&&(u.villagerSetup=t[9]),t[10]!==void 0&&(u.enemySetup=t[10]),e=new hl({props:u}),fe.push(()=>ye(e,"villagerSetup",o)),fe.push(()=>ye(e,"enemySetup",s)),{c(){ue(e.$$.fragment)},m(a,r){ne(e,a,r),i=!0},p(a,r){const c={};!n&&r&512&&(n=!0,c.villagerSetup=a[9],ke(()=>n=!1)),!l&&r&1024&&(l=!0,c.enemySetup=a[10],ke(()=>l=!1)),e.$set(c)},i(a){i||(P(e.$$.fragment,a),i=!0)},o(a){N(e.$$.fragment,a),i=!1},d(a){le(e,a)}}}function Il(t){let e,n,l,i,o,s,u,a,r,c,h,d,v,f,w,k,y,b,g,C,M,S,L,A,F,j,Z,K,Q=`${t[6]}%`,U,z,se;const q=[Hl,Fl],I=[];function X(R,T){return R[8]==="editor"?0:1}o=X(t),s=I[o]=q[o](t);function ee(R){t[20](R)}function ie(R){t[21](R)}function te(R){t[22](R)}function Y(R){t[23](R)}function de(R){t[24](R)}let G={villagerSetup:t[9],enemySetup:t[10],running:t[5],cancel:t[14],run:t[13]};t[2]!==void 0&&(G.iterations=t[2]),t[0]!==void 0&&(G.monthLength=t[0]),t[1]!==void 0&&(G.monthStart=t[1]),t[3]!==void 0&&(G.findMonthStart=t[3]),t[4]!==void 0&&(G.findMonthStartStep=t[4]),f=new Al({props:G}),fe.push(()=>ye(f,"iterations",ee)),fe.push(()=>ye(f,"monthLength",ie)),fe.push(()=>ye(f,"monthStart",te)),fe.push(()=>ye(f,"findMonthStart",Y)),fe.push(()=>ye(f,"findMonthStartStep",de));function $(R){t[25](R)}let ce={findMonthStart:t[3]};return t[7]!==void 0&&(ce.onlyShowOptimal=t[7]),S=new Nl({props:ce}),fe.push(()=>ye(S,"onlyShowOptimal",$)),{c(){e=p("div"),n=p("h1"),n.textContent="Stacklands Combat Simulator",l=E(),i=p("main"),s.c(),u=E(),a=p("nav"),r=p("button"),r.textContent="Edit Setup",c=E(),h=p("button"),h.textContent="View Results",d=E(),v=p("aside"),ue(f.$$.fragment),C=E(),M=p("aside"),ue(S.$$.fragment),A=E(),F=p("a"),F.textContent="Source Code",j=E(),Z=p("div"),K=p("div"),m(n,"class","svelte-19n8o9d"),m(i,"class","card svelte-19n8o9d"),m(r,"class","button svelte-19n8o9d"),m(h,"class","button svelte-19n8o9d"),m(a,"class","card svelte-19n8o9d"),m(v,"class","settings-simulation card svelte-19n8o9d"),m(M,"class","settings-view card svelte-19n8o9d"),m(F,"id","source-link"),m(F,"href","https://github.com/benediktwerner/stacklands-combat-simulator"),m(F,"target","_blank"),m(F,"class","svelte-19n8o9d"),m(e,"id","container"),m(e,"class","svelte-19n8o9d"),m(K,"class","progress-bar-inner svelte-19n8o9d"),Ee(K,"width",Q,!1),m(Z,"class","progress-bar svelte-19n8o9d")},m(R,T){W(R,e,T),_(e,n),_(e,l),_(e,i),I[o].m(i,null),_(e,u),_(e,a),_(a,r),_(a,c),_(a,h),_(e,d),_(e,v),ne(f,v,null),_(e,C),_(e,M),ne(S,M,null),_(e,A),_(e,F),W(R,j,T),W(R,Z,T),_(Z,K),U=!0,z||(se=[D(r,"click",t[18]),D(h,"click",t[19])],z=!0)},p(R,T){let V=o;o=X(R),o===V?I[o].p(R,T):(ge(),N(I[V],1,1,()=>{I[V]=null}),pe(),s=I[o],s?s.p(R,T):(s=I[o]=q[o](R),s.c()),P(s,1),s.m(i,null));const _e={};T&512&&(_e.villagerSetup=R[9]),T&1024&&(_e.enemySetup=R[10]),T&32&&(_e.running=R[5]),!w&&T&4&&(w=!0,_e.iterations=R[2],ke(()=>w=!1)),!k&&T&1&&(k=!0,_e.monthLength=R[0],ke(()=>k=!1)),!y&&T&2&&(y=!0,_e.monthStart=R[1],ke(()=>y=!1)),!b&&T&8&&(b=!0,_e.findMonthStart=R[3],ke(()=>b=!1)),!g&&T&16&&(g=!0,_e.findMonthStartStep=R[4],ke(()=>g=!1)),f.$set(_e);const Pe={};T&8&&(Pe.findMonthStart=R[3]),!L&&T&128&&(L=!0,Pe.onlyShowOptimal=R[7],ke(()=>L=!1)),S.$set(Pe),T&64&&Q!==(Q=`${R[6]}%`)&&Ee(K,"width",Q,!1)},i(R){U||(P(s),P(f.$$.fragment,R),P(S.$$.fragment,R),U=!0)},o(R){N(s),N(f.$$.fragment,R),N(S.$$.fragment,R),U=!1},d(R){R&&B(e),I[o].d(),le(f),le(S),R&&B(j),R&&B(Z),z=!1,me(se)}}}function Vl(t){let e,n;return e=new Un({props:{$$slots:{default:[Il]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(l,i){ne(e,l,i),n=!0},p(l,[i]){const o={};i&268443647&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){le(e,l)}}}function jl(t,e,n){let l=90,i=0,o=1e3,s=!0,u=15,a=!1,r=0,c=!0,h="editor",d=[{...st[5],count:8,vary:!0,min_count:8,max_count:20}],v=[{...it[2],count:1}],f=null,w=[],k,y=null;const b=()=>{n(8,h="results"),n(5,a=!0),n(6,r=0),n(11,w=[]),k==null||k.reset(),f===null&&(f=new Dl,f.onmessage=se=>{const q=se.data;switch(q.type){case"progress":n(6,r+=q.progress),q.newResult&&(q.replace?n(11,w[w.length-1]=q.newResult,w):w.push(q.newResult),n(11,w));break;case"done":n(6,r=100),n(5,a=!1);break;case"cancelled":y&&(clearTimeout(y),y=null,n(6,r=100));break}});const z={type:"simulate",setup:{iterations:o,villagerSetup:d,enemySetup:v,monthLength:l,monthStart:i},findMonthStart:s,findMonthStartStep:u};f.postMessage(z)},g=()=>{n(5,a=!1),f!==null&&(f.postMessage({type:"cancel"}),y=setTimeout(()=>{f==null||f.terminate(),f=null,n(6,r=100)},1e3))};function C(z){d=z,n(9,d)}function M(z){v=z,n(10,v)}function S(z){fe[z?"unshift":"push"](()=>{k=z,n(12,k)})}const L=()=>n(8,h="editor"),A=()=>n(8,h="results");function F(z){o=z,n(2,o)}function j(z){l=z,n(0,l)}function Z(z){i=z,n(1,i)}function K(z){s=z,n(3,s)}function Q(z){u=z,n(4,u)}function U(z){c=z,n(7,c)}return[l,i,o,s,u,a,r,c,h,d,v,w,k,b,g,C,M,S,L,A,F,j,Z,K,Q,U]}class Kl extends we{constructor(e){super(),ve(this,e,jl,Vl,be,{})}}new Kl({target:document.getElementById("app")});
