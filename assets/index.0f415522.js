(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ee(){}const Kt=t=>t;function wn(t,e){for(const n in e)t[n]=e[n];return t}function qt(t){return t()}function pt(){return Object.create(null)}function me(t){t.forEach(qt)}function Te(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ke;function et(t,e){return Ke||(Ke=document.createElement("a")),Ke.href=e,t===Ke.href}function kn(t){return Object.keys(t).length===0}function yn(t,...e){if(t==null)return ee;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Oe(t,e,n){t.$$.on_destroy.push(yn(e,n))}function Sn(t,e,n,l){if(t){const s=Zt(t,e,n,l);return t[0](s)}}function Zt(t,e,n,l){return t[1]&&l?wn(n.ctx.slice(),t[1](l(e))):n.ctx}function Cn(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let r=0;r<i;r+=1)o[r]=e.dirty[r]|s[r];return o}return e.dirty|s}return e.dirty}function An(t,e,n,l,s,o){if(s){const i=Zt(e,n,l,o);t.p(i,s)}}function Mn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Ce(t){return t==null?"":t}const xt=typeof window<"u";let Bn=xt?()=>window.performance.now():()=>Date.now(),ft=xt?t=>requestAnimationFrame(t):ee;const ze=new Set;function $t(t){ze.forEach(e=>{e.c(t)||(ze.delete(e),e.f())}),ze.size!==0&&ft($t)}function On(t){let e;return ze.size===0&&ft($t),{promise:new Promise(n=>{ze.add(e={c:t,f:n})}),abort(){ze.delete(e)}}}function m(t,e){t.appendChild(e)}function en(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function En(t){const e=p("style");return Wn(en(t),e),e.sheet}function Wn(t,e){m(t.head||t,e)}function M(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function We(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function W(){return I(" ")}function Se(){return I("")}function F(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function re(t){return t===""?null:+t}function Ln(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=e==null?"":e}function Le(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function bt(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e){l.selected=!0;return}}t.selectedIndex=-1}function Tn(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function X(t,e,n){t.classList[n?"add":"remove"](e)}function tn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,l,e),s}const tt=new Map;let nt=0;function Dn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Pn(t,e){const n={stylesheet:En(e),rules:{}};return tt.set(t,n),n}function vt(t,e,n,l,s,o,i,r=0){const a=16.666/l;let u=`{
`;for(let S=0;S<=1;S+=a){const A=e+(n-e)*o(S);u+=S*100+`%{${i(A,1-A)}}
`}const c=u+`100% {${i(n,1-n)}}
}`,g=`__svelte_${Dn(c)}_${r}`,d=en(t),{stylesheet:v,rules:_}=tt.get(d)||Pn(d,t);_[g]||(_[g]=!0,v.insertRule(`@keyframes ${g} ${c}`,v.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${g} ${l}ms linear ${s}ms 1 both`,nt+=1,g}function Rn(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),nt-=s,nt||Gn())}function Gn(){ft(()=>{nt||(tt.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),tt.clear())})}let He;function Ye(t){He=t}function Ue(){if(!He)throw new Error("Function called outside component initialization");return He}function zn(t){Ue().$$.on_mount.push(t)}function Fn(t){Ue().$$.on_destroy.push(t)}function In(){const t=Ue();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=tn(e,n,{cancelable:l});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function jn(t,e){return Ue().$$.context.set(t,e),e}function Nn(t){return Ue().$$.context.get(t)}const Ne=[],fe=[],xe=[],ot=[],Yn=Promise.resolve();let at=!1;function Hn(){at||(at=!0,Yn.then(nn))}function De(t){xe.push(t)}function ke(t){ot.push(t)}const lt=new Set;let qe=0;function nn(){const t=He;do{for(;qe<Ne.length;){const e=Ne[qe];qe++,Ye(e),Un(e.$$)}for(Ye(null),Ne.length=0,qe=0;fe.length;)fe.pop()();for(let e=0;e<xe.length;e+=1){const n=xe[e];lt.has(n)||(lt.add(n),n())}xe.length=0}while(Ne.length);for(;ot.length;)ot.pop()();at=!1,lt.clear(),Ye(t)}function Un(t){if(t.fragment!==null){t.update(),me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(De)}}let je;function Vn(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function st(t,e,n){t.dispatchEvent(tn(`${e?"intro":"outro"}${n}`))}const $e=new Set;let Be;function ge(){Be={r:0,c:[],p:Be}}function pe(){Be.r||me(Be.c),Be=Be.p}function R(t,e){t&&t.i&&($e.delete(t),t.i(e))}function z(t,e,n,l){if(t&&t.o){if($e.has(t))return;$e.add(t),Be.c.push(()=>{$e.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Qn={duration:0};function Ze(t,e,n,l){let s=e(t,n),o=l?0:1,i=null,r=null,a=null;function u(){a&&Rn(t,a)}function c(d,v){const _=d.b-o;return v*=Math.abs(_),{a:o,b:d.b,d:_,duration:v,start:d.start,end:d.start+v,group:d.group}}function g(d){const{delay:v=0,duration:_=300,easing:b=Kt,tick:S=ee,css:A}=s||Qn,h={start:Bn()+v,b:d};d||(h.group=Be,Be.r+=1),i||r?r=h:(A&&(u(),a=vt(t,o,d,_,v,b,A)),d&&S(0,1),i=c(h,_),De(()=>st(t,d,"start")),On(y=>{if(r&&y>r.start&&(i=c(r,_),r=null,st(t,i.b,"start"),A&&(u(),a=vt(t,o,i.b,i.duration,0,b,s.css))),i){if(y>=i.end)S(o=i.b,1-o),st(t,i.b,"end"),r||(i.b?u():--i.group.r||me(i.group.c)),i=null;else if(y>=i.start){const O=y-i.start;o=i.a+i.d*b(O/i.duration),S(o,1-o)}}return!!(i||r)}))}return{run(d){Te(s)?Vn().then(()=>{s=s(),g(d)}):g(d)},end(){u(),i=r=null}}}const Jn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ye(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ue(t){t&&t.c()}function se(t,e,n,l){const{fragment:s,on_mount:o,on_destroy:i,after_update:r}=t.$$;s&&s.m(e,n),l||De(()=>{const a=o.map(qt).filter(Te);i?i.push(...a):me(a),t.$$.on_mount=[]}),r.forEach(De)}function ie(t,e){const n=t.$$;n.fragment!==null&&(me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xn(t,e){t.$$.dirty[0]===-1&&(Ne.push(t),Hn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ve(t,e,n,l,s,o,i,r=[-1]){const a=He;Ye(t);const u=t.$$={fragment:null,ctx:null,props:o,update:ee,not_equal:s,bound:pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:pt(),dirty:r,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(g,d,...v)=>{const _=v.length?v[0]:d;return u.ctx&&s(u.ctx[g],u.ctx[g]=_)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](_),c&&Xn(t,g)),d}):[],u.update(),c=!0,me(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const g=Ln(e.target);u.fragment&&u.fragment.l(g),g.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&R(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),nn()}Ye(a)}class we{$destroy(){ie(this,1),this.$destroy=ee}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!kn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Kn(t,{delay:e=0,duration:n=400,easing:l=Kt}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:o=>`opacity: ${o*s}`}}const{window:qn}=Jn;function wt(t){let e,n,l,s,o,i,r,a,u,c,g,d,v,_,b,S,A,h=t[1].closeButton&&kt(t);var y=t[2];function O(E){return{}}return y&&(i=new y(O())),{c(){e=p("div"),n=p("div"),l=p("div"),h&&h.c(),s=W(),o=p("div"),i&&ue(i.$$.fragment),f(o,"class",r=Ce(t[1].classContent)+" svelte-g4wg3a"),f(o,"style",t[9]),X(o,"content",!t[0]),f(l,"class",a=Ce(t[1].classWindow)+" svelte-g4wg3a"),f(l,"role","dialog"),f(l,"aria-modal","true"),f(l,"aria-label",u=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),f(l,"aria-labelledby",c=t[1].ariaLabelledBy||null),f(l,"style",t[8]),X(l,"window",!t[0]),f(n,"class",d=Ce(t[1].classWindowWrap)+" svelte-g4wg3a"),f(n,"style",t[7]),X(n,"wrap",!t[0]),f(e,"class",v=Ce(t[1].classBg)+" svelte-g4wg3a"),f(e,"style",t[6]),X(e,"bg",!t[0])},m(E,w){M(E,e,w),m(e,n),m(n,l),h&&h.m(l,null),m(l,s),m(l,o),i&&se(i,o,null),t[49](l),t[50](n),t[51](e),b=!0,S||(A=[F(l,"introstart",function(){Te(t[13])&&t[13].apply(this,arguments)}),F(l,"outrostart",function(){Te(t[14])&&t[14].apply(this,arguments)}),F(l,"introend",function(){Te(t[15])&&t[15].apply(this,arguments)}),F(l,"outroend",function(){Te(t[16])&&t[16].apply(this,arguments)}),F(e,"mousedown",t[20]),F(e,"mouseup",t[21])],S=!0)},p(E,w){if(t=E,t[1].closeButton?h?(h.p(t,w),w[0]&2&&R(h,1)):(h=kt(t),h.c(),R(h,1),h.m(l,s)):h&&(ge(),z(h,1,1,()=>{h=null}),pe()),y!==(y=t[2])){if(i){ge();const k=i;z(k.$$.fragment,1,0,()=>{ie(k,1)}),pe()}y?(i=new y(O()),ue(i.$$.fragment),R(i.$$.fragment,1),se(i,o,null)):i=null}(!b||w[0]&2&&r!==(r=Ce(t[1].classContent)+" svelte-g4wg3a"))&&f(o,"class",r),(!b||w[0]&512)&&f(o,"style",t[9]),w[0]&3&&X(o,"content",!t[0]),(!b||w[0]&2&&a!==(a=Ce(t[1].classWindow)+" svelte-g4wg3a"))&&f(l,"class",a),(!b||w[0]&2&&u!==(u=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&f(l,"aria-label",u),(!b||w[0]&2&&c!==(c=t[1].ariaLabelledBy||null))&&f(l,"aria-labelledby",c),(!b||w[0]&256)&&f(l,"style",t[8]),w[0]&3&&X(l,"window",!t[0]),(!b||w[0]&2&&d!==(d=Ce(t[1].classWindowWrap)+" svelte-g4wg3a"))&&f(n,"class",d),(!b||w[0]&128)&&f(n,"style",t[7]),w[0]&3&&X(n,"wrap",!t[0]),(!b||w[0]&2&&v!==(v=Ce(t[1].classBg)+" svelte-g4wg3a"))&&f(e,"class",v),(!b||w[0]&64)&&f(e,"style",t[6]),w[0]&3&&X(e,"bg",!t[0])},i(E){b||(R(h),i&&R(i.$$.fragment,E),De(()=>{g||(g=Ze(l,t[12],t[1].transitionWindowProps,!0)),g.run(1)}),De(()=>{_||(_=Ze(e,t[11],t[1].transitionBgProps,!0)),_.run(1)}),b=!0)},o(E){z(h),i&&z(i.$$.fragment,E),g||(g=Ze(l,t[12],t[1].transitionWindowProps,!1)),g.run(0),_||(_=Ze(e,t[11],t[1].transitionBgProps,!1)),_.run(0),b=!1},d(E){E&&C(e),h&&h.d(),i&&ie(i),t[49](null),E&&g&&g.end(),t[50](null),t[51](null),E&&_&&_.end(),S=!1,me(A)}}}function kt(t){let e,n,l,s,o;const i=[xn,Zn],r=[];function a(u,c){return c[0]&2&&(e=null),e==null&&(e=!!u[17](u[1].closeButton)),e?0:1}return n=a(t,[-1,-1,-1]),l=r[n]=i[n](t),{c(){l.c(),s=Se()},m(u,c){r[n].m(u,c),M(u,s,c),o=!0},p(u,c){let g=n;n=a(u,c),n===g?r[n].p(u,c):(ge(),z(r[g],1,1,()=>{r[g]=null}),pe(),l=r[n],l?l.p(u,c):(l=r[n]=i[n](u),l.c()),R(l,1),l.m(s.parentNode,s))},i(u){o||(R(l),o=!0)},o(u){z(l),o=!1},d(u){r[n].d(u),u&&C(s)}}}function Zn(t){let e,n,l,s;return{c(){e=p("button"),f(e,"class",n=Ce(t[1].classCloseButton)+" svelte-g4wg3a"),f(e,"aria-label","Close modal"),f(e,"style",t[10]),f(e,"type","button"),X(e,"close",!t[0])},m(o,i){M(o,e,i),l||(s=F(e,"click",t[18]),l=!0)},p(o,i){i[0]&2&&n!==(n=Ce(o[1].classCloseButton)+" svelte-g4wg3a")&&f(e,"class",n),i[0]&1024&&f(e,"style",o[10]),i[0]&3&&X(e,"close",!o[0])},i:ee,o:ee,d(o){o&&C(e),l=!1,s()}}}function xn(t){let e,n,l;var s=t[1].closeButton;function o(i){return{props:{onClose:i[18]}}}return s&&(e=new s(o(t))),{c(){e&&ue(e.$$.fragment),n=Se()},m(i,r){e&&se(e,i,r),M(i,n,r),l=!0},p(i,r){if(s!==(s=i[1].closeButton)){if(e){ge();const a=e;z(a.$$.fragment,1,0,()=>{ie(a,1)}),pe()}s?(e=new s(o(i)),ue(e.$$.fragment),R(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}},i(i){l||(e&&R(e.$$.fragment,i),l=!0)},o(i){e&&z(e.$$.fragment,i),l=!1},d(i){i&&C(n),e&&ie(e,i)}}}function $n(t){let e,n,l,s,o=t[2]&&wt(t);const i=t[48].default,r=Sn(i,t,t[47],null);return{c(){o&&o.c(),e=W(),r&&r.c()},m(a,u){o&&o.m(a,u),M(a,e,u),r&&r.m(a,u),n=!0,l||(s=F(qn,"keydown",t[19]),l=!0)},p(a,u){a[2]?o?(o.p(a,u),u[0]&4&&R(o,1)):(o=wt(a),o.c(),R(o,1),o.m(e.parentNode,e)):o&&(ge(),z(o,1,1,()=>{o=null}),pe()),r&&r.p&&(!n||u[1]&65536)&&An(r,i,a,a[47],n?Cn(i,a[47],u,null):Mn(a[47]),null)},i(a){n||(R(o),R(r,a),n=!0)},o(a){z(o),z(r,a),n=!1},d(a){o&&o.d(a),a&&C(e),r&&r.d(a),l=!1,s()}}}function el(t,e={}){return function(l){return new t({...l,props:{...e,...l.props}})}}function tl(t,e,n){let{$$slots:l={},$$scope:s}=e;const o=In(),i=jn,r=B=>B.tabIndex>=0&&!B.hidden&&!B.disabled&&B.style.display!=="none"&&B.type!=="hidden"&&Boolean(B.offsetWidth||B.offsetHeight||B.getClientRects().length);let{isTabbable:a=r}=e,{show:u=null}=e,{key:c="simple-modal"}=e,{ariaLabel:g=null}=e,{ariaLabelledBy:d=null}=e,{closeButton:v=!0}=e,{closeOnEsc:_=!0}=e,{closeOnOuterClick:b=!0}=e,{styleBg:S={}}=e,{styleWindowWrap:A={}}=e,{styleWindow:h={}}=e,{styleContent:y={}}=e,{styleCloseButton:O={}}=e,{classBg:E=null}=e,{classWindowWrap:w=null}=e,{classWindow:k=null}=e,{classContent:L=null}=e,{classCloseButton:T=null}=e,{unstyled:N=!1}=e,{setContext:J=i}=e,{transitionBg:U=Kn}=e,{transitionBgProps:q={duration:250}}=e,{transitionWindow:Z=U}=e,{transitionWindowProps:V=q}=e,{disableFocusTrap:oe=!1}=e;const K={ariaLabel:g,ariaLabelledBy:d,closeButton:v,closeOnEsc:_,closeOnOuterClick:b,styleBg:S,styleWindowWrap:A,styleWindow:h,styleContent:y,styleCloseButton:O,classBg:E,classWindowWrap:w,classWindow:k,classContent:L,classCloseButton:T,transitionBg:U,transitionBgProps:q,transitionWindow:Z,transitionWindowProps:V,disableFocusTrap:oe,isTabbable:a,unstyled:N};let j={...K},Q=null,x,le,te,D,_e,Y,ne,ce,G,P,H,de,Pe,ct,mt;const rn=B=>B.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Fe=B=>B?Object.keys(B).reduce((Ie,Ae)=>`${Ie}; ${rn(Ae)}: ${B[Ae]}`,""):"",_t=B=>!!(B&&B.constructor&&B.call&&B.apply),fn=()=>{n(6,_e=Fe(Object.assign({},{width:window.innerWidth,height:window.innerHeight},j.styleBg))),n(7,Y=Fe(j.styleWindowWrap)),n(8,ne=Fe(j.styleWindow)),n(9,ce=Fe(j.styleContent)),n(10,G=Fe(j.styleCloseButton)),n(11,P=j.transitionBg),n(12,H=j.transitionWindow)},Ve=()=>{};let dt=Ve,Qe=Ve,ht=Ve,Je=Ve;const gt=(B,Ie={},Ae={},he={})=>{n(2,Q=el(B,Ie)),n(1,j={...K,...Ae}),fn(),dn(),n(13,dt=Me=>{he.onOpen&&he.onOpen(Me),o("open"),o("opening")}),n(14,Qe=Me=>{he.onClose&&he.onClose(Me),o("close"),o("closing")}),n(15,ht=Me=>{he.onOpened&&he.onOpened(Me),o("opened")}),n(16,Je=Me=>{he.onClosed&&he.onClosed(Me),o("closed")})},Re=(B={})=>{!Q||(n(14,Qe=B.onClose||Qe),n(16,Je=B.onClosed||Je),n(2,Q=null),hn())},cn=B=>{if(j.closeOnEsc&&Q&&B.key==="Escape"&&(B.preventDefault(),Re()),Q&&B.key==="Tab"&&!j.disableFocusTrap){const Ie=te.querySelectorAll("*"),Ae=Array.from(Ie).filter(j.isTabbable).sort((Me,vn)=>Me.tabIndex-vn.tabIndex);let he=Ae.indexOf(document.activeElement);he===-1&&B.shiftKey&&(he=0),he+=Ae.length+(B.shiftKey?-1:1),he%=Ae.length,Ae[he].focus(),B.preventDefault()}},mn=B=>{j.closeOnOuterClick&&(B.target===x||B.target===le)&&(mt=B.target)},_n=B=>{j.closeOnOuterClick&&B.target===mt&&(B.preventDefault(),Re())},dn=()=>{D=window.scrollY,de=document.body.style.position,Pe=document.body.style.overflow,ct=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${D}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},hn=()=>{document.body.style.position=de||"",document.body.style.top="",document.body.style.overflow=Pe||"",document.body.style.width=ct||"",window.scrollTo(0,D)};J(c,{open:gt,close:Re});let Xe=!1;Fn(()=>{Xe&&Re()}),zn(()=>{n(46,Xe=!0)});function gn(B){fe[B?"unshift":"push"](()=>{te=B,n(5,te)})}function pn(B){fe[B?"unshift":"push"](()=>{le=B,n(4,le)})}function bn(B){fe[B?"unshift":"push"](()=>{x=B,n(3,x)})}return t.$$set=B=>{"isTabbable"in B&&n(22,a=B.isTabbable),"show"in B&&n(23,u=B.show),"key"in B&&n(24,c=B.key),"ariaLabel"in B&&n(25,g=B.ariaLabel),"ariaLabelledBy"in B&&n(26,d=B.ariaLabelledBy),"closeButton"in B&&n(27,v=B.closeButton),"closeOnEsc"in B&&n(28,_=B.closeOnEsc),"closeOnOuterClick"in B&&n(29,b=B.closeOnOuterClick),"styleBg"in B&&n(30,S=B.styleBg),"styleWindowWrap"in B&&n(31,A=B.styleWindowWrap),"styleWindow"in B&&n(32,h=B.styleWindow),"styleContent"in B&&n(33,y=B.styleContent),"styleCloseButton"in B&&n(34,O=B.styleCloseButton),"classBg"in B&&n(35,E=B.classBg),"classWindowWrap"in B&&n(36,w=B.classWindowWrap),"classWindow"in B&&n(37,k=B.classWindow),"classContent"in B&&n(38,L=B.classContent),"classCloseButton"in B&&n(39,T=B.classCloseButton),"unstyled"in B&&n(0,N=B.unstyled),"setContext"in B&&n(40,J=B.setContext),"transitionBg"in B&&n(41,U=B.transitionBg),"transitionBgProps"in B&&n(42,q=B.transitionBgProps),"transitionWindow"in B&&n(43,Z=B.transitionWindow),"transitionWindowProps"in B&&n(44,V=B.transitionWindowProps),"disableFocusTrap"in B&&n(45,oe=B.disableFocusTrap),"$$scope"in B&&n(47,s=B.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8388608|t.$$.dirty[1]&32768&&Xe&&(_t(u)?gt(u):Re())},[N,j,Q,x,le,te,_e,Y,ne,ce,G,P,H,dt,Qe,ht,Je,_t,Re,cn,mn,_n,a,u,c,g,d,v,_,b,S,A,h,y,O,E,w,k,L,T,J,U,q,Z,V,oe,Xe,s,l,gn,pn,bn]}class nl extends we{constructor(e){super(),ve(this,e,tl,$n,be,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}const ut=[{name:"Dog",hp:3,attack_speed:25,hit_chance:.7,min_damage:1,max_damage:2,image_name:"Dog",stun_chance:0},{name:"Explorer",hp:3,attack_speed:20,hit_chance:.7,min_damage:1,max_damage:1,image_name:"Explorer",stun_chance:0},{name:"Fisher",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Fisherman",stun_chance:0},{name:"Friendly Pirate",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"FriendlyPirate",stun_chance:.15},{name:"Militia",hp:6,attack_speed:15,hit_chance:.8,min_damage:1,max_damage:2,image_name:"Militia",stun_chance:0},{name:"Swordsman",hp:7,attack_speed:15,hit_chance:.9,min_damage:2,max_damage:2,image_name:"Swordman",stun_chance:0},{name:"Trained Monkey",hp:2,attack_speed:25,hit_chance:.6,min_damage:1,max_damage:1,image_name:"TrainedMonkey",stun_chance:0},{name:"Villager",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Villager",stun_chance:0}],rt=[{name:"Bear",hp:10,attack_speed:30,hit_chance:.33,min_damage:2,max_damage:4,image_name:"Bear",stun_chance:.1},{name:"Demon",hp:99,attack_speed:15,hit_chance:.75,min_damage:1,max_damage:3,image_name:"Demon",stun_chance:0},{name:"Demon Lord",hp:666,attack_speed:15,hit_chance:.75,min_damage:1,max_damage:3,image_name:"DemonLord",stun_chance:0},{name:"Giant Rat",hp:12,attack_speed:30,hit_chance:.5,min_damage:2,max_damage:2,image_name:"Big-Rat",stun_chance:0},{name:"Goblin",hp:5,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"Goblin",stun_chance:0},{name:"Kraken",hp:150,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Kraken",stun_chance:.1},{name:"Momma Crab",hp:50,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"MammaCrab",stun_chance:.2},{name:"Pirate",hp:3,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"AngryPirate",stun_chance:.2},{name:"Rat",hp:3,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Small-Rat",stun_chance:0},{name:"Seagull",hp:3,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Seagull",stun_chance:0},{name:"Skeleton",hp:5,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:2,image_name:"Skeleton",stun_chance:.1},{name:"Slime",hp:8,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Big-Slime",stun_chance:0},{name:"Small Slime",hp:2,attack_speed:50,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Small-Slime",stun_chance:0},{name:"Snake",hp:3,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Snake",stun_chance:0},{name:"Tentacle",hp:50,attack_speed:20,hit_chance:.4,min_damage:1,max_damage:1,image_name:"Tentacle",stun_chance:.2},{name:"Tiger",hp:5,attack_speed:20,hit_chance:.5,min_damage:2,max_damage:3,image_name:"Tiger",stun_chance:.2},{name:"Wolf",hp:10,attack_speed:30,hit_chance:.33,min_damage:1,max_damage:3,image_name:"Wolf",stun_chance:0}],yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAMpSURBVHhe7d29jk1hGMXxSSRuQEQhKh9BRaJV0XABWpEIjY9rIBqioHEBGneg5ToUQqlzB8fzJkciJ3+PmX0y7xlrrTf5Nf+MLdlnSXztPXur1SqMYQwfGMMHxvCBMXxgDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfG8IFR3PG1S2vn1uhr5WEUND7gt+Vj+dcZX/O40HXkYBQzPvwv5aBnDIGuJwWjmPGreemh60nBKOZZWXrkf2+AUUwG0MAoJgNoYBSTATQwitlmAOPvCeiaMjCKyQAaGMVkAA2MYjKABkYxGUADo5gMoIFRTAbQwCgmA2hgFPO8LD0ZgIAMoIFRTAbQwCgmA2hgFPOyLD0ZgIAMoIFRTAbQwCgmA2hgFPOmLD0ZgIAMoIFRTAbQwLgDp8u9tYcbnmx4ekCfytLzojzacH/D3QVuFLoP02Gc7GJxPEfiySOMk70vrmfnzyBinOxbcT3jgVW6J9NgnOhMcT7joVW6L9NgnOhqcT4/C92XaTBOdL24n2OF7s0UGCe6U9zPqUL3ZgqME90q7me8robuzRQYJ7pWnM+PQvdlGowTuf8pwH4Aw9fiej4UuifTYJzsdXE9Dwrdk2kwTrb0LV7/+8m/BfxhjGD8tehh+F6Wns9lfFB/Qz/ffhyZ9xBiFPOuLD3nC11TBkYxGUADo5htBnC20DVlYBSTATQwiskAGhjFZAANjGIygAZGMRlAA6OYDKCBUUwG0MAoZpsngzIAARlAA6OYDKCBUUwG0MAo5lVZejIAARlAA6OYDKCBUUwG0MAoZrzkYenJAARkAA2MYjKABkYxGUADo5jx37CXnnzjSAHbfPfwDEDA+BCXnJ2/vmUGjIJ+P3m0n0fQxhM/R+bJncOGUdzJcrmMdxPcLjfLlXKhnCj0Y2RhDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfGcLHa+wWon71amQ0q5QAAAABJRU5ErkJggg==";function ll(t){let e,n;return{c(){e=p("div"),f(e,"class","img svelte-v3nxxj"),f(e,"title",n=t[0].name)},m(l,s){M(l,e,s)},p(l,s){s&1&&n!==(n=l[0].name)&&f(e,"title",n)},d(l){l&&C(e)}}}function sl(t){let e,n,l,s;return{c(){e=p("img"),f(e,"class","img svelte-v3nxxj"),et(e.src,n="/stacklands-combat-simulator/images/"+t[0].image_name+".png")||f(e,"src",n),f(e,"title",l=t[0].name),f(e,"alt",s=t[0].name),X(e,"enemy",t[1])},m(o,i){M(o,e,i)},p(o,i){i&1&&!et(e.src,n="/stacklands-combat-simulator/images/"+o[0].image_name+".png")&&f(e,"src",n),i&1&&l!==(l=o[0].name)&&f(e,"title",l),i&1&&s!==(s=o[0].name)&&f(e,"alt",s),i&2&&X(e,"enemy",o[1])},d(o){o&&C(e)}}}function il(t){let e;function n(o,i){return o[0].image_name?sl:ll}let l=n(t),s=l(t);return{c(){s.c(),e=Se()},m(o,i){s.m(o,i),M(o,e,i)},p(o,[i]){l===(l=n(o))&&s?s.p(o,i):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d(o){s.d(o),o&&C(e)}}}function ol(t,e,n){let{combatant:l}=e,{isEnemy:s=!1}=e;return t.$$set=o=>{"combatant"in o&&n(0,l=o.combatant),"isEnemy"in o&&n(1,s=o.isEnemy)},[l,s]}class ln extends we{constructor(e){super(),ve(this,e,ol,il,be,{combatant:0,isEnemy:1})}}function al(t){let e,n,l,s,o,i=t[0].hp+"",r,a,u,c,g,d,v=t[0].attack_speed/10+"",_,b,S,A,h,y,O,E=t[0].hit_chance*100+"",w,k,L,T,N,J,U,q=t[0].min_damage+"",Z,V=t[0].min_damage!==t[0].max_damage?"-"+t[0].max_damage:"",oe,K,j,Q,x,le,te=t[0].stun_chance*100+"",D,_e;return{c(){e=p("table"),n=p("tr"),l=p("td"),l.textContent="HP:",s=W(),o=p("td"),r=I(i),a=W(),u=p("tr"),c=p("td"),c.textContent="Attack Speed:",g=W(),d=p("td"),_=I(v),b=I("s"),S=W(),A=p("tr"),h=p("td"),h.textContent="Hit Chance:",y=W(),O=p("td"),w=I(E),k=I("%"),L=W(),T=p("tr"),N=p("td"),N.textContent="Damage:",J=W(),U=p("td"),Z=I(q),oe=I(V),K=W(),j=p("tr"),Q=p("td"),Q.textContent="Stun Chance:",x=W(),le=p("td"),D=I(te),_e=I("%"),f(l,"class","svelte-zvmgvg"),f(o,"class","svelte-zvmgvg"),f(c,"class","svelte-zvmgvg"),f(d,"class","svelte-zvmgvg"),f(h,"class","svelte-zvmgvg"),f(O,"class","svelte-zvmgvg"),f(N,"class","svelte-zvmgvg"),f(U,"class","svelte-zvmgvg"),f(Q,"class","svelte-zvmgvg"),f(le,"class","svelte-zvmgvg")},m(Y,ne){M(Y,e,ne),m(e,n),m(n,l),m(n,s),m(n,o),m(o,r),m(e,a),m(e,u),m(u,c),m(u,g),m(u,d),m(d,_),m(d,b),m(e,S),m(e,A),m(A,h),m(A,y),m(A,O),m(O,w),m(O,k),m(e,L),m(e,T),m(T,N),m(T,J),m(T,U),m(U,Z),m(U,oe),m(e,K),m(e,j),m(j,Q),m(j,x),m(j,le),m(le,D),m(le,_e)},p(Y,[ne]){ne&1&&i!==(i=Y[0].hp+"")&&ae(r,i),ne&1&&v!==(v=Y[0].attack_speed/10+"")&&ae(_,v),ne&1&&E!==(E=Y[0].hit_chance*100+"")&&ae(w,E),ne&1&&q!==(q=Y[0].min_damage+"")&&ae(Z,q),ne&1&&V!==(V=Y[0].min_damage!==Y[0].max_damage?"-"+Y[0].max_damage:"")&&ae(oe,V),ne&1&&te!==(te=Y[0].stun_chance*100+"")&&ae(D,te)},i:ee,o:ee,d(Y){Y&&C(e)}}}function ul(t,e,n){let{combatant:l}=e;return t.$$set=s=>{"combatant"in s&&n(0,l=s.combatant)},[l]}class sn extends we{constructor(e){super(),ve(this,e,ul,al,be,{combatant:0})}}function St(t,e,n){const l=t.slice();return l[17]=e[n],l}function rl(t){let e,n,l,s,o,i,r,a,u,c,g=t[1]?rt:ut,d=[];for(let _=0;_<g.length;_+=1)d[_]=At(St(t,g,_));const v=_=>z(d[_],1,1,()=>{d[_]=null});return{c(){e=p("input"),n=W(),l=p("div");for(let _=0;_<d.length;_+=1)d[_].c();s=W(),o=p("hr"),i=W(),r=p("div"),r.innerHTML="<b>Add Custom Combatant</b>",f(e,"class","search svelte-1fblcp9"),f(e,"type","text"),f(e,"placeholder","Search"),e.autofocus=!0,f(l,"class","container svelte-1fblcp9"),f(r,"class","combatant-row svelte-1fblcp9")},m(_,b){M(_,e,b),$(e,t[2]),M(_,n,b),M(_,l,b);for(let S=0;S<d.length;S+=1)d[S].m(l,null);M(_,s,b),M(_,o,b),M(_,i,b),M(_,r,b),a=!0,e.focus(),u||(c=[F(e,"input",t[14]),F(r,"click",t[16])],u=!0)},p(_,b){if(b&4&&e.value!==_[2]&&$(e,_[2]),b&23){g=_[1]?rt:ut;let S;for(S=0;S<g.length;S+=1){const A=St(_,g,S);d[S]?(d[S].p(A,b),R(d[S],1)):(d[S]=At(A),d[S].c(),R(d[S],1),d[S].m(l,null))}for(ge(),S=g.length;S<d.length;S+=1)v(S);pe()}},i(_){if(!a){for(let b=0;b<g.length;b+=1)R(d[b]);a=!0}},o(_){d=d.filter(Boolean);for(let b=0;b<d.length;b+=1)z(d[b]);a=!1},d(_){_&&C(e),_&&C(n),_&&C(l),We(d,_),_&&C(s),_&&C(o),_&&C(i),_&&C(r),u=!1,me(c)}}}function fl(t){let e,n,l,s,o,i,r,a,u,c,g,d,v,_,b,S,A,h,y,O,E,w,k,L,T,N,J,U,q,Z,V,oe,K,j,Q,x,le,te,D,_e,Y,ne,ce,G;return{c(){e=p("table"),n=p("tr"),l=p("td"),l.textContent="Name:",s=W(),o=p("td"),i=p("input"),r=W(),a=p("tr"),u=p("td"),u.textContent="HP:",c=W(),g=p("td"),d=p("input"),v=W(),_=p("tr"),b=p("td"),b.textContent="Attack Speed:",S=W(),A=p("td"),h=p("input"),y=W(),O=p("tr"),E=p("td"),E.textContent="Hit Chance:",w=W(),k=p("td"),L=p("input"),T=I(" %"),N=W(),J=p("tr"),U=p("td"),U.textContent="Damage:",q=W(),Z=p("td"),V=p("input"),oe=I(`
        \u2013
        `),K=p("input"),j=W(),Q=p("tr"),x=p("td"),x.textContent="Stun Chance:",le=W(),te=p("td"),D=p("input"),_e=I(" %"),Y=W(),ne=p("div"),ne.innerHTML='<button class="button button-primary">Add</button>',f(l,"class","svelte-1fblcp9"),f(i,"type","text"),f(o,"class","svelte-1fblcp9"),f(u,"class","svelte-1fblcp9"),f(d,"type","number"),f(d,"min","0"),f(d,"step","1"),f(d,"max","9999"),f(g,"class","svelte-1fblcp9"),f(b,"class","svelte-1fblcp9"),f(h,"type","number"),f(h,"min","0.1"),f(h,"step","0.1"),f(h,"max","99"),f(A,"class","svelte-1fblcp9"),f(E,"class","svelte-1fblcp9"),f(L,"type","number"),f(L,"min","0"),f(L,"step","1"),f(L,"max","99"),f(k,"class","svelte-1fblcp9"),f(U,"class","svelte-1fblcp9"),f(V,"type","number"),f(V,"min","0"),f(V,"max","99"),f(V,"step","1"),f(K,"type","number"),f(K,"min","0"),f(K,"max","99"),f(K,"step","1"),f(Z,"class","svelte-1fblcp9"),f(x,"class","svelte-1fblcp9"),f(D,"type","number"),f(D,"min","0"),f(D,"step","1"),f(D,"max","99"),f(te,"class","svelte-1fblcp9"),f(ne,"class","button-container svelte-1fblcp9")},m(P,H){M(P,e,H),m(e,n),m(n,l),m(n,s),m(n,o),m(o,i),$(i,t[3].name),m(e,r),m(e,a),m(a,u),m(a,c),m(a,g),m(g,d),$(d,t[3].hp),m(e,v),m(e,_),m(_,b),m(_,S),m(_,A),m(A,h),$(h,t[3].attack_speed),m(e,y),m(e,O),m(O,E),m(O,w),m(O,k),m(k,L),$(L,t[3].hit_chance),m(k,T),m(e,N),m(e,J),m(J,U),m(J,q),m(J,Z),m(Z,V),$(V,t[3].min_damage),m(Z,oe),m(Z,K),$(K,t[3].max_damage),m(e,j),m(e,Q),m(Q,x),m(Q,le),m(Q,te),m(te,D),$(D,t[3].stun_chance),m(te,_e),M(P,Y,H),M(P,ne,H),ce||(G=[F(i,"input",t[6]),F(d,"input",t[7]),F(h,"input",t[8]),F(L,"input",t[9]),F(V,"input",t[10]),F(K,"input",t[11]),F(D,"input",t[12]),F(ne,"click",t[13])],ce=!0)},p(P,H){H&8&&i.value!==P[3].name&&$(i,P[3].name),H&8&&re(d.value)!==P[3].hp&&$(d,P[3].hp),H&8&&re(h.value)!==P[3].attack_speed&&$(h,P[3].attack_speed),H&8&&re(L.value)!==P[3].hit_chance&&$(L,P[3].hit_chance),H&8&&re(V.value)!==P[3].min_damage&&$(V,P[3].min_damage),H&8&&re(K.value)!==P[3].max_damage&&$(K,P[3].max_damage),H&8&&re(D.value)!==P[3].stun_chance&&$(D,P[3].stun_chance)},i:ee,o:ee,d(P){P&&C(e),P&&C(Y),P&&C(ne),ce=!1,me(G)}}}function Ct(t){let e,n,l,s,o,i=t[17].name+"",r,a,u,c,g,d,v;l=new ln({props:{combatant:t[17],isEnemy:t[1]}}),u=new sn({props:{combatant:t[17]}});function _(){return t[15](t[17])}return{c(){e=p("div"),n=p("div"),ue(l.$$.fragment),s=W(),o=p("b"),r=I(i),a=W(),ue(u.$$.fragment),c=W(),f(n,"class","combatant-side svelte-1fblcp9"),f(e,"class","combatant-row svelte-1fblcp9")},m(b,S){M(b,e,S),m(e,n),se(l,n,null),m(n,s),m(n,o),m(o,r),m(e,a),se(u,e,null),m(e,c),g=!0,d||(v=F(e,"click",_),d=!0)},p(b,S){t=b;const A={};S&2&&(A.combatant=t[17]),S&2&&(A.isEnemy=t[1]),l.$set(A),(!g||S&2)&&i!==(i=t[17].name+"")&&ae(r,i);const h={};S&2&&(h.combatant=t[17]),u.$set(h)},i(b){g||(R(l.$$.fragment,b),R(u.$$.fragment,b),g=!0)},o(b){z(l.$$.fragment,b),z(u.$$.fragment,b),g=!1},d(b){b&&C(e),ie(l),ie(u),d=!1,v()}}}function At(t){let e=!t[2]||t[17].name.match(t[4]),n,l,s=e&&Ct(t);return{c(){s&&s.c(),n=Se()},m(o,i){s&&s.m(o,i),M(o,n,i),l=!0},p(o,i){i&22&&(e=!o[2]||o[17].name.match(o[4])),e?s?(s.p(o,i),i&22&&R(s,1)):(s=Ct(o),s.c(),R(s,1),s.m(n.parentNode,n)):s&&(ge(),z(s,1,1,()=>{s=null}),pe())},i(o){l||(R(s),l=!0)},o(o){z(s),l=!1},d(o){s&&s.d(o),o&&C(n)}}}function cl(t){let e,n,l,s,o,i;const r=[fl,rl],a=[];function u(c,g){return c[3]?0:1}return l=u(t),s=a[l]=r[l](t),{c(){e=p("h2"),e.textContent="Add Combatant",n=W(),s.c(),o=Se(),f(e,"class","svelte-1fblcp9")},m(c,g){M(c,e,g),M(c,n,g),a[l].m(c,g),M(c,o,g),i=!0},p(c,[g]){let d=l;l=u(c),l===d?a[l].p(c,g):(ge(),z(a[d],1,1,()=>{a[d]=null}),pe(),s=a[l],s?s.p(c,g):(s=a[l]=r[l](c),s.c()),R(s,1),s.m(o.parentNode,o))},i(c){i||(R(s),i=!0)},o(c){z(s),i=!1},d(c){c&&C(e),c&&C(n),a[l].d(c),c&&C(o)}}}function ml(t,e,n){let l,{add:s}=e,{isEnemy:o}=e,i="";const r={name:"",hp:5,attack_speed:2.5,hit_chance:50,min_damage:1,max_damage:3,stun_chance:0};let a=null;function u(){a.name=this.value,n(3,a)}function c(){a.hp=re(this.value),n(3,a)}function g(){a.attack_speed=re(this.value),n(3,a)}function d(){a.hit_chance=re(this.value),n(3,a)}function v(){a.min_damage=re(this.value),n(3,a)}function _(){a.max_damage=re(this.value),n(3,a)}function b(){a.stun_chance=re(this.value),n(3,a)}const S=()=>{!a||(n(3,a.attack_speed*=10,a),n(3,a.hit_chance/=100,a),n(3,a.stun_chance/=100,a),a.name||n(3,a.name="Custom",a),s(a))};function A(){i=this.value,n(2,i)}const h=O=>s(O),y=()=>n(3,a={...r});return t.$$set=O=>{"add"in O&&n(0,s=O.add),"isEnemy"in O&&n(1,o=O.isEnemy)},t.$$.update=()=>{t.$$.dirty&4&&n(4,l=new RegExp(i,"ig"))},[s,o,i,a,l,r,u,c,g,d,v,_,b,S,A,h,y]}class _l extends we{constructor(e){super(),ve(this,e,ml,cl,be,{add:0,isEnemy:1})}}function dl(t){let e,n,l=t[0].count+"",s,o,i,r,a;return{c(){e=p("button"),e.textContent="\u2212",n=W(),s=I(l),o=W(),i=p("button"),i.textContent="+",f(e,"title","Hold Shift to decrease by 10"),f(e,"class","svelte-zkxo52"),X(e,"red",t[0].count===1),f(i,"title","Hold Shift to increase by 10"),f(i,"class","svelte-zkxo52")},m(u,c){M(u,e,c),M(u,n,c),M(u,s,c),M(u,o,c),M(u,i,c),r||(a=[F(e,"click",t[8]),F(i,"click",t[9])],r=!0)},p(u,c){c&1&&X(e,"red",u[0].count===1),c&1&&l!==(l=u[0].count+"")&&ae(s,l)},d(u){u&&C(e),u&&C(n),u&&C(s),u&&C(o),u&&C(i),r=!1,me(a)}}}function hl(t){let e,n,l,s,o;return{c(){e=p("input"),n=I(`
      \u2013
      `),l=p("input"),f(e,"type","number"),f(e,"min","1"),f(e,"max","99"),f(e,"step","1"),f(e,"class","svelte-zkxo52"),f(l,"type","number"),f(l,"maxlength","2"),f(l,"min","1"),f(l,"max","99"),f(l,"step","1"),f(l,"class","svelte-zkxo52")},m(i,r){M(i,e,r),$(e,t[0].min_count),M(i,n,r),M(i,l,r),$(l,t[0].max_count),s||(o=[F(e,"input",t[4]),F(e,"change",t[5]),F(l,"input",t[6]),F(l,"change",t[7])],s=!0)},p(i,r){r&1&&re(e.value)!==i[0].min_count&&$(e,i[0].min_count),r&1&&re(l.value)!==i[0].max_count&&$(l,i[0].max_count)},d(i){i&&C(e),i&&C(n),i&&C(l),s=!1,me(o)}}}function gl(t){let e,n,l,s,o,i,r=t[0].name+"",a,u,c,g,d,v,_,b=t[0].vary?"1":"\u2194",S,A,h,y,O;s=new ln({props:{combatant:t[0],isEnemy:t[1]}}),c=new sn({props:{combatant:t[0]}});function E(L,T){return L[0].vary?hl:dl}let w=E(t),k=w(t);return{c(){e=p("div"),n=p("button"),n.textContent="\u274C",l=W(),ue(s.$$.fragment),o=W(),i=p("b"),a=I(r),u=W(),ue(c.$$.fragment),g=W(),d=p("div"),k.c(),v=W(),_=p("button"),S=I(b),f(n,"class","delete svelte-zkxo52"),f(_,"class","switch svelte-zkxo52"),f(_,"title",A=t[0].vary?"Switch to setting a single value":"Switch to setting a range of values"),f(d,"class","row svelte-zkxo52"),X(d,"vary",!!t[0].vary),f(e,"class","container svelte-zkxo52")},m(L,T){M(L,e,T),m(e,n),m(e,l),se(s,e,null),m(e,o),m(e,i),m(i,a),m(e,u),se(c,e,null),m(e,g),m(e,d),k.m(d,null),m(d,v),m(d,_),m(_,S),h=!0,y||(O=[F(n,"click",t[3]),F(_,"click",t[10])],y=!0)},p(L,[T]){const N={};T&1&&(N.combatant=L[0]),T&2&&(N.isEnemy=L[1]),s.$set(N),(!h||T&1)&&r!==(r=L[0].name+"")&&ae(a,r);const J={};T&1&&(J.combatant=L[0]),c.$set(J),w===(w=E(L))&&k?k.p(L,T):(k.d(1),k=w(L),k&&(k.c(),k.m(d,v))),(!h||T&1)&&b!==(b=L[0].vary?"1":"\u2194")&&ae(S,b),(!h||T&1&&A!==(A=L[0].vary?"Switch to setting a single value":"Switch to setting a range of values"))&&f(_,"title",A),T&1&&X(d,"vary",!!L[0].vary)},i(L){h||(R(s.$$.fragment,L),R(c.$$.fragment,L),h=!0)},o(L){z(s.$$.fragment,L),z(c.$$.fragment,L),h=!1},d(L){L&&C(e),ie(s),ie(c),k.d(),y=!1,me(O)}}}function pl(t,e,n){let{combatant:l}=e,{isEnemy:s=!1}=e,{remove:o}=e;const i=()=>o(l);function r(){l.min_count=re(this.value),n(0,l)}const a=()=>{l.min_count||n(0,l.min_count=1,l),(!l.max_count||l.min_count>l.max_count)&&n(0,l.max_count=l.min_count,l)};function u(){l.max_count=re(this.value),n(0,l)}const c=()=>{l.max_count||n(0,l.max_count=1,l),(!l.min_count||l.max_count<l.min_count)&&n(0,l.min_count=l.max_count,l)},g=_=>{l.count===1?o(l):(n(0,l.count-=_.shiftKey?10:1,l),l.count<1&&n(0,l.count=1,l))},d=_=>{n(0,l.count+=_.shiftKey?10:1,l)},v=()=>{n(0,l.vary=!l.vary,l),l.vary&&(n(0,l.min_count=l.count,l),n(0,l.max_count=l.count,l))};return t.$$set=_=>{"combatant"in _&&n(0,l=_.combatant),"isEnemy"in _&&n(1,s=_.isEnemy),"remove"in _&&n(2,o=_.remove)},[l,s,o,i,r,a,u,c,g,d,v]}class on extends we{constructor(e){super(),ve(this,e,pl,gl,be,{combatant:0,isEnemy:1,remove:2})}}function Mt(t,e,n){const l=t.slice();return l[10]=e[n],l[11]=e,l[12]=n,l}function Bt(t,e,n){const l=t.slice();return l[13]=e[n],l[14]=e,l[15]=n,l}function Ot(t){let e,n,l;function s(i){t[4](i,t[13],t[14],t[15])}let o={remove:t[3]};return t[13]!==void 0&&(o.combatant=t[13]),e=new on({props:o}),fe.push(()=>ye(e,"combatant",s)),{c(){ue(e.$$.fragment)},m(i,r){se(e,i,r),l=!0},p(i,r){t=i;const a={};r&1&&(a.remove=t[3]),!n&&r&1&&(n=!0,a.combatant=t[13],ke(()=>n=!1)),e.$set(a)},i(i){l||(R(e.$$.fragment,i),l=!0)},o(i){z(e.$$.fragment,i),l=!1},d(i){ie(e,i)}}}function Et(t){let e,n,l;function s(i){t[7](i,t[10],t[11],t[12])}let o={isEnemy:!0,remove:t[6]};return t[10]!==void 0&&(o.combatant=t[10]),e=new on({props:o}),fe.push(()=>ye(e,"combatant",s)),{c(){ue(e.$$.fragment)},m(i,r){se(e,i,r),l=!0},p(i,r){t=i;const a={};r&2&&(a.remove=t[6]),!n&&r&2&&(n=!0,a.combatant=t[10],ke(()=>n=!1)),e.$set(a)},i(i){l||(R(e.$$.fragment,i),l=!0)},o(i){z(e.$$.fragment,i),l=!1},d(i){ie(e,i)}}}function bl(t){let e,n,l,s,o,i,r,a,u,c,g,d,v,_,b,S,A=t[0],h=[];for(let k=0;k<A.length;k+=1)h[k]=Ot(Bt(t,A,k));const y=k=>z(h[k],1,1,()=>{h[k]=null});let O=t[1],E=[];for(let k=0;k<O.length;k+=1)E[k]=Et(Mt(t,O,k));const w=k=>z(E[k],1,1,()=>{E[k]=null});return{c(){e=p("div");for(let k=0;k<h.length;k+=1)h[k].c();n=W(),l=p("button"),s=p("img"),i=W(),r=p("div"),a=W(),u=p("div");for(let k=0;k<E.length;k+=1)E[k].c();c=W(),g=p("button"),d=p("img"),et(s.src,o=yt)||f(s,"src",o),f(s,"alt","Add new combatant"),f(s,"title","Add combatant"),f(s,"width","100"),f(s,"height","100"),f(s,"class","svelte-1ax4x69"),f(l,"class","new svelte-1ax4x69"),f(e,"class","row svelte-1ax4x69"),f(r,"class","divider svelte-1ax4x69"),et(d.src,v=yt)||f(d,"src",v),f(d,"alt","Add new combatant"),f(d,"title","Add combatant"),f(d,"width","100"),f(d,"height","100"),f(d,"class","svelte-1ax4x69"),f(g,"class","new svelte-1ax4x69"),f(u,"class","row svelte-1ax4x69")},m(k,L){M(k,e,L);for(let T=0;T<h.length;T+=1)h[T].m(e,null);m(e,n),m(e,l),m(l,s),M(k,i,L),M(k,r,L),M(k,a,L),M(k,u,L);for(let T=0;T<E.length;T+=1)E[T].m(u,null);m(u,c),m(u,g),m(g,d),_=!0,b||(S=[F(l,"click",t[5]),F(g,"click",t[8])],b=!0)},p(k,[L]){if(L&1){A=k[0];let T;for(T=0;T<A.length;T+=1){const N=Bt(k,A,T);h[T]?(h[T].p(N,L),R(h[T],1)):(h[T]=Ot(N),h[T].c(),R(h[T],1),h[T].m(e,n))}for(ge(),T=A.length;T<h.length;T+=1)y(T);pe()}if(L&2){O=k[1];let T;for(T=0;T<O.length;T+=1){const N=Mt(k,O,T);E[T]?(E[T].p(N,L),R(E[T],1)):(E[T]=Et(N),E[T].c(),R(E[T],1),E[T].m(u,c))}for(ge(),T=O.length;T<E.length;T+=1)w(T);pe()}},i(k){if(!_){for(let L=0;L<A.length;L+=1)R(h[L]);for(let L=0;L<O.length;L+=1)R(E[L]);_=!0}},o(k){h=h.filter(Boolean);for(let L=0;L<h.length;L+=1)z(h[L]);E=E.filter(Boolean);for(let L=0;L<E.length;L+=1)z(E[L]);_=!1},d(k){k&&C(e),We(h,k),k&&C(i),k&&C(r),k&&C(a),k&&C(u),We(E,k),b=!1,me(S)}}}function vl(t,e,n){let{villagerSetup:l}=e,{enemySetup:s}=e;const o=Nn("simple-modal"),i=v=>{o.open(_l,{add:_=>{const b={..._,count:1};v?(s.push(b),n(1,s)):(l.push(b),n(0,l)),o.close()},isEnemy:v},{closeButton:!1,styleContent:{padding:"24px"},styleWindow:{background:"var(--card-bg)",color:"var(--text)",width:"400px"}})},r=v=>n(0,l=l.filter(_=>_!==v));function a(v,_,b,S){b[S]=v,n(0,l)}const u=()=>i(!1),c=v=>n(1,s=s.filter(_=>_!==v));function g(v,_,b,S){b[S]=v,n(1,s)}const d=()=>i(!0);return t.$$set=v=>{"villagerSetup"in v&&n(0,l=v.villagerSetup),"enemySetup"in v&&n(1,s=v.enemySetup)},[l,s,i,r,a,u,c,g,d]}class wl extends we{constructor(e){super(),ve(this,e,vl,bl,be,{villagerSetup:0,enemySetup:1})}}function Wt(t,e,n){const l=t.slice();return l[8]=e[n],l[10]=n,l}function Lt(t,e,n){const l=t.slice();return l[11]=e[n],l[10]=n,l}function Tt(t){let e,n=90-t[10]*10+"",l,s,o=100-t[10]*10+"",i,r,a,u,c,g,d;return{c(){e=p("div"),l=I(n),s=I("-"),i=I(o),r=I("%"),a=W(),u=p("div"),c=p("div"),g=W(),f(e,"class","label svelte-170nl0e"),f(c,"class","demon-hp svelte-170nl0e"),Le(c,"width",100*t[11]/t[3]+"%"),f(u,"class","bar svelte-170nl0e"),f(u,"data-title",d=(100*t[11]/t[2]).toFixed(2)+" %")},m(v,_){M(v,e,_),m(e,l),m(e,s),m(e,i),m(e,r),M(v,a,_),M(v,u,_),m(u,c),m(u,g)},p(v,_){_&9&&Le(c,"width",100*v[11]/v[3]+"%"),_&5&&d!==(d=(100*v[11]/v[2]).toFixed(2)+" %")&&f(u,"data-title",d)},d(v){v&&C(e),v&&C(a),v&&C(u)}}}function Dt(t){let e,n=t[10]+1+"",l,s,o,i,r,a;return{c(){e=p("div"),l=I(n),s=W(),o=p("div"),i=p("div"),r=W(),f(e,"class","label svelte-170nl0e"),f(i,"class","villagers svelte-170nl0e"),Le(i,"width",100*t[8]/t[3]+"%"),f(o,"class","bar svelte-170nl0e"),f(o,"data-title",a=(100*t[8]/t[2]).toFixed(2)+" %")},m(u,c){M(u,e,c),m(e,l),M(u,s,c),M(u,o,c),m(o,i),m(o,r)},p(u,c){c&9&&Le(i,"width",100*u[8]/u[3]+"%"),c&5&&a!==(a=(100*u[8]/u[2]).toFixed(2)+" %")&&f(o,"data-title",a)},d(u){u&&C(e),u&&C(s),u&&C(o)}}}function kl(t){let e,n,l,s,o,i,r,a,u,c,g,d,v,_=t[0].enemy_hp,b=[];for(let h=0;h<_.length;h+=1)b[h]=Tt(Lt(t,_,h));let S=t[0].village_survivors,A=[];for(let h=0;h<S.length;h+=1)A[h]=Dt(Wt(t,S,h));return{c(){e=p("b"),e.textContent="Lefover Enemy HP",n=W(),l=p("div");for(let h=0;h<b.length;h+=1)b[h].c();s=W(),o=p("br"),i=W(),r=p("b"),r.textContent="Leftover Villagers",a=W(),u=p("div");for(let h=0;h<A.length;h+=1)A[h].c();c=W(),g=p("div"),f(l,"class","stats-graph svelte-170nl0e"),f(u,"class","stats-graph svelte-170nl0e"),f(g,"class","tooltip hidden svelte-170nl0e")},m(h,y){M(h,e,y),M(h,n,y),M(h,l,y);for(let O=0;O<b.length;O+=1)b[O].m(l,null);M(h,s,y),M(h,o,y),M(h,i,y),M(h,r,y),M(h,a,y),M(h,u,y);for(let O=0;O<A.length;O+=1)A[O].m(u,null);M(h,c,y),M(h,g,y),t[7](g),d||(v=[F(l,"mousemove",t[4]),F(l,"mouseleave",t[5]),F(u,"mousemove",t[4]),F(u,"mouseleave",t[6])],d=!0)},p(h,[y]){if(y&13){_=h[0].enemy_hp;let O;for(O=0;O<_.length;O+=1){const E=Lt(h,_,O);b[O]?b[O].p(E,y):(b[O]=Tt(E),b[O].c(),b[O].m(l,null))}for(;O<b.length;O+=1)b[O].d(1);b.length=_.length}if(y&13){S=h[0].village_survivors;let O;for(O=0;O<S.length;O+=1){const E=Wt(h,S,O);A[O]?A[O].p(E,y):(A[O]=Dt(E),A[O].c(),A[O].m(u,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=S.length}},i:ee,o:ee,d(h){h&&C(e),h&&C(n),h&&C(l),We(b,h),h&&C(s),h&&C(o),h&&C(i),h&&C(r),h&&C(a),h&&C(u),We(A,h),h&&C(c),h&&C(g),t[7](null),d=!1,me(v)}}}function yl(t,e,n){let l,s,{result:o}=e,i;const r=g=>{let d=g.target;if(d&&!d.dataset.title&&(d=d.parentElement),!d||!d.dataset.title){i.classList.add("hidden");return}i.classList.remove("hidden"),n(1,i.innerText=d.dataset.title,i),n(1,i.style.top=g.clientY-25+"px",i),n(1,i.style.left=g.clientX+"px",i)},a=()=>i.classList.add("hidden"),u=()=>i.classList.add("hidden");function c(g){fe[g?"unshift":"push"](()=>{i=g,n(1,i)})}return t.$$set=g=>{"result"in g&&n(0,o=g.result)},t.$$.update=()=>{t.$$.dirty&1&&n(3,l=Math.max(...o.enemy_hp,...o.village_survivors)),t.$$.dirty&1&&n(2,s=[...o.enemy_hp,...o.village_survivors].reduce((g,d)=>g+d,0))},[o,i,s,l,r,a,u,c]}class Sl extends we{constructor(e){super(),ve(this,e,yl,kl,be,{result:0})}}function Pt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function Rt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function it(t){const e=t.slice(),n=e[3](e[0].villagerSetup);e[4]=n;const l=e[3](e[0].enemySetup);return e[5]=l,e}function Gt(t){let e,n,l,s=t[4].length>0&&zt(t),o=t[4].length>0&&t[5].length>0&&jt(),i=t[5].length>0&&Nt(t);return{c(){e=p("div"),s&&s.c(),n=W(),o&&o.c(),l=W(),i&&i.c()},m(r,a){M(r,e,a),s&&s.m(e,null),m(e,n),o&&o.m(e,null),m(e,l),i&&i.m(e,null)},p(r,a){r[4].length>0?s?s.p(r,a):(s=zt(r),s.c(),s.m(e,n)):s&&(s.d(1),s=null),r[4].length>0&&r[5].length>0?o||(o=jt(),o.c(),o.m(e,l)):o&&(o.d(1),o=null),r[5].length>0?i?i.p(r,a):(i=Nt(r),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(r){r&&C(e),s&&s.d(),o&&o.d(),i&&i.d()}}}function zt(t){let e,n=t[4],l=[];for(let s=0;s<n.length;s+=1)l[s]=It(Rt(t,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Se()},m(s,o){for(let i=0;i<l.length;i+=1)l[i].m(s,o);M(s,e,o)},p(s,o){if(o&9){n=s[4];let i;for(i=0;i<n.length;i+=1){const r=Rt(s,n,i);l[i]?l[i].p(r,o):(l[i]=It(r),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){We(l,s),s&&C(e)}}}function Ft(t){let e;return{c(){e=I("/")},m(n,l){M(n,e,l)},d(n){n&&C(e)}}}function It(t){let e,n=t[6].count+"",l,s,o,i,r=t[8]!==t[4].length-1&&Ft();return{c(){e=p("span"),l=I(n),o=W(),r&&r.c(),i=Se(),f(e,"title",s=t[6].name)},m(a,u){M(a,e,u),m(e,l),M(a,o,u),r&&r.m(a,u),M(a,i,u)},p(a,u){u&1&&n!==(n=a[6].count+"")&&ae(l,n),u&1&&s!==(s=a[6].name)&&f(e,"title",s),a[8]!==a[4].length-1?r||(r=Ft(),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(a){a&&C(e),a&&C(o),r&&r.d(a),a&&C(i)}}}function jt(t){let e;return{c(){e=I("|")},m(n,l){M(n,e,l)},d(n){n&&C(e)}}}function Nt(t){let e,n=t[5],l=[];for(let s=0;s<n.length;s+=1)l[s]=Ht(Pt(t,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Se()},m(s,o){for(let i=0;i<l.length;i+=1)l[i].m(s,o);M(s,e,o)},p(s,o){if(o&9){n=s[5];let i;for(i=0;i<n.length;i+=1){const r=Pt(s,n,i);l[i]?l[i].p(r,o):(l[i]=Ht(r),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){We(l,s),s&&C(e)}}}function Yt(t){let e;return{c(){e=I("/")},m(n,l){M(n,e,l)},d(n){n&&C(e)}}}function Ht(t){let e,n=t[6].count+"",l,s,o,i,r=t[8]!==t[5].length-1&&Yt();return{c(){e=p("span"),l=I(n),o=W(),r&&r.c(),i=Se(),f(e,"title",s=t[6].name)},m(a,u){M(a,e,u),m(e,l),M(a,o,u),r&&r.m(a,u),M(a,i,u)},p(a,u){u&1&&n!==(n=a[6].count+"")&&ae(l,n),u&1&&s!==(s=a[6].name)&&f(e,"title",s),a[8]!==a[5].length-1?r||(r=Yt(),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d(a){a&&C(e),a&&C(o),r&&r.d(a),a&&C(i)}}}function Cl(t){let e,n,l=t[0].monthStart+"",s,o,i,r,a,u,c,g,d=`${t[2]}%`,v,_,b=Math.floor(t[0].total_length/t[0].iters)+"",S,A,h,y=t[0].longest+"",O,E=t[1]&&Gt(it(t));return{c(){E&&E.c(),e=W(),n=p("div"),s=I(l),o=W(),i=p("div"),r=I(t[2]),a=I(" %"),u=W(),c=p("div"),g=p("div"),v=W(),_=p("div"),S=I(b),A=W(),h=p("div"),O=I(y),f(g,"class","win-rate-bar-inner svelte-118pgso"),Le(g,"width",d,!1),f(c,"class","win-rate-bar svelte-118pgso")},m(w,k){E&&E.m(w,k),M(w,e,k),M(w,n,k),m(n,s),M(w,o,k),M(w,i,k),m(i,r),m(i,a),M(w,u,k),M(w,c,k),m(c,g),M(w,v,k),M(w,_,k),m(_,S),M(w,A,k),M(w,h,k),m(h,O)},p(w,[k]){w[1]?E?E.p(it(w),k):(E=Gt(it(w)),E.c(),E.m(e.parentNode,e)):E&&(E.d(1),E=null),k&1&&l!==(l=w[0].monthStart+"")&&ae(s,l),k&4&&ae(r,w[2]),k&4&&d!==(d=`${w[2]}%`)&&Le(g,"width",d,!1),k&1&&b!==(b=Math.floor(w[0].total_length/w[0].iters)+"")&&ae(S,b),k&1&&y!==(y=w[0].longest+"")&&ae(O,y)},i:ee,o:ee,d(w){E&&E.d(w),w&&C(e),w&&C(n),w&&C(o),w&&C(i),w&&C(u),w&&C(c),w&&C(v),w&&C(_),w&&C(A),w&&C(h)}}}function Al(t,e,n){let l,{result:s}=e,{showSetup:o}=e;const i=r=>{const a=[];for(const u of r)u.vary&&a.push(u);return a};return t.$$set=r=>{"result"in r&&n(0,s=r.result),"showSetup"in r&&n(1,o=r.showSetup)},t.$$.update=()=>{t.$$.dirty&1&&n(2,l=(100*s.wins/s.iters).toFixed(2))},[s,o,l,i]}class an extends we{constructor(e){super(),ve(this,e,Al,Cl,be,{result:0,showSetup:1})}}function Ut(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Ml(t){const e=t.slice(),n=e[0]===null?e[2][0]:e[2][e[0]];return e[11]=n,e}function Vt(t){let e;return{c(){e=p("span"),e.textContent="Setup"},m(n,l){M(n,e,l)},d(n){n&&C(e)}}}function Bl(t){let e,n,l=t[2],s=[];for(let i=0;i<l.length;i+=1)s[i]=Qt(Ut(t,l,i));const o=i=>z(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Se()},m(i,r){for(let a=0;a<s.length;a+=1)s[a].m(i,r);M(i,e,r),n=!0},p(i,r){if(r&7){l=i[2];let a;for(a=0;a<l.length;a+=1){const u=Ut(i,l,a);s[a]?(s[a].p(u,r),R(s[a],1)):(s[a]=Qt(u),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(ge(),a=l.length;a<s.length;a+=1)o(a);pe()}},i(i){if(!n){for(let r=0;r<l.length;r+=1)R(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)z(s[r]);n=!1},d(i){We(s,i),i&&C(e)}}}function Ol(t){let e,n,l,s,o,i,r,a,u;return n=new an({props:{result:t[11],showSetup:t[1]}}),i=new Sl({props:{result:t[11]}}),{c(){e=p("div"),ue(n.$$.fragment),l=W(),s=p("br"),o=W(),ue(i.$$.fragment),f(e,"class","row svelte-bzckt0"),X(e,"showSetup",t[1]),X(e,"no-hover",t[0]===null)},m(c,g){M(c,e,g),se(n,e,null),M(c,l,g),M(c,s,g),M(c,o,g),se(i,c,g),r=!0,a||(u=F(e,"click",t[6]),a=!0)},p(c,g){const d={};g&5&&(d.result=c[11]),g&2&&(d.showSetup=c[1]),n.$set(d),g&2&&X(e,"showSetup",c[1]),g&1&&X(e,"no-hover",c[0]===null);const v={};g&5&&(v.result=c[11]),i.$set(v)},i(c){r||(R(n.$$.fragment,c),R(i.$$.fragment,c),r=!0)},o(c){z(n.$$.fragment,c),z(i.$$.fragment,c),r=!1},d(c){c&&C(e),ie(n),c&&C(l),c&&C(s),c&&C(o),ie(i,c),a=!1,u()}}}function Qt(t){let e,n,l,s,o,i;n=new an({props:{result:t[11],showSetup:t[1]}});function r(){return t[7](t[13])}return{c(){e=p("div"),ue(n.$$.fragment),l=W(),f(e,"class","row svelte-bzckt0"),X(e,"showSetup",t[1])},m(a,u){M(a,e,u),se(n,e,null),m(e,l),s=!0,o||(i=F(e,"click",r),o=!0)},p(a,u){t=a;const c={};u&4&&(c.result=t[11]),u&2&&(c.showSetup=t[1]),n.$set(c),u&2&&X(e,"showSetup",t[1])},i(a){s||(R(n.$$.fragment,a),s=!0)},o(a){z(n.$$.fragment,a),s=!1},d(a){a&&C(e),ie(n),o=!1,i()}}}function El(t){let e,n,l,s,o,i,r,a,u,c,g,d,v,_,b,S,A=t[1]&&Vt();const h=[Ol,Bl],y=[];function O(w,k){return w[0]!==null||w[2].length===1?0:1}function E(w,k){return k===0?Ml(w):w}return v=O(t),_=y[v]=h[v](E(t,v)),{c(){e=p("b"),A&&A.c(),n=W(),l=p("span"),l.textContent="Start (s)",s=W(),o=p("span"),o.textContent="Win Rate",i=W(),r=p("span"),a=W(),u=p("span"),u.textContent="Avg Length (s)",c=W(),g=p("span"),g.textContent="Longest (s)",d=W(),_.c(),b=Se(),f(e,"class","row svelte-bzckt0"),X(e,"showSetup",t[1])},m(w,k){M(w,e,k),A&&A.m(e,null),m(e,n),m(e,l),m(e,s),m(e,o),m(e,i),m(e,r),m(e,a),m(e,u),m(e,c),m(e,g),M(w,d,k),y[v].m(w,k),M(w,b,k),S=!0},p(w,[k]){w[1]?A||(A=Vt(),A.c(),A.m(e,n)):A&&(A.d(1),A=null),k&2&&X(e,"showSetup",w[1]);let L=v;v=O(w),v===L?y[v].p(E(w,v),k):(ge(),z(y[L],1,1,()=>{y[L]=null}),pe(),_=y[v],_?_.p(E(w,v),k):(_=y[v]=h[v](E(w,v)),_.c()),R(_,1),_.m(b.parentNode,b))},i(w){S||(R(_),S=!0)},o(w){z(_),S=!1},d(w){w&&C(e),A&&A.d(),w&&C(d),y[v].d(w),w&&C(b)}}}function Wl(t,e,n){let l,s,{results:o}=e,{onlyShowOptimal:i}=e,r=null;const a=()=>{n(0,r=null)},u=(_,b)=>{for(const S in _.villagerSetup)if(_.villagerSetup[S].count!==b.villagerSetup[S].count)return!1;for(const S in _.enemySetup)if(_.enemySetup[S].count!==b.enemySetup[S].count)return!1;return!0},c=(_,b)=>{if(_.wins>b.wins)return!0;if(_.wins<b.wins)return!1;const S=_.village_survivors.map((h,y)=>h*(y+1)).reduce((h,y)=>h+y,0),A=b.village_survivors.map((h,y)=>h*(y+1)).reduce((h,y)=>h+y,0);return S>A},g=(_,b)=>{if(!b)return _;let S=null,A=[];for(const h of _)!S||!u(S,h)?(S&&A.push(S),S=h):c(h,S)&&(S=h);return S&&A.push(S),A},d=()=>n(0,r=null),v=_=>n(0,r=_);return t.$$set=_=>{"results"in _&&n(3,o=_.results),"onlyShowOptimal"in _&&n(4,i=_.onlyShowOptimal)},t.$$.update=()=>{t.$$.dirty&24&&n(2,l=g(o,i)),t.$$.dirty&8&&n(1,s=o.length>0&&(o[0].villagerSetup.some(_=>_.vary)||o[0].enemySetup.some(_=>_.vary)))},[r,s,l,o,i,a,d,v]}class Ll extends we{constructor(e){super(),ve(this,e,Wl,El,be,{results:3,onlyShowOptimal:4,reset:5})}get reset(){return this.$$.ctx[5]}}const Ge=[];function Tl(t,e=ee){let n;const l=new Set;function s(r){if(be(t,r)&&(t=r,n)){const a=!Ge.length;for(const u of l)u[1](),Ge.push(u,t);if(a){for(let u=0;u<Ge.length;u+=2)Ge[u][0](Ge[u+1]);Ge.length=0}}}function o(r){s(r(t))}function i(r,a=ee){const u=[r,a];return l.add(u),l.size===1&&(n=e(s)||ee),r(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:s,update:o,subscribe:i}}const Jt=t=>{let e=1;for(const n of t)n.vary&&(e*=Math.max(1,n.max_count-n.min_count+1));return e},Ee=(t,e)=>{const n=localStorage.getItem(t);if(n)try{e=JSON.parse(n)}catch{}const l=Tl(e);return{set(s){l.set(s),localStorage.setItem(t,JSON.stringify(s))},update(s){l.update(o=>{const i=s(o);return localStorage.setItem(t,JSON.stringify(i)),i})},subscribe(s,o){return l.subscribe(s,o)}}};function Xt(t){let e,n;return{c(){e=I("/"),n=I(t[1])},m(l,s){M(l,e,s),M(l,n,s)},p(l,s){s&2&&ae(n,l[1])},d(l){l&&C(e),l&&C(n)}}}function Dl(t){let e,n,l,s,o,i,r,a=t[4]&&Xt(t);return{c(){e=p("div"),n=p("span"),l=I(t[0]),a&&a.c(),s=W(),o=p("input"),f(n,"class","svelte-1n91gn1"),f(o,"type","range"),f(o,"min",t[2]),f(o,"step",t[3]),f(o,"max",t[1]),f(o,"class","svelte-1n91gn1"),f(e,"class","svelte-1n91gn1")},m(u,c){M(u,e,c),m(e,n),m(n,l),a&&a.m(n,null),m(e,s),m(e,o),$(o,t[0]),i||(r=[F(o,"change",t[5]),F(o,"input",t[5])],i=!0)},p(u,[c]){c&1&&ae(l,u[0]),u[4]?a?a.p(u,c):(a=Xt(u),a.c(),a.m(n,null)):a&&(a.d(1),a=null),c&4&&f(o,"min",u[2]),c&8&&f(o,"step",u[3]),c&2&&f(o,"max",u[1]),c&1&&$(o,u[0])},i:ee,o:ee,d(u){u&&C(e),a&&a.d(),i=!1,me(r)}}}function Pl(t,e,n){let{value:l}=e,{max:s}=e,{min:o=0}=e,{step:i=1}=e,{showMax:r=!1}=e;function a(){l=re(this.value),n(0,l)}return t.$$set=u=>{"value"in u&&n(0,l=u.value),"max"in u&&n(1,s=u.max),"min"in u&&n(2,o=u.min),"step"in u&&n(3,i=u.step),"showMax"in u&&n(4,r=u.showMax)},[l,s,o,i,r,a]}class un extends we{constructor(e){super(),ve(this,e,Pl,Dl,be,{value:0,max:1,min:2,step:3,showMax:4})}}function Rl(t){let e,n,l,s,o,i,r;function a(c){t[14](c)}let u={max:t[0],step:5,showMax:!0};return t[2]!==void 0&&(u.value=t[2]),o=new un({props:u}),fe.push(()=>ye(o,"value",a)),{c(){e=p("tr"),n=p("td"),n.textContent="Month Start:",l=W(),s=p("td"),ue(o.$$.fragment),f(n,"class","svelte-s5kw35"),f(s,"class","center svelte-s5kw35"),f(e,"class","svelte-s5kw35")},m(c,g){M(c,e,g),m(e,n),m(e,l),m(e,s),se(o,s,null),r=!0},p(c,g){const d={};g&1&&(d.max=c[0]),!i&&g&4&&(i=!0,d.value=c[2],ke(()=>i=!1)),o.$set(d)},i(c){r||(R(o.$$.fragment,c),r=!0)},o(c){z(o.$$.fragment,c),r=!1},d(c){c&&C(e),ie(o)}}}function Gl(t){let e,n,l,s,o,i,r;function a(c){t[13](c)}let u={min:5,max:Math.floor(t[0]/2),step:5};return t[1]!==void 0&&(u.value=t[1]),o=new un({props:u}),fe.push(()=>ye(o,"value",a)),{c(){e=p("tr"),n=p("td"),n.textContent="Start steps:",l=W(),s=p("td"),ue(o.$$.fragment),f(n,"class","svelte-s5kw35"),f(s,"class","center svelte-s5kw35"),f(e,"title","How many seconds between each month start time attempt. A lower amount means more accuracy but it takes longer since it leads to more options to check."),f(e,"class","svelte-s5kw35")},m(c,g){M(c,e,g),m(e,n),m(e,l),m(e,s),se(o,s,null),r=!0},p(c,g){const d={};g&1&&(d.max=Math.floor(c[0]/2)),!i&&g&2&&(i=!0,d.value=c[1],ke(()=>i=!1)),o.$set(d)},i(c){r||(R(o.$$.fragment,c),r=!0)},o(c){z(o.$$.fragment,c),r=!1},d(c){c&&C(e),ie(o)}}}function zl(t){let e,n,l,s,o,i,r,a,u,c,g,d,v,_,b,S,A,h,y,O,E,w,k,L,T,N,J,U,q,Z,V,oe=t[8]*(t[4]?Math.floor(t[0]/t[1]):1)+"",K,j,Q,x,le=t[5]?"Cancel":"Simulate",te,D,_e,Y;const ne=[Gl,Rl],ce=[];function G(P,H){return P[4]?0:1}return y=G(t),O=ce[y]=ne[y](t),{c(){e=p("h3"),e.textContent="Simulation Settings",n=W(),l=p("table"),s=p("tr"),o=p("td"),o.textContent="Month Length:",i=W(),r=p("td"),a=p("select"),u=p("option"),u.textContent="Short (90s)",c=p("option"),c.textContent="Normal (120s)",g=p("option"),g.textContent="Long (200s)",d=W(),v=p("tr"),_=p("td"),_.textContent="Find optimal start:",b=W(),S=p("td"),A=p("input"),h=W(),O.c(),E=W(),w=p("tr"),k=p("td"),k.textContent="Iterations:",L=W(),T=p("td"),N=p("input"),J=W(),U=p("tr"),q=p("td"),q.textContent="Max scenarios:",Z=W(),V=p("td"),K=I(oe),j=W(),Q=p("div"),x=p("button"),te=I(le),f(e,"class","svelte-s5kw35"),f(o,"class","svelte-s5kw35"),u.__value=90,u.value=u.__value,c.__value=120,c.value=c.__value,g.__value=200,g.value=g.__value,t[0]===void 0&&De(()=>t[11].call(a)),f(r,"class","svelte-s5kw35"),f(s,"class","svelte-s5kw35"),f(_,"class","svelte-s5kw35"),f(A,"type","checkbox"),f(S,"class","svelte-s5kw35"),f(v,"title","Try various month start times to find the best one"),f(v,"class","svelte-s5kw35"),f(k,"class","svelte-s5kw35"),f(N,"type","number"),f(N,"min","1"),f(N,"max","100000000"),f(T,"class","svelte-s5kw35"),f(w,"class","svelte-s5kw35"),f(q,"class","svelte-s5kw35"),f(V,"class","svelte-s5kw35"),f(U,"title","How many different possible scenarios will be tested with the current setup (the higher the longer the simulation takes)."),f(U,"class","svelte-s5kw35"),f(l,"class","svelte-s5kw35"),f(x,"class","button button-primary"),X(x,"button-cancel",t[5]),f(Q,"class","button-container svelte-s5kw35")},m(P,H){M(P,e,H),M(P,n,H),M(P,l,H),m(l,s),m(s,o),m(s,i),m(s,r),m(r,a),m(a,u),m(a,c),m(a,g),bt(a,t[0]),m(l,d),m(l,v),m(v,_),m(v,b),m(v,S),m(S,A),A.checked=t[4],m(l,h),ce[y].m(l,null),m(l,E),m(l,w),m(w,k),m(w,L),m(w,T),m(T,N),$(N,t[3]),m(l,J),m(l,U),m(U,q),m(U,Z),m(U,V),m(V,K),M(P,j,H),M(P,Q,H),m(Q,x),m(x,te),D=!0,_e||(Y=[F(a,"change",t[11]),F(A,"change",t[12]),F(N,"input",t[15]),F(x,"click",function(){Te(t[5]?t[6]:t[7])&&(t[5]?t[6]:t[7]).apply(this,arguments)})],_e=!0)},p(P,[H]){t=P,H&1&&bt(a,t[0]),H&16&&(A.checked=t[4]);let de=y;y=G(t),y===de?ce[y].p(t,H):(ge(),z(ce[de],1,1,()=>{ce[de]=null}),pe(),O=ce[y],O?O.p(t,H):(O=ce[y]=ne[y](t),O.c()),R(O,1),O.m(l,E)),H&8&&re(N.value)!==t[3]&&$(N,t[3]),(!D||H&275)&&oe!==(oe=t[8]*(t[4]?Math.floor(t[0]/t[1]):1)+"")&&ae(K,oe),(!D||H&32)&&le!==(le=t[5]?"Cancel":"Simulate")&&ae(te,le),H&32&&X(x,"button-cancel",t[5])},i(P){D||(R(O),D=!0)},o(P){z(O),D=!1},d(P){P&&C(e),P&&C(n),P&&C(l),ce[y].d(),P&&C(j),P&&C(Q),_e=!1,me(Y)}}}function Fl(t,e,n){let l,{monthLength:s}=e,{monthStart:o}=e,{iterations:i}=e,{findMonthStart:r}=e,{findMonthStartStep:a}=e,{running:u}=e,{villagerSetup:c}=e,{enemySetup:g}=e,{cancel:d}=e,{run:v}=e;function _(){s=Tn(this),n(0,s)}function b(){r=this.checked,n(4,r)}function S(y){a=y,n(1,a),n(0,s)}function A(y){o=y,n(2,o)}function h(){i=re(this.value),n(3,i)}return t.$$set=y=>{"monthLength"in y&&n(0,s=y.monthLength),"monthStart"in y&&n(2,o=y.monthStart),"iterations"in y&&n(3,i=y.iterations),"findMonthStart"in y&&n(4,r=y.findMonthStart),"findMonthStartStep"in y&&n(1,a=y.findMonthStartStep),"running"in y&&n(5,u=y.running),"villagerSetup"in y&&n(9,c=y.villagerSetup),"enemySetup"in y&&n(10,g=y.enemySetup),"cancel"in y&&n(6,d=y.cancel),"run"in y&&n(7,v=y.run)},t.$$.update=()=>{if(t.$$.dirty&1536&&n(8,l=Jt(c)*Jt(g)),t.$$.dirty&3){const y=Math.floor(s/2);a>y&&n(1,a=y)}},[s,a,o,i,r,u,d,v,l,c,g,_,b,S,A,h]}class Il extends we{constructor(e){super(),ve(this,e,Fl,zl,be,{monthLength:0,monthStart:2,iterations:3,findMonthStart:4,findMonthStartStep:1,running:5,villagerSetup:9,enemySetup:10,cancel:6,run:7})}}function jl(t){let e,n,l,s,o,i,r,a,u,c,g;return{c(){e=p("h3"),e.textContent="Display Settings",n=W(),l=p("table"),s=p("tr"),o=p("td"),o.textContent="Only show optimal start time:",i=W(),r=p("td"),a=p("input"),f(e,"class","svelte-1wdg570"),f(o,"class","svelte-1wdg570"),f(a,"type","checkbox"),a.disabled=u=!t[1],f(r,"class","svelte-1wdg570"),f(s,"class","svelte-1wdg570"),f(l,"class","svelte-1wdg570")},m(d,v){M(d,e,v),M(d,n,v),M(d,l,v),m(l,s),m(s,o),m(s,i),m(s,r),m(r,a),a.checked=t[0],c||(g=F(a,"change",t[2]),c=!0)},p(d,[v]){v&2&&u!==(u=!d[1])&&(a.disabled=u),v&1&&(a.checked=d[0])},i:ee,o:ee,d(d){d&&C(e),d&&C(n),d&&C(l),c=!1,g()}}}function Nl(t,e,n){let{onlyShowOptimal:l}=e,{findMonthStart:s}=e;function o(){l=this.checked,n(0,l)}return t.$$set=i=>{"onlyShowOptimal"in i&&n(0,l=i.onlyShowOptimal),"findMonthStart"in i&&n(1,s=i.findMonthStart)},[l,s,o]}class Yl extends we{constructor(e){super(),ve(this,e,Nl,jl,be,{onlyShowOptimal:0,findMonthStart:1})}}function Hl(){return new Worker("/stacklands-combat-simulator/assets/worker.34de0b0d.js")}function Ul(t){let e,n,l={results:t[3],onlyShowOptimal:t[12]&&t[6]};return e=new Ll({props:l}),t[25](e),{c(){ue(e.$$.fragment)},m(s,o){se(e,s,o),n=!0},p(s,o){const i={};o[0]&8&&(i.results=s[3]),o[0]&4160&&(i.onlyShowOptimal=s[12]&&s[6]),e.$set(i)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){z(e.$$.fragment,s),n=!1},d(s){t[25](null),ie(e,s)}}}function Vl(t){let e,n,l,s;function o(a){t[23](a)}function i(a){t[24](a)}let r={};return t[10]!==void 0&&(r.villagerSetup=t[10]),t[9]!==void 0&&(r.enemySetup=t[9]),e=new wl({props:r}),fe.push(()=>ye(e,"villagerSetup",o)),fe.push(()=>ye(e,"enemySetup",i)),{c(){ue(e.$$.fragment)},m(a,u){se(e,a,u),s=!0},p(a,u){const c={};!n&&u[0]&1024&&(n=!0,c.villagerSetup=a[10],ke(()=>n=!1)),!l&&u[0]&512&&(l=!0,c.enemySetup=a[9],ke(()=>l=!1)),e.$set(c)},i(a){s||(R(e.$$.fragment,a),s=!0)},o(a){z(e.$$.fragment,a),s=!1},d(a){ie(e,a)}}}function Ql(t){let e,n,l,s,o,i,r,a,u,c,g,d,v,_,b,S,A,h,y,O,E,w,k,L,T,N,J,U,q=`${t[1]}%`,Z,V,oe;const K=[Vl,Ul],j=[];function Q(G,P){return G[2]==="editor"?0:1}o=Q(t),i=j[o]=K[o](t);function x(G){t[28](G)}function le(G){t[29](G)}function te(G){t[30](G)}function D(G){t[31](G)}function _e(G){t[32](G)}let Y={villagerSetup:t[10],enemySetup:t[9],running:t[0],cancel:t[22],run:t[21]};t[11]!==void 0&&(Y.iterations=t[11]),t[8]!==void 0&&(Y.monthLength=t[8]),t[7]!==void 0&&(Y.monthStart=t[7]),t[6]!==void 0&&(Y.findMonthStart=t[6]),t[5]!==void 0&&(Y.findMonthStartStep=t[5]),_=new Il({props:Y}),fe.push(()=>ye(_,"iterations",x)),fe.push(()=>ye(_,"monthLength",le)),fe.push(()=>ye(_,"monthStart",te)),fe.push(()=>ye(_,"findMonthStart",D)),fe.push(()=>ye(_,"findMonthStartStep",_e));function ne(G){t[33](G)}let ce={findMonthStart:t[6]};return t[12]!==void 0&&(ce.onlyShowOptimal=t[12]),w=new Yl({props:ce}),fe.push(()=>ye(w,"onlyShowOptimal",ne)),{c(){e=p("div"),n=p("h1"),n.textContent="Stacklands Combat Simulator",l=W(),s=p("main"),i.c(),r=W(),a=p("nav"),u=p("button"),u.textContent="Edit Setup",c=W(),g=p("button"),g.textContent="View Results",d=W(),v=p("aside"),ue(_.$$.fragment),O=W(),E=p("aside"),ue(w.$$.fragment),L=W(),T=p("a"),T.textContent="Source Code",N=W(),J=p("div"),U=p("div"),f(n,"class","svelte-1bo58wp"),f(s,"class","card svelte-1bo58wp"),f(u,"class","button svelte-1bo58wp"),f(g,"class","button svelte-1bo58wp"),f(a,"class","card svelte-1bo58wp"),f(v,"class","settings-simulation card svelte-1bo58wp"),f(E,"class","settings-view card svelte-1bo58wp"),f(T,"id","source-link"),f(T,"href","https://github.com/benediktwerner/stacklands-combat-simulator"),f(T,"target","_blank"),f(T,"class","svelte-1bo58wp"),f(e,"id","container"),f(e,"class","svelte-1bo58wp"),f(U,"class","progress-bar-inner svelte-1bo58wp"),Le(U,"width",q,!1),f(J,"class","progress-bar svelte-1bo58wp")},m(G,P){M(G,e,P),m(e,n),m(e,l),m(e,s),j[o].m(s,null),m(e,r),m(e,a),m(a,u),m(a,c),m(a,g),m(e,d),m(e,v),se(_,v,null),m(e,O),m(e,E),se(w,E,null),m(e,L),m(e,T),M(G,N,P),M(G,J,P),m(J,U),Z=!0,V||(oe=[F(u,"click",t[26]),F(g,"click",t[27])],V=!0)},p(G,P){let H=o;o=Q(G),o===H?j[o].p(G,P):(ge(),z(j[H],1,1,()=>{j[H]=null}),pe(),i=j[o],i?i.p(G,P):(i=j[o]=K[o](G),i.c()),R(i,1),i.m(s,null));const de={};P[0]&1024&&(de.villagerSetup=G[10]),P[0]&512&&(de.enemySetup=G[9]),P[0]&1&&(de.running=G[0]),!b&&P[0]&2048&&(b=!0,de.iterations=G[11],ke(()=>b=!1)),!S&&P[0]&256&&(S=!0,de.monthLength=G[8],ke(()=>S=!1)),!A&&P[0]&128&&(A=!0,de.monthStart=G[7],ke(()=>A=!1)),!h&&P[0]&64&&(h=!0,de.findMonthStart=G[6],ke(()=>h=!1)),!y&&P[0]&32&&(y=!0,de.findMonthStartStep=G[5],ke(()=>y=!1)),_.$set(de);const Pe={};P[0]&64&&(Pe.findMonthStart=G[6]),!k&&P[0]&4096&&(k=!0,Pe.onlyShowOptimal=G[12],ke(()=>k=!1)),w.$set(Pe),P[0]&2&&q!==(q=`${G[1]}%`)&&Le(U,"width",q,!1)},i(G){Z||(R(i),R(_.$$.fragment,G),R(w.$$.fragment,G),Z=!0)},o(G){z(i),z(_.$$.fragment,G),z(w.$$.fragment,G),Z=!1},d(G){G&&C(e),j[o].d(),ie(_),ie(w),G&&C(N),G&&C(J),V=!1,me(oe)}}}function Jl(t){let e,n;return e=new nl({props:{$$slots:{default:[Ql]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(l,s){se(e,l,s),n=!0},p(l,s){const o={};s[0]&8191|s[1]&32&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){ie(e,l)}}}function Xl(t,e,n){let l,s,o,i,r,a,u,c,g=Ee("monthLength",90);Oe(t,g,D=>n(8,i=D));let d=Ee("monthStart",0);Oe(t,d,D=>n(7,o=D));let v=Ee("iterations",1e3);Oe(t,v,D=>n(11,u=D));let _=Ee("findMonthStart",!0);Oe(t,_,D=>n(6,s=D));let b=Ee("findMonthStartStep",15);Oe(t,b,D=>n(5,l=D));let S=Ee("onlyShowOptimal",!0);Oe(t,S,D=>n(12,c=D));let A=!1,h=0,y="editor",O=Ee("villagerSetup",[{...ut[5],count:8,vary:!0,min_count:8,max_count:20}]);Oe(t,O,D=>n(10,a=D));let E=Ee("enemySetup",[{...rt[2],count:1}]);Oe(t,E,D=>n(9,r=D));let w=null,k=[],L,T=null;const N=()=>{n(2,y="results"),n(0,A=!0),n(1,h=0),n(3,k=[]),L==null||L.reset(),w===null&&(w=new Hl,w.onmessage=_e=>{const Y=_e.data;switch(Y.type){case"progress":n(1,h+=Y.progress),Y.newResult&&(Y.replace?n(3,k[k.length-1]=Y.newResult,k):k.push(Y.newResult),n(3,k));break;case"done":n(1,h=100),n(0,A=!1);break;case"cancelled":T&&(clearTimeout(T),T=null,n(1,h=100));break}});const D={type:"simulate",setup:{iterations:u,villagerSetup:a,enemySetup:r,monthLength:i,monthStart:o},findMonthStart:s,findMonthStartStep:l};w.postMessage(D)},J=()=>{n(0,A=!1),w!==null&&(w.postMessage({type:"cancel"}),T=setTimeout(()=>{w==null||w.terminate(),w=null,n(1,h=100)},1e3))};function U(D){a=D,O.set(a)}function q(D){r=D,E.set(r)}function Z(D){fe[D?"unshift":"push"](()=>{L=D,n(4,L)})}const V=()=>n(2,y="editor"),oe=()=>n(2,y="results");function K(D){u=D,v.set(u)}function j(D){i=D,g.set(i)}function Q(D){o=D,d.set(o)}function x(D){s=D,_.set(s)}function le(D){l=D,b.set(l)}function te(D){c=D,S.set(c)}return[A,h,y,k,L,l,s,o,i,r,a,u,c,g,d,v,_,b,S,O,E,N,J,U,q,Z,V,oe,K,j,Q,x,le,te]}class Kl extends we{constructor(e){super(),ve(this,e,Xl,Jl,be,{},null,[-1,-1])}}new Kl({target:document.getElementById("app")});
