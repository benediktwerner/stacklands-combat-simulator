(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ee(){}const Kt=t=>t;function wn(t,e){for(const n in e)t[n]=e[n];return t}function qt(t){return t()}function pt(){return Object.create(null)}function me(t){t.forEach(qt)}function Te(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ke;function et(t,e){return Ke||(Ke=document.createElement("a")),Ke.href=e,t===Ke.href}function kn(t){return Object.keys(t).length===0}function yn(t,...e){if(t==null)return ee;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Oe(t,e,n){t.$$.on_destroy.push(yn(e,n))}function Sn(t,e,n,l){if(t){const s=Zt(t,e,n,l);return t[0](s)}}function Zt(t,e,n,l){return t[1]&&l?wn(n.ctx.slice(),t[1](l(e))):n.ctx}function Cn(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let u=0;u<i;u+=1)o[u]=e.dirty[u]|s[u];return o}return e.dirty|s}return e.dirty}function An(t,e,n,l,s,o){if(s){const i=Zt(e,n,l,o);t.p(i,s)}}function Bn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Ce(t){return t==null?"":t}const xt=typeof window<"u";let Mn=xt?()=>window.performance.now():()=>Date.now(),ft=xt?t=>requestAnimationFrame(t):ee;const Ge=new Set;function $t(t){Ge.forEach(e=>{e.c(t)||(Ge.delete(e),e.f())}),Ge.size!==0&&ft($t)}function On(t){let e;return Ge.size===0&&ft($t),{promise:new Promise(n=>{Ge.add(e={c:t,f:n})}),abort(){Ge.delete(e)}}}function m(t,e){t.appendChild(e)}function en(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function En(t){const e=p("style");return Wn(en(t),e),e.sheet}function Wn(t,e){m(t.head||t,e)}function O(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode.removeChild(t)}function We(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function W(){return I(" ")}function Se(){return I("")}function F(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function f(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function re(t){return t===""?null:+t}function Ln(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=e==null?"":e}function Le(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function bt(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e){l.selected=!0;return}}t.selectedIndex=-1}function Tn(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function X(t,e,n){t.classList[n?"add":"remove"](e)}function tn(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,l,e),s}const tt=new Map;let nt=0;function Dn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Pn(t,e){const n={stylesheet:En(e),rules:{}};return tt.set(t,n),n}function vt(t,e,n,l,s,o,i,u=0){const a=16.666/l;let r=`{
`;for(let S=0;S<=1;S+=a){const B=e+(n-e)*o(S);r+=S*100+`%{${i(B,1-B)}}
`}const c=r+`100% {${i(n,1-n)}}
}`,d=`__svelte_${Dn(c)}_${u}`,h=en(t),{stylesheet:v,rules:_}=tt.get(h)||Pn(h,t);_[d]||(_[d]=!0,v.insertRule(`@keyframes ${d} ${c}`,v.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${d} ${l}ms linear ${s}ms 1 both`,nt+=1,d}function Rn(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),nt-=s,nt||Gn())}function Gn(){ft(()=>{nt||(tt.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),tt.clear())})}let He;function Ye(t){He=t}function Ue(){if(!He)throw new Error("Function called outside component initialization");return He}function zn(t){Ue().$$.on_mount.push(t)}function Fn(t){Ue().$$.on_destroy.push(t)}function In(){const t=Ue();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=tn(e,n,{cancelable:l});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function jn(t,e){return Ue().$$.context.set(t,e),e}function Nn(t){return Ue().$$.context.get(t)}const Ne=[],fe=[],xe=[],ot=[],Yn=Promise.resolve();let at=!1;function Hn(){at||(at=!0,Yn.then(nn))}function De(t){xe.push(t)}function ke(t){ot.push(t)}const lt=new Set;let qe=0;function nn(){const t=He;do{for(;qe<Ne.length;){const e=Ne[qe];qe++,Ye(e),Un(e.$$)}for(Ye(null),Ne.length=0,qe=0;fe.length;)fe.pop()();for(let e=0;e<xe.length;e+=1){const n=xe[e];lt.has(n)||(lt.add(n),n())}xe.length=0}while(Ne.length);for(;ot.length;)ot.pop()();at=!1,lt.clear(),Ye(t)}function Un(t){if(t.fragment!==null){t.update(),me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(De)}}let je;function Vn(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function st(t,e,n){t.dispatchEvent(tn(`${e?"intro":"outro"}${n}`))}const $e=new Set;let Me;function ge(){Me={r:0,c:[],p:Me}}function pe(){Me.r||me(Me.c),Me=Me.p}function R(t,e){t&&t.i&&($e.delete(t),t.i(e))}function z(t,e,n,l){if(t&&t.o){if($e.has(t))return;$e.add(t),Me.c.push(()=>{$e.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const Qn={duration:0};function Ze(t,e,n,l){let s=e(t,n),o=l?0:1,i=null,u=null,a=null;function r(){a&&Rn(t,a)}function c(h,v){const _=h.b-o;return v*=Math.abs(_),{a:o,b:h.b,d:_,duration:v,start:h.start,end:h.start+v,group:h.group}}function d(h){const{delay:v=0,duration:_=300,easing:b=Kt,tick:S=ee,css:B}=s||Qn,g={start:Mn()+v,b:h};h||(g.group=Me,Me.r+=1),i||u?u=g:(B&&(r(),a=vt(t,o,h,_,v,b,B)),h&&S(0,1),i=c(g,_),De(()=>st(t,h,"start")),On(C=>{if(u&&C>u.start&&(i=c(u,_),u=null,st(t,i.b,"start"),B&&(r(),a=vt(t,o,i.b,i.duration,0,b,s.css))),i){if(C>=i.end)S(o=i.b,1-o),st(t,i.b,"end"),u||(i.b?r():--i.group.r||me(i.group.c)),i=null;else if(C>=i.start){const y=C-i.start;o=i.a+i.d*b(y/i.duration),S(o,1-o)}}return!!(i||u)}))}return{run(h){Te(s)?Vn().then(()=>{s=s(),d(h)}):d(h)},end(){r(),i=u=null}}}const Jn=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ye(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ue(t){t&&t.c()}function se(t,e,n,l){const{fragment:s,on_mount:o,on_destroy:i,after_update:u}=t.$$;s&&s.m(e,n),l||De(()=>{const a=o.map(qt).filter(Te);i?i.push(...a):me(a),t.$$.on_mount=[]}),u.forEach(De)}function ie(t,e){const n=t.$$;n.fragment!==null&&(me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xn(t,e){t.$$.dirty[0]===-1&&(Ne.push(t),Hn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ve(t,e,n,l,s,o,i,u=[-1]){const a=He;Ye(t);const r=t.$$={fragment:null,ctx:null,props:o,update:ee,not_equal:s,bound:pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:pt(),dirty:u,skip_bound:!1,root:e.target||a.$$.root};i&&i(r.root);let c=!1;if(r.ctx=n?n(t,e.props||{},(d,h,...v)=>{const _=v.length?v[0]:h;return r.ctx&&s(r.ctx[d],r.ctx[d]=_)&&(!r.skip_bound&&r.bound[d]&&r.bound[d](_),c&&Xn(t,d)),h}):[],r.update(),c=!0,me(r.before_update),r.fragment=l?l(r.ctx):!1,e.target){if(e.hydrate){const d=Ln(e.target);r.fragment&&r.fragment.l(d),d.forEach(M)}else r.fragment&&r.fragment.c();e.intro&&R(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),nn()}Ye(a)}class we{$destroy(){ie(this,1),this.$destroy=ee}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!kn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Kn(t,{delay:e=0,duration:n=400,easing:l=Kt}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:o=>`opacity: ${o*s}`}}const{window:qn}=Jn;function wt(t){let e,n,l,s,o,i,u,a,r,c,d,h,v,_,b,S,B,g=t[1].closeButton&&kt(t);var C=t[2];function y(A){return{}}return C&&(i=new C(y())),{c(){e=p("div"),n=p("div"),l=p("div"),g&&g.c(),s=W(),o=p("div"),i&&ue(i.$$.fragment),f(o,"class",u=Ce(t[1].classContent)+" svelte-g4wg3a"),f(o,"style",t[9]),X(o,"content",!t[0]),f(l,"class",a=Ce(t[1].classWindow)+" svelte-g4wg3a"),f(l,"role","dialog"),f(l,"aria-modal","true"),f(l,"aria-label",r=t[1].ariaLabelledBy?null:t[1].ariaLabel||null),f(l,"aria-labelledby",c=t[1].ariaLabelledBy||null),f(l,"style",t[8]),X(l,"window",!t[0]),f(n,"class",h=Ce(t[1].classWindowWrap)+" svelte-g4wg3a"),f(n,"style",t[7]),X(n,"wrap",!t[0]),f(e,"class",v=Ce(t[1].classBg)+" svelte-g4wg3a"),f(e,"style",t[6]),X(e,"bg",!t[0])},m(A,w){O(A,e,w),m(e,n),m(n,l),g&&g.m(l,null),m(l,s),m(l,o),i&&se(i,o,null),t[49](l),t[50](n),t[51](e),b=!0,S||(B=[F(l,"introstart",function(){Te(t[13])&&t[13].apply(this,arguments)}),F(l,"outrostart",function(){Te(t[14])&&t[14].apply(this,arguments)}),F(l,"introend",function(){Te(t[15])&&t[15].apply(this,arguments)}),F(l,"outroend",function(){Te(t[16])&&t[16].apply(this,arguments)}),F(e,"mousedown",t[20]),F(e,"mouseup",t[21])],S=!0)},p(A,w){if(t=A,t[1].closeButton?g?(g.p(t,w),w[0]&2&&R(g,1)):(g=kt(t),g.c(),R(g,1),g.m(l,s)):g&&(ge(),z(g,1,1,()=>{g=null}),pe()),C!==(C=t[2])){if(i){ge();const k=i;z(k.$$.fragment,1,0,()=>{ie(k,1)}),pe()}C?(i=new C(y()),ue(i.$$.fragment),R(i.$$.fragment,1),se(i,o,null)):i=null}(!b||w[0]&2&&u!==(u=Ce(t[1].classContent)+" svelte-g4wg3a"))&&f(o,"class",u),(!b||w[0]&512)&&f(o,"style",t[9]),w[0]&3&&X(o,"content",!t[0]),(!b||w[0]&2&&a!==(a=Ce(t[1].classWindow)+" svelte-g4wg3a"))&&f(l,"class",a),(!b||w[0]&2&&r!==(r=t[1].ariaLabelledBy?null:t[1].ariaLabel||null))&&f(l,"aria-label",r),(!b||w[0]&2&&c!==(c=t[1].ariaLabelledBy||null))&&f(l,"aria-labelledby",c),(!b||w[0]&256)&&f(l,"style",t[8]),w[0]&3&&X(l,"window",!t[0]),(!b||w[0]&2&&h!==(h=Ce(t[1].classWindowWrap)+" svelte-g4wg3a"))&&f(n,"class",h),(!b||w[0]&128)&&f(n,"style",t[7]),w[0]&3&&X(n,"wrap",!t[0]),(!b||w[0]&2&&v!==(v=Ce(t[1].classBg)+" svelte-g4wg3a"))&&f(e,"class",v),(!b||w[0]&64)&&f(e,"style",t[6]),w[0]&3&&X(e,"bg",!t[0])},i(A){b||(R(g),i&&R(i.$$.fragment,A),De(()=>{d||(d=Ze(l,t[12],t[1].transitionWindowProps,!0)),d.run(1)}),De(()=>{_||(_=Ze(e,t[11],t[1].transitionBgProps,!0)),_.run(1)}),b=!0)},o(A){z(g),i&&z(i.$$.fragment,A),d||(d=Ze(l,t[12],t[1].transitionWindowProps,!1)),d.run(0),_||(_=Ze(e,t[11],t[1].transitionBgProps,!1)),_.run(0),b=!1},d(A){A&&M(e),g&&g.d(),i&&ie(i),t[49](null),A&&d&&d.end(),t[50](null),t[51](null),A&&_&&_.end(),S=!1,me(B)}}}function kt(t){let e,n,l,s,o;const i=[xn,Zn],u=[];function a(r,c){return c[0]&2&&(e=null),e==null&&(e=!!r[17](r[1].closeButton)),e?0:1}return n=a(t,[-1,-1,-1]),l=u[n]=i[n](t),{c(){l.c(),s=Se()},m(r,c){u[n].m(r,c),O(r,s,c),o=!0},p(r,c){let d=n;n=a(r,c),n===d?u[n].p(r,c):(ge(),z(u[d],1,1,()=>{u[d]=null}),pe(),l=u[n],l?l.p(r,c):(l=u[n]=i[n](r),l.c()),R(l,1),l.m(s.parentNode,s))},i(r){o||(R(l),o=!0)},o(r){z(l),o=!1},d(r){u[n].d(r),r&&M(s)}}}function Zn(t){let e,n,l,s;return{c(){e=p("button"),f(e,"class",n=Ce(t[1].classCloseButton)+" svelte-g4wg3a"),f(e,"aria-label","Close modal"),f(e,"style",t[10]),f(e,"type","button"),X(e,"close",!t[0])},m(o,i){O(o,e,i),l||(s=F(e,"click",t[18]),l=!0)},p(o,i){i[0]&2&&n!==(n=Ce(o[1].classCloseButton)+" svelte-g4wg3a")&&f(e,"class",n),i[0]&1024&&f(e,"style",o[10]),i[0]&3&&X(e,"close",!o[0])},i:ee,o:ee,d(o){o&&M(e),l=!1,s()}}}function xn(t){let e,n,l;var s=t[1].closeButton;function o(i){return{props:{onClose:i[18]}}}return s&&(e=new s(o(t))),{c(){e&&ue(e.$$.fragment),n=Se()},m(i,u){e&&se(e,i,u),O(i,n,u),l=!0},p(i,u){if(s!==(s=i[1].closeButton)){if(e){ge();const a=e;z(a.$$.fragment,1,0,()=>{ie(a,1)}),pe()}s?(e=new s(o(i)),ue(e.$$.fragment),R(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}},i(i){l||(e&&R(e.$$.fragment,i),l=!0)},o(i){e&&z(e.$$.fragment,i),l=!1},d(i){i&&M(n),e&&ie(e,i)}}}function $n(t){let e,n,l,s,o=t[2]&&wt(t);const i=t[48].default,u=Sn(i,t,t[47],null);return{c(){o&&o.c(),e=W(),u&&u.c()},m(a,r){o&&o.m(a,r),O(a,e,r),u&&u.m(a,r),n=!0,l||(s=F(qn,"keydown",t[19]),l=!0)},p(a,r){a[2]?o?(o.p(a,r),r[0]&4&&R(o,1)):(o=wt(a),o.c(),R(o,1),o.m(e.parentNode,e)):o&&(ge(),z(o,1,1,()=>{o=null}),pe()),u&&u.p&&(!n||r[1]&65536)&&An(u,i,a,a[47],n?Cn(i,a[47],r,null):Bn(a[47]),null)},i(a){n||(R(o),R(u,a),n=!0)},o(a){z(o),z(u,a),n=!1},d(a){o&&o.d(a),a&&M(e),u&&u.d(a),l=!1,s()}}}function el(t,e={}){return function(l){return new t({...l,props:{...e,...l.props}})}}function tl(t,e,n){let{$$slots:l={},$$scope:s}=e;const o=In(),i=jn,u=E=>E.tabIndex>=0&&!E.hidden&&!E.disabled&&E.style.display!=="none"&&E.type!=="hidden"&&Boolean(E.offsetWidth||E.offsetHeight||E.getClientRects().length);let{isTabbable:a=u}=e,{show:r=null}=e,{key:c="simple-modal"}=e,{ariaLabel:d=null}=e,{ariaLabelledBy:h=null}=e,{closeButton:v=!0}=e,{closeOnEsc:_=!0}=e,{closeOnOuterClick:b=!0}=e,{styleBg:S={}}=e,{styleWindowWrap:B={}}=e,{styleWindow:g={}}=e,{styleContent:C={}}=e,{styleCloseButton:y={}}=e,{classBg:A=null}=e,{classWindowWrap:w=null}=e,{classWindow:k=null}=e,{classContent:L=null}=e,{classCloseButton:T=null}=e,{unstyled:N=!1}=e,{setContext:J=i}=e,{transitionBg:U=Kn}=e,{transitionBgProps:q={duration:250}}=e,{transitionWindow:Z=U}=e,{transitionWindowProps:V=q}=e,{disableFocusTrap:oe=!1}=e;const K={ariaLabel:d,ariaLabelledBy:h,closeButton:v,closeOnEsc:_,closeOnOuterClick:b,styleBg:S,styleWindowWrap:B,styleWindow:g,styleContent:C,styleCloseButton:y,classBg:A,classWindowWrap:w,classWindow:k,classContent:L,classCloseButton:T,transitionBg:U,transitionBgProps:q,transitionWindow:Z,transitionWindowProps:V,disableFocusTrap:oe,isTabbable:a,unstyled:N};let j={...K},Q=null,x,le,te,D,_e,Y,ne,ce,G,P,H,de,ze,ct,mt;const rn=E=>E.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),Fe=E=>E?Object.keys(E).reduce((Ie,Ae)=>`${Ie}; ${rn(Ae)}: ${E[Ae]}`,""):"",_t=E=>!!(E&&E.constructor&&E.call&&E.apply),fn=()=>{n(6,_e=Fe(Object.assign({},{width:window.innerWidth,height:window.innerHeight},j.styleBg))),n(7,Y=Fe(j.styleWindowWrap)),n(8,ne=Fe(j.styleWindow)),n(9,ce=Fe(j.styleContent)),n(10,G=Fe(j.styleCloseButton)),n(11,P=j.transitionBg),n(12,H=j.transitionWindow)},Ve=()=>{};let dt=Ve,Qe=Ve,ht=Ve,Je=Ve;const gt=(E,Ie={},Ae={},he={})=>{n(2,Q=el(E,Ie)),n(1,j={...K,...Ae}),fn(),dn(),n(13,dt=Be=>{he.onOpen&&he.onOpen(Be),o("open"),o("opening")}),n(14,Qe=Be=>{he.onClose&&he.onClose(Be),o("close"),o("closing")}),n(15,ht=Be=>{he.onOpened&&he.onOpened(Be),o("opened")}),n(16,Je=Be=>{he.onClosed&&he.onClosed(Be),o("closed")})},Pe=(E={})=>{!Q||(n(14,Qe=E.onClose||Qe),n(16,Je=E.onClosed||Je),n(2,Q=null),hn())},cn=E=>{if(j.closeOnEsc&&Q&&E.key==="Escape"&&(E.preventDefault(),Pe()),Q&&E.key==="Tab"&&!j.disableFocusTrap){const Ie=te.querySelectorAll("*"),Ae=Array.from(Ie).filter(j.isTabbable).sort((Be,vn)=>Be.tabIndex-vn.tabIndex);let he=Ae.indexOf(document.activeElement);he===-1&&E.shiftKey&&(he=0),he+=Ae.length+(E.shiftKey?-1:1),he%=Ae.length,Ae[he].focus(),E.preventDefault()}},mn=E=>{j.closeOnOuterClick&&(E.target===x||E.target===le)&&(mt=E.target)},_n=E=>{j.closeOnOuterClick&&E.target===mt&&(E.preventDefault(),Pe())},dn=()=>{D=window.scrollY,de=document.body.style.position,ze=document.body.style.overflow,ct=document.body.style.width,document.body.style.position="fixed",document.body.style.top=`-${D}px`,document.body.style.overflow="hidden",document.body.style.width="100%"},hn=()=>{document.body.style.position=de||"",document.body.style.top="",document.body.style.overflow=ze||"",document.body.style.width=ct||"",window.scrollTo(0,D)};J(c,{open:gt,close:Pe});let Xe=!1;Fn(()=>{Xe&&Pe()}),zn(()=>{n(46,Xe=!0)});function gn(E){fe[E?"unshift":"push"](()=>{te=E,n(5,te)})}function pn(E){fe[E?"unshift":"push"](()=>{le=E,n(4,le)})}function bn(E){fe[E?"unshift":"push"](()=>{x=E,n(3,x)})}return t.$$set=E=>{"isTabbable"in E&&n(22,a=E.isTabbable),"show"in E&&n(23,r=E.show),"key"in E&&n(24,c=E.key),"ariaLabel"in E&&n(25,d=E.ariaLabel),"ariaLabelledBy"in E&&n(26,h=E.ariaLabelledBy),"closeButton"in E&&n(27,v=E.closeButton),"closeOnEsc"in E&&n(28,_=E.closeOnEsc),"closeOnOuterClick"in E&&n(29,b=E.closeOnOuterClick),"styleBg"in E&&n(30,S=E.styleBg),"styleWindowWrap"in E&&n(31,B=E.styleWindowWrap),"styleWindow"in E&&n(32,g=E.styleWindow),"styleContent"in E&&n(33,C=E.styleContent),"styleCloseButton"in E&&n(34,y=E.styleCloseButton),"classBg"in E&&n(35,A=E.classBg),"classWindowWrap"in E&&n(36,w=E.classWindowWrap),"classWindow"in E&&n(37,k=E.classWindow),"classContent"in E&&n(38,L=E.classContent),"classCloseButton"in E&&n(39,T=E.classCloseButton),"unstyled"in E&&n(0,N=E.unstyled),"setContext"in E&&n(40,J=E.setContext),"transitionBg"in E&&n(41,U=E.transitionBg),"transitionBgProps"in E&&n(42,q=E.transitionBgProps),"transitionWindow"in E&&n(43,Z=E.transitionWindow),"transitionWindowProps"in E&&n(44,V=E.transitionWindowProps),"disableFocusTrap"in E&&n(45,oe=E.disableFocusTrap),"$$scope"in E&&n(47,s=E.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8388608|t.$$.dirty[1]&32768&&Xe&&(_t(r)?gt(r):Pe())},[N,j,Q,x,le,te,_e,Y,ne,ce,G,P,H,dt,Qe,ht,Je,_t,Pe,cn,mn,_n,a,r,c,d,h,v,_,b,S,B,g,C,y,A,w,k,L,T,J,U,q,Z,V,oe,Xe,s,l,gn,pn,bn]}class nl extends we{constructor(e){super(),ve(this,e,tl,$n,be,{isTabbable:22,show:23,key:24,ariaLabel:25,ariaLabelledBy:26,closeButton:27,closeOnEsc:28,closeOnOuterClick:29,styleBg:30,styleWindowWrap:31,styleWindow:32,styleContent:33,styleCloseButton:34,classBg:35,classWindowWrap:36,classWindow:37,classContent:38,classCloseButton:39,unstyled:0,setContext:40,transitionBg:41,transitionBgProps:42,transitionWindow:43,transitionWindowProps:44,disableFocusTrap:45},null,[-1,-1,-1])}}const ut=[{name:"Dog",hp:3,attack_speed:25,hit_chance:.7,min_damage:1,max_damage:2,image_name:"Dog",stun_chance:0},{name:"Explorer",hp:3,attack_speed:20,hit_chance:.7,min_damage:1,max_damage:1,image_name:"Explorer",stun_chance:0},{name:"Fisher",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Fisherman",stun_chance:0},{name:"Friendly Pirate",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"FriendlyPirate",stun_chance:.15},{name:"Militia",hp:6,attack_speed:15,hit_chance:.8,min_damage:1,max_damage:2,image_name:"Militia",stun_chance:0},{name:"Swordsman",hp:7,attack_speed:15,hit_chance:.9,min_damage:2,max_damage:2,image_name:"Swordman",stun_chance:0},{name:"Trained Monkey",hp:2,attack_speed:25,hit_chance:.6,min_damage:1,max_damage:1,image_name:"TrainedMonkey",stun_chance:0},{name:"Villager",hp:5,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Villager",stun_chance:0}],rt=[{name:"Bear",hp:10,attack_speed:30,hit_chance:.33,min_damage:2,max_damage:4,image_name:"Bear",stun_chance:.1},{name:"Demon",hp:99,attack_speed:15,hit_chance:.75,min_damage:1,max_damage:3,image_name:"Demon",stun_chance:0},{name:"Demon Lord",hp:666,attack_speed:15,hit_chance:.75,min_damage:1,max_damage:3,image_name:"DemonLord",stun_chance:0},{name:"Giant Rat",hp:12,attack_speed:30,hit_chance:.5,min_damage:2,max_damage:2,image_name:"Big-Rat",stun_chance:0},{name:"Goblin",hp:5,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"Goblin",stun_chance:0},{name:"Kraken",hp:150,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Kraken",stun_chance:.1},{name:"Momma Crab",hp:50,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"MammaCrab",stun_chance:.2},{name:"Pirate",hp:3,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:2,image_name:"AngryPirate",stun_chance:.2},{name:"Rat",hp:3,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Small-Rat",stun_chance:0},{name:"Seagull",hp:3,attack_speed:20,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Seagull",stun_chance:0},{name:"Skeleton",hp:5,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:2,image_name:"Skeleton",stun_chance:.1},{name:"Slime",hp:8,attack_speed:30,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Big-Slime",stun_chance:0},{name:"Small Slime",hp:2,attack_speed:50,hit_chance:.5,min_damage:1,max_damage:1,image_name:"Small-Slime",stun_chance:0},{name:"Snake",hp:3,attack_speed:20,hit_chance:.6,min_damage:1,max_damage:1,image_name:"Snake",stun_chance:0},{name:"Tentacle",hp:50,attack_speed:20,hit_chance:.4,min_damage:1,max_damage:1,image_name:"Tentacle",stun_chance:.2},{name:"Tiger",hp:5,attack_speed:20,hit_chance:.5,min_damage:2,max_damage:3,image_name:"Tiger",stun_chance:.2},{name:"Wolf",hp:10,attack_speed:30,hit_chance:.33,min_damage:1,max_damage:3,image_name:"Wolf",stun_chance:0}],yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAMpSURBVHhe7d29jk1hGMXxSSRuQEQhKh9BRaJV0XABWpEIjY9rIBqioHEBGneg5ToUQqlzB8fzJkciJ3+PmX0y7xlrrTf5Nf+MLdlnSXztPXur1SqMYQwfGMMHxvCBMXxgDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfG8IFR3PG1S2vn1uhr5WEUND7gt+Vj+dcZX/O40HXkYBQzPvwv5aBnDIGuJwWjmPGreemh60nBKOZZWXrkf2+AUUwG0MAoJgNoYBSTATQwitlmAOPvCeiaMjCKyQAaGMVkAA2MYjKABkYxGUADo5gMoIFRTAbQwCgmA2hgFPO8LD0ZgIAMoIFRTAbQwCgmA2hgFPOyLD0ZgIAMoIFRTAbQwCgmA2hgFPOmLD0ZgIAMoIFRTAbQwLgDp8u9tYcbnmx4ekCfytLzojzacH/D3QVuFLoP02Gc7GJxPEfiySOMk70vrmfnzyBinOxbcT3jgVW6J9NgnOhMcT7joVW6L9NgnOhqcT4/C92XaTBOdL24n2OF7s0UGCe6U9zPqUL3ZgqME90q7me8robuzRQYJ7pWnM+PQvdlGowTuf8pwH4Aw9fiej4UuifTYJzsdXE9Dwrdk2kwTrb0LV7/+8m/BfxhjGD8tehh+F6Wns9lfFB/Qz/ffhyZ9xBiFPOuLD3nC11TBkYxGUADo5htBnC20DVlYBSTATQwiskAGhjFZAANjGIygAZGMRlAA6OYDKCBUUwG0MAoZpsngzIAARlAA6OYDKCBUUwG0MAo5lVZejIAARlAA6OYDKCBUUwG0MAoZrzkYenJAARkAA2MYjKABkYxGUADo5jx37CXnnzjSAHbfPfwDEDA+BCXnJ2/vmUGjIJ+P3m0n0fQxhM/R+bJncOGUdzJcrmMdxPcLjfLlXKhnCj0Y2RhDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfG8IExfGAMHxjDB8bwgTF8YAwfGMMHxvCBMXxgDB8YwwfGcLHa+wWon71amQ0q5QAAAABJRU5ErkJggg==";function ll(t){let e,n;return{c(){e=p("div"),f(e,"class","img svelte-v3nxxj"),f(e,"title",n=t[0].name)},m(l,s){O(l,e,s)},p(l,s){s&1&&n!==(n=l[0].name)&&f(e,"title",n)},d(l){l&&M(e)}}}function sl(t){let e,n,l,s;return{c(){e=p("img"),f(e,"class","img svelte-v3nxxj"),et(e.src,n="/stacklands-combat-simulator/images/"+t[0].image_name+".png")||f(e,"src",n),f(e,"title",l=t[0].name),f(e,"alt",s=t[0].name),X(e,"enemy",t[1])},m(o,i){O(o,e,i)},p(o,i){i&1&&!et(e.src,n="/stacklands-combat-simulator/images/"+o[0].image_name+".png")&&f(e,"src",n),i&1&&l!==(l=o[0].name)&&f(e,"title",l),i&1&&s!==(s=o[0].name)&&f(e,"alt",s),i&2&&X(e,"enemy",o[1])},d(o){o&&M(e)}}}function il(t){let e;function n(o,i){return o[0].image_name?sl:ll}let l=n(t),s=l(t);return{c(){s.c(),e=Se()},m(o,i){s.m(o,i),O(o,e,i)},p(o,[i]){l===(l=n(o))&&s?s.p(o,i):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},i:ee,o:ee,d(o){s.d(o),o&&M(e)}}}function ol(t,e,n){let{combatant:l}=e,{isEnemy:s=!1}=e;return t.$$set=o=>{"combatant"in o&&n(0,l=o.combatant),"isEnemy"in o&&n(1,s=o.isEnemy)},[l,s]}class ln extends we{constructor(e){super(),ve(this,e,ol,il,be,{combatant:0,isEnemy:1})}}function al(t){let e,n,l,s,o,i=t[0].hp+"",u,a,r,c,d,h,v=t[0].attack_speed/10+"",_,b,S,B,g,C,y,A=t[0].hit_chance*100+"",w,k,L,T,N,J,U,q=t[0].min_damage+"",Z,V=t[0].min_damage!==t[0].max_damage?"-"+t[0].max_damage:"",oe,K,j,Q,x,le,te=t[0].stun_chance*100+"",D,_e;return{c(){e=p("table"),n=p("tr"),l=p("td"),l.textContent="HP:",s=W(),o=p("td"),u=I(i),a=W(),r=p("tr"),c=p("td"),c.textContent="Attack Speed:",d=W(),h=p("td"),_=I(v),b=I("s"),S=W(),B=p("tr"),g=p("td"),g.textContent="Hit Chance:",C=W(),y=p("td"),w=I(A),k=I("%"),L=W(),T=p("tr"),N=p("td"),N.textContent="Damage:",J=W(),U=p("td"),Z=I(q),oe=I(V),K=W(),j=p("tr"),Q=p("td"),Q.textContent="Stun Chance:",x=W(),le=p("td"),D=I(te),_e=I("%"),f(l,"class","svelte-zvmgvg"),f(o,"class","svelte-zvmgvg"),f(c,"class","svelte-zvmgvg"),f(h,"class","svelte-zvmgvg"),f(g,"class","svelte-zvmgvg"),f(y,"class","svelte-zvmgvg"),f(N,"class","svelte-zvmgvg"),f(U,"class","svelte-zvmgvg"),f(Q,"class","svelte-zvmgvg"),f(le,"class","svelte-zvmgvg")},m(Y,ne){O(Y,e,ne),m(e,n),m(n,l),m(n,s),m(n,o),m(o,u),m(e,a),m(e,r),m(r,c),m(r,d),m(r,h),m(h,_),m(h,b),m(e,S),m(e,B),m(B,g),m(B,C),m(B,y),m(y,w),m(y,k),m(e,L),m(e,T),m(T,N),m(T,J),m(T,U),m(U,Z),m(U,oe),m(e,K),m(e,j),m(j,Q),m(j,x),m(j,le),m(le,D),m(le,_e)},p(Y,[ne]){ne&1&&i!==(i=Y[0].hp+"")&&ae(u,i),ne&1&&v!==(v=Y[0].attack_speed/10+"")&&ae(_,v),ne&1&&A!==(A=Y[0].hit_chance*100+"")&&ae(w,A),ne&1&&q!==(q=Y[0].min_damage+"")&&ae(Z,q),ne&1&&V!==(V=Y[0].min_damage!==Y[0].max_damage?"-"+Y[0].max_damage:"")&&ae(oe,V),ne&1&&te!==(te=Y[0].stun_chance*100+"")&&ae(D,te)},i:ee,o:ee,d(Y){Y&&M(e)}}}function ul(t,e,n){let{combatant:l}=e;return t.$$set=s=>{"combatant"in s&&n(0,l=s.combatant)},[l]}class sn extends we{constructor(e){super(),ve(this,e,ul,al,be,{combatant:0})}}function St(t,e,n){const l=t.slice();return l[17]=e[n],l}function rl(t){let e,n,l,s,o,i,u,a,r,c,d=t[1]?rt:ut,h=[];for(let _=0;_<d.length;_+=1)h[_]=At(St(t,d,_));const v=_=>z(h[_],1,1,()=>{h[_]=null});return{c(){e=p("input"),n=W(),l=p("div");for(let _=0;_<h.length;_+=1)h[_].c();s=W(),o=p("hr"),i=W(),u=p("div"),u.innerHTML="<b>Add Custom Combatant</b>",f(e,"class","search svelte-1fblcp9"),f(e,"type","text"),f(e,"placeholder","Search"),e.autofocus=!0,f(l,"class","container svelte-1fblcp9"),f(u,"class","combatant-row svelte-1fblcp9")},m(_,b){O(_,e,b),$(e,t[2]),O(_,n,b),O(_,l,b);for(let S=0;S<h.length;S+=1)h[S].m(l,null);O(_,s,b),O(_,o,b),O(_,i,b),O(_,u,b),a=!0,e.focus(),r||(c=[F(e,"input",t[14]),F(u,"click",t[16])],r=!0)},p(_,b){if(b&4&&e.value!==_[2]&&$(e,_[2]),b&23){d=_[1]?rt:ut;let S;for(S=0;S<d.length;S+=1){const B=St(_,d,S);h[S]?(h[S].p(B,b),R(h[S],1)):(h[S]=At(B),h[S].c(),R(h[S],1),h[S].m(l,null))}for(ge(),S=d.length;S<h.length;S+=1)v(S);pe()}},i(_){if(!a){for(let b=0;b<d.length;b+=1)R(h[b]);a=!0}},o(_){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)z(h[b]);a=!1},d(_){_&&M(e),_&&M(n),_&&M(l),We(h,_),_&&M(s),_&&M(o),_&&M(i),_&&M(u),r=!1,me(c)}}}function fl(t){let e,n,l,s,o,i,u,a,r,c,d,h,v,_,b,S,B,g,C,y,A,w,k,L,T,N,J,U,q,Z,V,oe,K,j,Q,x,le,te,D,_e,Y,ne,ce,G;return{c(){e=p("table"),n=p("tr"),l=p("td"),l.textContent="Name:",s=W(),o=p("td"),i=p("input"),u=W(),a=p("tr"),r=p("td"),r.textContent="HP:",c=W(),d=p("td"),h=p("input"),v=W(),_=p("tr"),b=p("td"),b.textContent="Attack Speed:",S=W(),B=p("td"),g=p("input"),C=W(),y=p("tr"),A=p("td"),A.textContent="Hit Chance:",w=W(),k=p("td"),L=p("input"),T=I(" %"),N=W(),J=p("tr"),U=p("td"),U.textContent="Damage:",q=W(),Z=p("td"),V=p("input"),oe=I(`
        \u2013
        `),K=p("input"),j=W(),Q=p("tr"),x=p("td"),x.textContent="Stun Chance:",le=W(),te=p("td"),D=p("input"),_e=I(" %"),Y=W(),ne=p("div"),ne.innerHTML='<button class="button button-primary">Add</button>',f(l,"class","svelte-1fblcp9"),f(i,"type","text"),f(o,"class","svelte-1fblcp9"),f(r,"class","svelte-1fblcp9"),f(h,"type","number"),f(h,"min","0"),f(h,"step","1"),f(h,"max","9999"),f(d,"class","svelte-1fblcp9"),f(b,"class","svelte-1fblcp9"),f(g,"type","number"),f(g,"min","0.1"),f(g,"step","0.1"),f(g,"max","99"),f(B,"class","svelte-1fblcp9"),f(A,"class","svelte-1fblcp9"),f(L,"type","number"),f(L,"min","0"),f(L,"step","1"),f(L,"max","99"),f(k,"class","svelte-1fblcp9"),f(U,"class","svelte-1fblcp9"),f(V,"type","number"),f(V,"min","0"),f(V,"max","99"),f(V,"step","1"),f(K,"type","number"),f(K,"min","0"),f(K,"max","99"),f(K,"step","1"),f(Z,"class","svelte-1fblcp9"),f(x,"class","svelte-1fblcp9"),f(D,"type","number"),f(D,"min","0"),f(D,"step","1"),f(D,"max","99"),f(te,"class","svelte-1fblcp9"),f(ne,"class","button-container svelte-1fblcp9")},m(P,H){O(P,e,H),m(e,n),m(n,l),m(n,s),m(n,o),m(o,i),$(i,t[3].name),m(e,u),m(e,a),m(a,r),m(a,c),m(a,d),m(d,h),$(h,t[3].hp),m(e,v),m(e,_),m(_,b),m(_,S),m(_,B),m(B,g),$(g,t[3].attack_speed),m(e,C),m(e,y),m(y,A),m(y,w),m(y,k),m(k,L),$(L,t[3].hit_chance),m(k,T),m(e,N),m(e,J),m(J,U),m(J,q),m(J,Z),m(Z,V),$(V,t[3].min_damage),m(Z,oe),m(Z,K),$(K,t[3].max_damage),m(e,j),m(e,Q),m(Q,x),m(Q,le),m(Q,te),m(te,D),$(D,t[3].stun_chance),m(te,_e),O(P,Y,H),O(P,ne,H),ce||(G=[F(i,"input",t[6]),F(h,"input",t[7]),F(g,"input",t[8]),F(L,"input",t[9]),F(V,"input",t[10]),F(K,"input",t[11]),F(D,"input",t[12]),F(ne,"click",t[13])],ce=!0)},p(P,H){H&8&&i.value!==P[3].name&&$(i,P[3].name),H&8&&re(h.value)!==P[3].hp&&$(h,P[3].hp),H&8&&re(g.value)!==P[3].attack_speed&&$(g,P[3].attack_speed),H&8&&re(L.value)!==P[3].hit_chance&&$(L,P[3].hit_chance),H&8&&re(V.value)!==P[3].min_damage&&$(V,P[3].min_damage),H&8&&re(K.value)!==P[3].max_damage&&$(K,P[3].max_damage),H&8&&re(D.value)!==P[3].stun_chance&&$(D,P[3].stun_chance)},i:ee,o:ee,d(P){P&&M(e),P&&M(Y),P&&M(ne),ce=!1,me(G)}}}function Ct(t){let e,n,l,s,o,i=t[17].name+"",u,a,r,c,d,h,v;l=new ln({props:{combatant:t[17],isEnemy:t[1]}}),r=new sn({props:{combatant:t[17]}});function _(){return t[15](t[17])}return{c(){e=p("div"),n=p("div"),ue(l.$$.fragment),s=W(),o=p("b"),u=I(i),a=W(),ue(r.$$.fragment),c=W(),f(n,"class","combatant-side svelte-1fblcp9"),f(e,"class","combatant-row svelte-1fblcp9")},m(b,S){O(b,e,S),m(e,n),se(l,n,null),m(n,s),m(n,o),m(o,u),m(e,a),se(r,e,null),m(e,c),d=!0,h||(v=F(e,"click",_),h=!0)},p(b,S){t=b;const B={};S&2&&(B.combatant=t[17]),S&2&&(B.isEnemy=t[1]),l.$set(B),(!d||S&2)&&i!==(i=t[17].name+"")&&ae(u,i);const g={};S&2&&(g.combatant=t[17]),r.$set(g)},i(b){d||(R(l.$$.fragment,b),R(r.$$.fragment,b),d=!0)},o(b){z(l.$$.fragment,b),z(r.$$.fragment,b),d=!1},d(b){b&&M(e),ie(l),ie(r),h=!1,v()}}}function At(t){let e=!t[2]||t[17].name.match(t[4]),n,l,s=e&&Ct(t);return{c(){s&&s.c(),n=Se()},m(o,i){s&&s.m(o,i),O(o,n,i),l=!0},p(o,i){i&22&&(e=!o[2]||o[17].name.match(o[4])),e?s?(s.p(o,i),i&22&&R(s,1)):(s=Ct(o),s.c(),R(s,1),s.m(n.parentNode,n)):s&&(ge(),z(s,1,1,()=>{s=null}),pe())},i(o){l||(R(s),l=!0)},o(o){z(s),l=!1},d(o){s&&s.d(o),o&&M(n)}}}function cl(t){let e,n,l,s,o,i;const u=[fl,rl],a=[];function r(c,d){return c[3]?0:1}return l=r(t),s=a[l]=u[l](t),{c(){e=p("h2"),e.textContent="Add Combatant",n=W(),s.c(),o=Se(),f(e,"class","svelte-1fblcp9")},m(c,d){O(c,e,d),O(c,n,d),a[l].m(c,d),O(c,o,d),i=!0},p(c,[d]){let h=l;l=r(c),l===h?a[l].p(c,d):(ge(),z(a[h],1,1,()=>{a[h]=null}),pe(),s=a[l],s?s.p(c,d):(s=a[l]=u[l](c),s.c()),R(s,1),s.m(o.parentNode,o))},i(c){i||(R(s),i=!0)},o(c){z(s),i=!1},d(c){c&&M(e),c&&M(n),a[l].d(c),c&&M(o)}}}function ml(t,e,n){let l,{add:s}=e,{isEnemy:o}=e,i="";const u={name:"",hp:5,attack_speed:2.5,hit_chance:50,min_damage:1,max_damage:3,stun_chance:0};let a=null;function r(){a.name=this.value,n(3,a)}function c(){a.hp=re(this.value),n(3,a)}function d(){a.attack_speed=re(this.value),n(3,a)}function h(){a.hit_chance=re(this.value),n(3,a)}function v(){a.min_damage=re(this.value),n(3,a)}function _(){a.max_damage=re(this.value),n(3,a)}function b(){a.stun_chance=re(this.value),n(3,a)}const S=()=>{!a||(n(3,a.attack_speed*=10,a),n(3,a.hit_chance/=100,a),n(3,a.stun_chance/=100,a),a.name||n(3,a.name="Custom",a),s(a))};function B(){i=this.value,n(2,i)}const g=y=>s(y),C=()=>n(3,a={...u});return t.$$set=y=>{"add"in y&&n(0,s=y.add),"isEnemy"in y&&n(1,o=y.isEnemy)},t.$$.update=()=>{t.$$.dirty&4&&n(4,l=new RegExp(i,"ig"))},[s,o,i,a,l,u,r,c,d,h,v,_,b,S,B,g,C]}class _l extends we{constructor(e){super(),ve(this,e,ml,cl,be,{add:0,isEnemy:1})}}function dl(t){let e,n,l=t[0].count+"",s,o,i,u,a;return{c(){e=p("button"),e.textContent="\u2212",n=W(),s=I(l),o=W(),i=p("button"),i.textContent="+",f(e,"title","Hold Shift to decrease by 10"),f(e,"class","svelte-zkxo52"),X(e,"red",t[0].count===1),f(i,"title","Hold Shift to increase by 10"),f(i,"class","svelte-zkxo52")},m(r,c){O(r,e,c),O(r,n,c),O(r,s,c),O(r,o,c),O(r,i,c),u||(a=[F(e,"click",t[8]),F(i,"click",t[9])],u=!0)},p(r,c){c&1&&X(e,"red",r[0].count===1),c&1&&l!==(l=r[0].count+"")&&ae(s,l)},d(r){r&&M(e),r&&M(n),r&&M(s),r&&M(o),r&&M(i),u=!1,me(a)}}}function hl(t){let e,n,l,s,o;return{c(){e=p("input"),n=I(`
      \u2013
      `),l=p("input"),f(e,"type","number"),f(e,"min","1"),f(e,"max","99"),f(e,"step","1"),f(e,"class","svelte-zkxo52"),f(l,"type","number"),f(l,"maxlength","2"),f(l,"min","1"),f(l,"max","99"),f(l,"step","1"),f(l,"class","svelte-zkxo52")},m(i,u){O(i,e,u),$(e,t[0].min_count),O(i,n,u),O(i,l,u),$(l,t[0].max_count),s||(o=[F(e,"input",t[4]),F(e,"change",t[5]),F(l,"input",t[6]),F(l,"change",t[7])],s=!0)},p(i,u){u&1&&re(e.value)!==i[0].min_count&&$(e,i[0].min_count),u&1&&re(l.value)!==i[0].max_count&&$(l,i[0].max_count)},d(i){i&&M(e),i&&M(n),i&&M(l),s=!1,me(o)}}}function gl(t){let e,n,l,s,o,i,u=t[0].name+"",a,r,c,d,h,v,_,b=t[0].vary?"1":"\u2194",S,B,g,C,y;s=new ln({props:{combatant:t[0],isEnemy:t[1]}}),c=new sn({props:{combatant:t[0]}});function A(L,T){return L[0].vary?hl:dl}let w=A(t),k=w(t);return{c(){e=p("div"),n=p("button"),n.textContent="\u274C",l=W(),ue(s.$$.fragment),o=W(),i=p("b"),a=I(u),r=W(),ue(c.$$.fragment),d=W(),h=p("div"),k.c(),v=W(),_=p("button"),S=I(b),f(n,"class","delete svelte-zkxo52"),f(_,"class","switch svelte-zkxo52"),f(_,"title",B=t[0].vary?"Switch to setting a single value":"Switch to setting a range of values"),f(h,"class","row svelte-zkxo52"),X(h,"vary",!!t[0].vary),f(e,"class","container svelte-zkxo52")},m(L,T){O(L,e,T),m(e,n),m(e,l),se(s,e,null),m(e,o),m(e,i),m(i,a),m(e,r),se(c,e,null),m(e,d),m(e,h),k.m(h,null),m(h,v),m(h,_),m(_,S),g=!0,C||(y=[F(n,"click",t[3]),F(_,"click",t[10])],C=!0)},p(L,[T]){const N={};T&1&&(N.combatant=L[0]),T&2&&(N.isEnemy=L[1]),s.$set(N),(!g||T&1)&&u!==(u=L[0].name+"")&&ae(a,u);const J={};T&1&&(J.combatant=L[0]),c.$set(J),w===(w=A(L))&&k?k.p(L,T):(k.d(1),k=w(L),k&&(k.c(),k.m(h,v))),(!g||T&1)&&b!==(b=L[0].vary?"1":"\u2194")&&ae(S,b),(!g||T&1&&B!==(B=L[0].vary?"Switch to setting a single value":"Switch to setting a range of values"))&&f(_,"title",B),T&1&&X(h,"vary",!!L[0].vary)},i(L){g||(R(s.$$.fragment,L),R(c.$$.fragment,L),g=!0)},o(L){z(s.$$.fragment,L),z(c.$$.fragment,L),g=!1},d(L){L&&M(e),ie(s),ie(c),k.d(),C=!1,me(y)}}}function pl(t,e,n){let{combatant:l}=e,{isEnemy:s=!1}=e,{remove:o}=e;const i=()=>o(l);function u(){l.min_count=re(this.value),n(0,l)}const a=()=>{l.min_count||n(0,l.min_count=1,l),(!l.max_count||l.min_count>l.max_count)&&n(0,l.max_count=l.min_count,l)};function r(){l.max_count=re(this.value),n(0,l)}const c=()=>{l.max_count||n(0,l.max_count=1,l),(!l.min_count||l.max_count<l.min_count)&&n(0,l.min_count=l.max_count,l)},d=_=>{l.count===1?o(l):(n(0,l.count-=_.shiftKey?10:1,l),l.count<1&&n(0,l.count=1,l))},h=_=>{n(0,l.count+=_.shiftKey?10:1,l)},v=()=>{n(0,l.vary=!l.vary,l),l.vary&&(n(0,l.min_count=l.count,l),n(0,l.max_count=l.count,l))};return t.$$set=_=>{"combatant"in _&&n(0,l=_.combatant),"isEnemy"in _&&n(1,s=_.isEnemy),"remove"in _&&n(2,o=_.remove)},[l,s,o,i,u,a,r,c,d,h,v]}class on extends we{constructor(e){super(),ve(this,e,pl,gl,be,{combatant:0,isEnemy:1,remove:2})}}function Bt(t,e,n){const l=t.slice();return l[10]=e[n],l[11]=e,l[12]=n,l}function Mt(t,e,n){const l=t.slice();return l[13]=e[n],l[14]=e,l[15]=n,l}function Ot(t){let e,n,l;function s(i){t[4](i,t[13],t[14],t[15])}let o={remove:t[3]};return t[13]!==void 0&&(o.combatant=t[13]),e=new on({props:o}),fe.push(()=>ye(e,"combatant",s)),{c(){ue(e.$$.fragment)},m(i,u){se(e,i,u),l=!0},p(i,u){t=i;const a={};u&1&&(a.remove=t[3]),!n&&u&1&&(n=!0,a.combatant=t[13],ke(()=>n=!1)),e.$set(a)},i(i){l||(R(e.$$.fragment,i),l=!0)},o(i){z(e.$$.fragment,i),l=!1},d(i){ie(e,i)}}}function Et(t){let e,n,l;function s(i){t[7](i,t[10],t[11],t[12])}let o={isEnemy:!0,remove:t[6]};return t[10]!==void 0&&(o.combatant=t[10]),e=new on({props:o}),fe.push(()=>ye(e,"combatant",s)),{c(){ue(e.$$.fragment)},m(i,u){se(e,i,u),l=!0},p(i,u){t=i;const a={};u&2&&(a.remove=t[6]),!n&&u&2&&(n=!0,a.combatant=t[10],ke(()=>n=!1)),e.$set(a)},i(i){l||(R(e.$$.fragment,i),l=!0)},o(i){z(e.$$.fragment,i),l=!1},d(i){ie(e,i)}}}function bl(t){let e,n,l,s,o,i,u,a,r,c,d,h,v,_,b,S,B=t[0],g=[];for(let k=0;k<B.length;k+=1)g[k]=Ot(Mt(t,B,k));const C=k=>z(g[k],1,1,()=>{g[k]=null});let y=t[1],A=[];for(let k=0;k<y.length;k+=1)A[k]=Et(Bt(t,y,k));const w=k=>z(A[k],1,1,()=>{A[k]=null});return{c(){e=p("div");for(let k=0;k<g.length;k+=1)g[k].c();n=W(),l=p("button"),s=p("img"),i=W(),u=p("div"),a=W(),r=p("div");for(let k=0;k<A.length;k+=1)A[k].c();c=W(),d=p("button"),h=p("img"),et(s.src,o=yt)||f(s,"src",o),f(s,"alt","Add new combatant"),f(s,"title","Add combatant"),f(s,"width","100"),f(s,"height","100"),f(s,"class","svelte-1ax4x69"),f(l,"class","new svelte-1ax4x69"),f(e,"class","row svelte-1ax4x69"),f(u,"class","divider svelte-1ax4x69"),et(h.src,v=yt)||f(h,"src",v),f(h,"alt","Add new combatant"),f(h,"title","Add combatant"),f(h,"width","100"),f(h,"height","100"),f(h,"class","svelte-1ax4x69"),f(d,"class","new svelte-1ax4x69"),f(r,"class","row svelte-1ax4x69")},m(k,L){O(k,e,L);for(let T=0;T<g.length;T+=1)g[T].m(e,null);m(e,n),m(e,l),m(l,s),O(k,i,L),O(k,u,L),O(k,a,L),O(k,r,L);for(let T=0;T<A.length;T+=1)A[T].m(r,null);m(r,c),m(r,d),m(d,h),_=!0,b||(S=[F(l,"click",t[5]),F(d,"click",t[8])],b=!0)},p(k,[L]){if(L&1){B=k[0];let T;for(T=0;T<B.length;T+=1){const N=Mt(k,B,T);g[T]?(g[T].p(N,L),R(g[T],1)):(g[T]=Ot(N),g[T].c(),R(g[T],1),g[T].m(e,n))}for(ge(),T=B.length;T<g.length;T+=1)C(T);pe()}if(L&2){y=k[1];let T;for(T=0;T<y.length;T+=1){const N=Bt(k,y,T);A[T]?(A[T].p(N,L),R(A[T],1)):(A[T]=Et(N),A[T].c(),R(A[T],1),A[T].m(r,c))}for(ge(),T=y.length;T<A.length;T+=1)w(T);pe()}},i(k){if(!_){for(let L=0;L<B.length;L+=1)R(g[L]);for(let L=0;L<y.length;L+=1)R(A[L]);_=!0}},o(k){g=g.filter(Boolean);for(let L=0;L<g.length;L+=1)z(g[L]);A=A.filter(Boolean);for(let L=0;L<A.length;L+=1)z(A[L]);_=!1},d(k){k&&M(e),We(g,k),k&&M(i),k&&M(u),k&&M(a),k&&M(r),We(A,k),b=!1,me(S)}}}function vl(t,e,n){let{villagerSetup:l}=e,{enemySetup:s}=e;const o=Nn("simple-modal"),i=v=>{o.open(_l,{add:_=>{const b={..._,count:1};v?(s.push(b),n(1,s)):(l.push(b),n(0,l)),o.close()},isEnemy:v},{closeButton:!1,styleContent:{padding:"24px"},styleWindow:{background:"var(--card-bg)",color:"var(--text)",width:"400px"}})},u=v=>n(0,l=l.filter(_=>_!==v));function a(v,_,b,S){b[S]=v,n(0,l)}const r=()=>i(!1),c=v=>n(1,s=s.filter(_=>_!==v));function d(v,_,b,S){b[S]=v,n(1,s)}const h=()=>i(!0);return t.$$set=v=>{"villagerSetup"in v&&n(0,l=v.villagerSetup),"enemySetup"in v&&n(1,s=v.enemySetup)},[l,s,i,u,a,r,c,d,h]}class wl extends we{constructor(e){super(),ve(this,e,vl,bl,be,{villagerSetup:0,enemySetup:1})}}function Wt(t,e,n){const l=t.slice();return l[8]=e[n],l[10]=n,l}function Lt(t,e,n){const l=t.slice();return l[11]=e[n],l[10]=n,l}function Tt(t){let e,n=90-t[10]*10+"",l,s,o=100-t[10]*10+"",i,u,a,r,c,d,h;return{c(){e=p("div"),l=I(n),s=I("-"),i=I(o),u=I("%"),a=W(),r=p("div"),c=p("div"),d=W(),f(e,"class","label svelte-170nl0e"),f(c,"class","demon-hp svelte-170nl0e"),Le(c,"width",100*t[11]/t[3]+"%"),f(r,"class","bar svelte-170nl0e"),f(r,"data-title",h=(100*t[11]/t[2]).toFixed(2)+" %")},m(v,_){O(v,e,_),m(e,l),m(e,s),m(e,i),m(e,u),O(v,a,_),O(v,r,_),m(r,c),m(r,d)},p(v,_){_&9&&Le(c,"width",100*v[11]/v[3]+"%"),_&5&&h!==(h=(100*v[11]/v[2]).toFixed(2)+" %")&&f(r,"data-title",h)},d(v){v&&M(e),v&&M(a),v&&M(r)}}}function Dt(t){let e,n=t[10]+1+"",l,s,o,i,u,a;return{c(){e=p("div"),l=I(n),s=W(),o=p("div"),i=p("div"),u=W(),f(e,"class","label svelte-170nl0e"),f(i,"class","villagers svelte-170nl0e"),Le(i,"width",100*t[8]/t[3]+"%"),f(o,"class","bar svelte-170nl0e"),f(o,"data-title",a=(100*t[8]/t[2]).toFixed(2)+" %")},m(r,c){O(r,e,c),m(e,l),O(r,s,c),O(r,o,c),m(o,i),m(o,u)},p(r,c){c&9&&Le(i,"width",100*r[8]/r[3]+"%"),c&5&&a!==(a=(100*r[8]/r[2]).toFixed(2)+" %")&&f(o,"data-title",a)},d(r){r&&M(e),r&&M(s),r&&M(o)}}}function kl(t){let e,n,l,s,o,i,u,a,r,c,d,h,v,_=t[0].enemy_hp,b=[];for(let g=0;g<_.length;g+=1)b[g]=Tt(Lt(t,_,g));let S=t[0].village_survivors,B=[];for(let g=0;g<S.length;g+=1)B[g]=Dt(Wt(t,S,g));return{c(){e=p("b"),e.textContent="Lefover Enemy HP",n=W(),l=p("div");for(let g=0;g<b.length;g+=1)b[g].c();s=W(),o=p("br"),i=W(),u=p("b"),u.textContent="Leftover Villagers",a=W(),r=p("div");for(let g=0;g<B.length;g+=1)B[g].c();c=W(),d=p("div"),f(l,"class","stats-graph svelte-170nl0e"),f(r,"class","stats-graph svelte-170nl0e"),f(d,"class","tooltip hidden svelte-170nl0e")},m(g,C){O(g,e,C),O(g,n,C),O(g,l,C);for(let y=0;y<b.length;y+=1)b[y].m(l,null);O(g,s,C),O(g,o,C),O(g,i,C),O(g,u,C),O(g,a,C),O(g,r,C);for(let y=0;y<B.length;y+=1)B[y].m(r,null);O(g,c,C),O(g,d,C),t[7](d),h||(v=[F(l,"mousemove",t[4]),F(l,"mouseleave",t[5]),F(r,"mousemove",t[4]),F(r,"mouseleave",t[6])],h=!0)},p(g,[C]){if(C&13){_=g[0].enemy_hp;let y;for(y=0;y<_.length;y+=1){const A=Lt(g,_,y);b[y]?b[y].p(A,C):(b[y]=Tt(A),b[y].c(),b[y].m(l,null))}for(;y<b.length;y+=1)b[y].d(1);b.length=_.length}if(C&13){S=g[0].village_survivors;let y;for(y=0;y<S.length;y+=1){const A=Wt(g,S,y);B[y]?B[y].p(A,C):(B[y]=Dt(A),B[y].c(),B[y].m(r,null))}for(;y<B.length;y+=1)B[y].d(1);B.length=S.length}},i:ee,o:ee,d(g){g&&M(e),g&&M(n),g&&M(l),We(b,g),g&&M(s),g&&M(o),g&&M(i),g&&M(u),g&&M(a),g&&M(r),We(B,g),g&&M(c),g&&M(d),t[7](null),h=!1,me(v)}}}function yl(t,e,n){let l,s,{result:o}=e,i;const u=d=>{let h=d.target;if(h&&!h.dataset.title&&(h=h.parentElement),!h||!h.dataset.title){i.classList.add("hidden");return}i.classList.remove("hidden"),n(1,i.innerText=h.dataset.title,i),n(1,i.style.top=d.clientY-25+"px",i),n(1,i.style.left=d.clientX+"px",i)},a=()=>i.classList.add("hidden"),r=()=>i.classList.add("hidden");function c(d){fe[d?"unshift":"push"](()=>{i=d,n(1,i)})}return t.$$set=d=>{"result"in d&&n(0,o=d.result)},t.$$.update=()=>{t.$$.dirty&1&&n(3,l=Math.max(...o.enemy_hp,...o.village_survivors)),t.$$.dirty&1&&n(2,s=[...o.enemy_hp,...o.village_survivors].reduce((d,h)=>d+h,0))},[o,i,s,l,u,a,r,c]}class Sl extends we{constructor(e){super(),ve(this,e,yl,kl,be,{result:0})}}function Pt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function Rt(t,e,n){const l=t.slice();return l[6]=e[n],l[8]=n,l}function it(t){const e=t.slice(),n=e[3](e[0].villagerSetup);e[4]=n;const l=e[3](e[0].enemySetup);return e[5]=l,e}function Gt(t){let e,n,l,s=t[4].length>0&&zt(t),o=t[4].length>0&&t[5].length>0&&jt(),i=t[5].length>0&&Nt(t);return{c(){e=p("div"),s&&s.c(),n=W(),o&&o.c(),l=W(),i&&i.c()},m(u,a){O(u,e,a),s&&s.m(e,null),m(e,n),o&&o.m(e,null),m(e,l),i&&i.m(e,null)},p(u,a){u[4].length>0?s?s.p(u,a):(s=zt(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),u[4].length>0&&u[5].length>0?o||(o=jt(),o.c(),o.m(e,l)):o&&(o.d(1),o=null),u[5].length>0?i?i.p(u,a):(i=Nt(u),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(u){u&&M(e),s&&s.d(),o&&o.d(),i&&i.d()}}}function zt(t){let e,n=t[4],l=[];for(let s=0;s<n.length;s+=1)l[s]=It(Rt(t,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Se()},m(s,o){for(let i=0;i<l.length;i+=1)l[i].m(s,o);O(s,e,o)},p(s,o){if(o&9){n=s[4];let i;for(i=0;i<n.length;i+=1){const u=Rt(s,n,i);l[i]?l[i].p(u,o):(l[i]=It(u),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){We(l,s),s&&M(e)}}}function Ft(t){let e;return{c(){e=I("/")},m(n,l){O(n,e,l)},d(n){n&&M(e)}}}function It(t){let e,n=t[6].count+"",l,s,o,i,u=t[8]!==t[4].length-1&&Ft();return{c(){e=p("span"),l=I(n),o=W(),u&&u.c(),i=Se(),f(e,"title",s=t[6].name)},m(a,r){O(a,e,r),m(e,l),O(a,o,r),u&&u.m(a,r),O(a,i,r)},p(a,r){r&1&&n!==(n=a[6].count+"")&&ae(l,n),r&1&&s!==(s=a[6].name)&&f(e,"title",s),a[8]!==a[4].length-1?u||(u=Ft(),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(a){a&&M(e),a&&M(o),u&&u.d(a),a&&M(i)}}}function jt(t){let e;return{c(){e=I("|")},m(n,l){O(n,e,l)},d(n){n&&M(e)}}}function Nt(t){let e,n=t[5],l=[];for(let s=0;s<n.length;s+=1)l[s]=Ht(Pt(t,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=Se()},m(s,o){for(let i=0;i<l.length;i+=1)l[i].m(s,o);O(s,e,o)},p(s,o){if(o&9){n=s[5];let i;for(i=0;i<n.length;i+=1){const u=Pt(s,n,i);l[i]?l[i].p(u,o):(l[i]=Ht(u),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){We(l,s),s&&M(e)}}}function Yt(t){let e;return{c(){e=I("/")},m(n,l){O(n,e,l)},d(n){n&&M(e)}}}function Ht(t){let e,n=t[6].count+"",l,s,o,i,u=t[8]!==t[5].length-1&&Yt();return{c(){e=p("span"),l=I(n),o=W(),u&&u.c(),i=Se(),f(e,"title",s=t[6].name)},m(a,r){O(a,e,r),m(e,l),O(a,o,r),u&&u.m(a,r),O(a,i,r)},p(a,r){r&1&&n!==(n=a[6].count+"")&&ae(l,n),r&1&&s!==(s=a[6].name)&&f(e,"title",s),a[8]!==a[5].length-1?u||(u=Yt(),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},d(a){a&&M(e),a&&M(o),u&&u.d(a),a&&M(i)}}}function Cl(t){let e,n,l=t[0].monthStart+"",s,o,i,u,a,r,c,d,h=`${t[2]}%`,v,_,b=Math.floor(t[0].total_length/t[0].iters)+"",S,B,g,C=t[0].longest+"",y,A=t[1]&&Gt(it(t));return{c(){A&&A.c(),e=W(),n=p("div"),s=I(l),o=W(),i=p("div"),u=I(t[2]),a=I(" %"),r=W(),c=p("div"),d=p("div"),v=W(),_=p("div"),S=I(b),B=W(),g=p("div"),y=I(C),f(d,"class","win-rate-bar-inner svelte-118pgso"),Le(d,"width",h,!1),f(c,"class","win-rate-bar svelte-118pgso")},m(w,k){A&&A.m(w,k),O(w,e,k),O(w,n,k),m(n,s),O(w,o,k),O(w,i,k),m(i,u),m(i,a),O(w,r,k),O(w,c,k),m(c,d),O(w,v,k),O(w,_,k),m(_,S),O(w,B,k),O(w,g,k),m(g,y)},p(w,[k]){w[1]?A?A.p(it(w),k):(A=Gt(it(w)),A.c(),A.m(e.parentNode,e)):A&&(A.d(1),A=null),k&1&&l!==(l=w[0].monthStart+"")&&ae(s,l),k&4&&ae(u,w[2]),k&4&&h!==(h=`${w[2]}%`)&&Le(d,"width",h,!1),k&1&&b!==(b=Math.floor(w[0].total_length/w[0].iters)+"")&&ae(S,b),k&1&&C!==(C=w[0].longest+"")&&ae(y,C)},i:ee,o:ee,d(w){A&&A.d(w),w&&M(e),w&&M(n),w&&M(o),w&&M(i),w&&M(r),w&&M(c),w&&M(v),w&&M(_),w&&M(B),w&&M(g)}}}function Al(t,e,n){let l,{result:s}=e,{showSetup:o}=e;const i=u=>{const a=[];for(const r of u)r.vary&&a.push(r);return a};return t.$$set=u=>{"result"in u&&n(0,s=u.result),"showSetup"in u&&n(1,o=u.showSetup)},t.$$.update=()=>{t.$$.dirty&1&&n(2,l=(100*s.wins/s.iters).toFixed(2))},[s,o,l,i]}class an extends we{constructor(e){super(),ve(this,e,Al,Cl,be,{result:0,showSetup:1})}}function Ut(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Bl(t){const e=t.slice(),n=e[0]===null?e[2][0]:e[2][e[0]];return e[11]=n,e}function Vt(t){let e;return{c(){e=p("span"),e.textContent="Setup"},m(n,l){O(n,e,l)},d(n){n&&M(e)}}}function Ml(t){let e,n,l=t[2],s=[];for(let i=0;i<l.length;i+=1)s[i]=Qt(Ut(t,l,i));const o=i=>z(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Se()},m(i,u){for(let a=0;a<s.length;a+=1)s[a].m(i,u);O(i,e,u),n=!0},p(i,u){if(u&7){l=i[2];let a;for(a=0;a<l.length;a+=1){const r=Ut(i,l,a);s[a]?(s[a].p(r,u),R(s[a],1)):(s[a]=Qt(r),s[a].c(),R(s[a],1),s[a].m(e.parentNode,e))}for(ge(),a=l.length;a<s.length;a+=1)o(a);pe()}},i(i){if(!n){for(let u=0;u<l.length;u+=1)R(s[u]);n=!0}},o(i){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)z(s[u]);n=!1},d(i){We(s,i),i&&M(e)}}}function Ol(t){let e,n,l,s,o,i,u,a,r;return n=new an({props:{result:t[11],showSetup:t[1]}}),i=new Sl({props:{result:t[11]}}),{c(){e=p("div"),ue(n.$$.fragment),l=W(),s=p("br"),o=W(),ue(i.$$.fragment),f(e,"class","row svelte-bzckt0"),X(e,"showSetup",t[1]),X(e,"no-hover",t[0]===null)},m(c,d){O(c,e,d),se(n,e,null),O(c,l,d),O(c,s,d),O(c,o,d),se(i,c,d),u=!0,a||(r=F(e,"click",t[6]),a=!0)},p(c,d){const h={};d&5&&(h.result=c[11]),d&2&&(h.showSetup=c[1]),n.$set(h),d&2&&X(e,"showSetup",c[1]),d&1&&X(e,"no-hover",c[0]===null);const v={};d&5&&(v.result=c[11]),i.$set(v)},i(c){u||(R(n.$$.fragment,c),R(i.$$.fragment,c),u=!0)},o(c){z(n.$$.fragment,c),z(i.$$.fragment,c),u=!1},d(c){c&&M(e),ie(n),c&&M(l),c&&M(s),c&&M(o),ie(i,c),a=!1,r()}}}function Qt(t){let e,n,l,s,o,i;n=new an({props:{result:t[11],showSetup:t[1]}});function u(){return t[7](t[13])}return{c(){e=p("div"),ue(n.$$.fragment),l=W(),f(e,"class","row svelte-bzckt0"),X(e,"showSetup",t[1])},m(a,r){O(a,e,r),se(n,e,null),m(e,l),s=!0,o||(i=F(e,"click",u),o=!0)},p(a,r){t=a;const c={};r&4&&(c.result=t[11]),r&2&&(c.showSetup=t[1]),n.$set(c),r&2&&X(e,"showSetup",t[1])},i(a){s||(R(n.$$.fragment,a),s=!0)},o(a){z(n.$$.fragment,a),s=!1},d(a){a&&M(e),ie(n),o=!1,i()}}}function El(t){let e,n,l,s,o,i,u,a,r,c,d,h,v,_,b,S,B=t[1]&&Vt();const g=[Ol,Ml],C=[];function y(w,k){return w[0]!==null||w[2].length===1?0:1}function A(w,k){return k===0?Bl(w):w}return v=y(t),_=C[v]=g[v](A(t,v)),{c(){e=p("b"),B&&B.c(),n=W(),l=p("span"),l.textContent="Start (s)",s=W(),o=p("span"),o.textContent="Win Rate",i=W(),u=p("span"),a=W(),r=p("span"),r.textContent="Avg Length (s)",c=W(),d=p("span"),d.textContent="Longest (s)",h=W(),_.c(),b=Se(),f(e,"class","row svelte-bzckt0"),X(e,"showSetup",t[1])},m(w,k){O(w,e,k),B&&B.m(e,null),m(e,n),m(e,l),m(e,s),m(e,o),m(e,i),m(e,u),m(e,a),m(e,r),m(e,c),m(e,d),O(w,h,k),C[v].m(w,k),O(w,b,k),S=!0},p(w,[k]){w[1]?B||(B=Vt(),B.c(),B.m(e,n)):B&&(B.d(1),B=null),k&2&&X(e,"showSetup",w[1]);let L=v;v=y(w),v===L?C[v].p(A(w,v),k):(ge(),z(C[L],1,1,()=>{C[L]=null}),pe(),_=C[v],_?_.p(A(w,v),k):(_=C[v]=g[v](A(w,v)),_.c()),R(_,1),_.m(b.parentNode,b))},i(w){S||(R(_),S=!0)},o(w){z(_),S=!1},d(w){w&&M(e),B&&B.d(),w&&M(h),C[v].d(w),w&&M(b)}}}function Wl(t,e,n){let l,s,{results:o}=e,{onlyShowOptimal:i}=e,u=null;const a=()=>{n(0,u=null)},r=(_,b)=>{for(const S in _.villagerSetup)if(_.villagerSetup[S].count!==b.villagerSetup[S].count)return!1;for(const S in _.enemySetup)if(_.enemySetup[S].count!==b.enemySetup[S].count)return!1;return!0},c=(_,b)=>{if(_.wins!==b.wins)return _.wins>b.wins;const S=_.village_survivors.map((y,A)=>y*(A+1)).reduce((y,A)=>y+A,0),B=b.village_survivors.map((y,A)=>y*(A+1)).reduce((y,A)=>y+A,0);if(S!==B)return S>B;const g=_.enemy_hp.map((y,A)=>y*(A+1)).reduce((y,A)=>y+A,0),C=b.enemy_hp.map((y,A)=>y*(A+1)).reduce((y,A)=>y+A,0);return g>C},d=(_,b)=>{if(!b)return _;let S=null,B=[];for(const g of _)!S||!r(S,g)?(S&&B.push(S),S=g):c(g,S)&&(S=g);return S&&B.push(S),B},h=()=>n(0,u=null),v=_=>n(0,u=_);return t.$$set=_=>{"results"in _&&n(3,o=_.results),"onlyShowOptimal"in _&&n(4,i=_.onlyShowOptimal)},t.$$.update=()=>{t.$$.dirty&24&&n(2,l=d(o,i)),t.$$.dirty&8&&n(1,s=o.length>0&&(o[0].villagerSetup.some(_=>_.vary)||o[0].enemySetup.some(_=>_.vary)))},[u,s,l,o,i,a,h,v]}class Ll extends we{constructor(e){super(),ve(this,e,Wl,El,be,{results:3,onlyShowOptimal:4,reset:5})}get reset(){return this.$$.ctx[5]}}const Re=[];function Tl(t,e=ee){let n;const l=new Set;function s(u){if(be(t,u)&&(t=u,n)){const a=!Re.length;for(const r of l)r[1](),Re.push(r,t);if(a){for(let r=0;r<Re.length;r+=2)Re[r][0](Re[r+1]);Re.length=0}}}function o(u){s(u(t))}function i(u,a=ee){const r=[u,a];return l.add(r),l.size===1&&(n=e(s)||ee),u(t),()=>{l.delete(r),l.size===0&&(n(),n=null)}}return{set:s,update:o,subscribe:i}}const Jt=t=>{let e=1;for(const n of t)n.vary&&(e*=Math.max(1,n.max_count-n.min_count+1));return e},Ee=(t,e)=>{const n=localStorage.getItem(t);if(n)try{e=JSON.parse(n)}catch{}const l=Tl(e);return{set(s){l.set(s),localStorage.setItem(t,JSON.stringify(s))},update(s){l.update(o=>{const i=s(o);return localStorage.setItem(t,JSON.stringify(i)),i})},subscribe(s,o){return l.subscribe(s,o)}}};function Xt(t){let e,n;return{c(){e=I("/"),n=I(t[1])},m(l,s){O(l,e,s),O(l,n,s)},p(l,s){s&2&&ae(n,l[1])},d(l){l&&M(e),l&&M(n)}}}function Dl(t){let e,n,l,s,o,i,u,a=t[4]&&Xt(t);return{c(){e=p("div"),n=p("span"),l=I(t[0]),a&&a.c(),s=W(),o=p("input"),f(n,"class","svelte-1n91gn1"),f(o,"type","range"),f(o,"min",t[2]),f(o,"step",t[3]),f(o,"max",t[1]),f(o,"class","svelte-1n91gn1"),f(e,"class","svelte-1n91gn1")},m(r,c){O(r,e,c),m(e,n),m(n,l),a&&a.m(n,null),m(e,s),m(e,o),$(o,t[0]),i||(u=[F(o,"change",t[5]),F(o,"input",t[5])],i=!0)},p(r,[c]){c&1&&ae(l,r[0]),r[4]?a?a.p(r,c):(a=Xt(r),a.c(),a.m(n,null)):a&&(a.d(1),a=null),c&4&&f(o,"min",r[2]),c&8&&f(o,"step",r[3]),c&2&&f(o,"max",r[1]),c&1&&$(o,r[0])},i:ee,o:ee,d(r){r&&M(e),a&&a.d(),i=!1,me(u)}}}function Pl(t,e,n){let{value:l}=e,{max:s}=e,{min:o=0}=e,{step:i=1}=e,{showMax:u=!1}=e;function a(){l=re(this.value),n(0,l)}return t.$$set=r=>{"value"in r&&n(0,l=r.value),"max"in r&&n(1,s=r.max),"min"in r&&n(2,o=r.min),"step"in r&&n(3,i=r.step),"showMax"in r&&n(4,u=r.showMax)},[l,s,o,i,u,a]}class un extends we{constructor(e){super(),ve(this,e,Pl,Dl,be,{value:0,max:1,min:2,step:3,showMax:4})}}function Rl(t){let e,n,l,s,o,i,u;function a(c){t[14](c)}let r={max:t[0],step:5,showMax:!0};return t[2]!==void 0&&(r.value=t[2]),o=new un({props:r}),fe.push(()=>ye(o,"value",a)),{c(){e=p("tr"),n=p("td"),n.textContent="Month Start:",l=W(),s=p("td"),ue(o.$$.fragment),f(n,"class","svelte-s5kw35"),f(s,"class","center svelte-s5kw35"),f(e,"class","svelte-s5kw35")},m(c,d){O(c,e,d),m(e,n),m(e,l),m(e,s),se(o,s,null),u=!0},p(c,d){const h={};d&1&&(h.max=c[0]),!i&&d&4&&(i=!0,h.value=c[2],ke(()=>i=!1)),o.$set(h)},i(c){u||(R(o.$$.fragment,c),u=!0)},o(c){z(o.$$.fragment,c),u=!1},d(c){c&&M(e),ie(o)}}}function Gl(t){let e,n,l,s,o,i,u;function a(c){t[13](c)}let r={min:5,max:Math.floor(t[0]/2),step:5};return t[1]!==void 0&&(r.value=t[1]),o=new un({props:r}),fe.push(()=>ye(o,"value",a)),{c(){e=p("tr"),n=p("td"),n.textContent="Start steps:",l=W(),s=p("td"),ue(o.$$.fragment),f(n,"class","svelte-s5kw35"),f(s,"class","center svelte-s5kw35"),f(e,"title","How many seconds between each month start time attempt. A lower amount means more accuracy but it takes longer since it leads to more options to check."),f(e,"class","svelte-s5kw35")},m(c,d){O(c,e,d),m(e,n),m(e,l),m(e,s),se(o,s,null),u=!0},p(c,d){const h={};d&1&&(h.max=Math.floor(c[0]/2)),!i&&d&2&&(i=!0,h.value=c[1],ke(()=>i=!1)),o.$set(h)},i(c){u||(R(o.$$.fragment,c),u=!0)},o(c){z(o.$$.fragment,c),u=!1},d(c){c&&M(e),ie(o)}}}function zl(t){let e,n,l,s,o,i,u,a,r,c,d,h,v,_,b,S,B,g,C,y,A,w,k,L,T,N,J,U,q,Z,V,oe=t[8]*(t[4]?Math.floor(t[0]/t[1]):1)+"",K,j,Q,x,le=t[5]?"Cancel":"Simulate",te,D,_e,Y;const ne=[Gl,Rl],ce=[];function G(P,H){return P[4]?0:1}return C=G(t),y=ce[C]=ne[C](t),{c(){e=p("h3"),e.textContent="Simulation Settings",n=W(),l=p("table"),s=p("tr"),o=p("td"),o.textContent="Month Length:",i=W(),u=p("td"),a=p("select"),r=p("option"),r.textContent="Short (90s)",c=p("option"),c.textContent="Normal (120s)",d=p("option"),d.textContent="Long (200s)",h=W(),v=p("tr"),_=p("td"),_.textContent="Find optimal start:",b=W(),S=p("td"),B=p("input"),g=W(),y.c(),A=W(),w=p("tr"),k=p("td"),k.textContent="Iterations:",L=W(),T=p("td"),N=p("input"),J=W(),U=p("tr"),q=p("td"),q.textContent="Max scenarios:",Z=W(),V=p("td"),K=I(oe),j=W(),Q=p("div"),x=p("button"),te=I(le),f(e,"class","svelte-s5kw35"),f(o,"class","svelte-s5kw35"),r.__value=90,r.value=r.__value,c.__value=120,c.value=c.__value,d.__value=200,d.value=d.__value,t[0]===void 0&&De(()=>t[11].call(a)),f(u,"class","svelte-s5kw35"),f(s,"class","svelte-s5kw35"),f(_,"class","svelte-s5kw35"),f(B,"type","checkbox"),f(S,"class","svelte-s5kw35"),f(v,"title","Try various month start times to find the best one"),f(v,"class","svelte-s5kw35"),f(k,"class","svelte-s5kw35"),f(N,"type","number"),f(N,"min","1"),f(N,"max","100000000"),f(T,"class","svelte-s5kw35"),f(w,"class","svelte-s5kw35"),f(q,"class","svelte-s5kw35"),f(V,"class","svelte-s5kw35"),f(U,"title","How many different possible scenarios will be tested with the current setup (the higher the longer the simulation takes)."),f(U,"class","svelte-s5kw35"),f(l,"class","svelte-s5kw35"),f(x,"class","button button-primary"),X(x,"button-cancel",t[5]),f(Q,"class","button-container svelte-s5kw35")},m(P,H){O(P,e,H),O(P,n,H),O(P,l,H),m(l,s),m(s,o),m(s,i),m(s,u),m(u,a),m(a,r),m(a,c),m(a,d),bt(a,t[0]),m(l,h),m(l,v),m(v,_),m(v,b),m(v,S),m(S,B),B.checked=t[4],m(l,g),ce[C].m(l,null),m(l,A),m(l,w),m(w,k),m(w,L),m(w,T),m(T,N),$(N,t[3]),m(l,J),m(l,U),m(U,q),m(U,Z),m(U,V),m(V,K),O(P,j,H),O(P,Q,H),m(Q,x),m(x,te),D=!0,_e||(Y=[F(a,"change",t[11]),F(B,"change",t[12]),F(N,"input",t[15]),F(x,"click",function(){Te(t[5]?t[6]:t[7])&&(t[5]?t[6]:t[7]).apply(this,arguments)})],_e=!0)},p(P,[H]){t=P,H&1&&bt(a,t[0]),H&16&&(B.checked=t[4]);let de=C;C=G(t),C===de?ce[C].p(t,H):(ge(),z(ce[de],1,1,()=>{ce[de]=null}),pe(),y=ce[C],y?y.p(t,H):(y=ce[C]=ne[C](t),y.c()),R(y,1),y.m(l,A)),H&8&&re(N.value)!==t[3]&&$(N,t[3]),(!D||H&275)&&oe!==(oe=t[8]*(t[4]?Math.floor(t[0]/t[1]):1)+"")&&ae(K,oe),(!D||H&32)&&le!==(le=t[5]?"Cancel":"Simulate")&&ae(te,le),H&32&&X(x,"button-cancel",t[5])},i(P){D||(R(y),D=!0)},o(P){z(y),D=!1},d(P){P&&M(e),P&&M(n),P&&M(l),ce[C].d(),P&&M(j),P&&M(Q),_e=!1,me(Y)}}}function Fl(t,e,n){let l,{monthLength:s}=e,{monthStart:o}=e,{iterations:i}=e,{findMonthStart:u}=e,{findMonthStartStep:a}=e,{running:r}=e,{villagerSetup:c}=e,{enemySetup:d}=e,{cancel:h}=e,{run:v}=e;function _(){s=Tn(this),n(0,s)}function b(){u=this.checked,n(4,u)}function S(C){a=C,n(1,a),n(0,s)}function B(C){o=C,n(2,o)}function g(){i=re(this.value),n(3,i)}return t.$$set=C=>{"monthLength"in C&&n(0,s=C.monthLength),"monthStart"in C&&n(2,o=C.monthStart),"iterations"in C&&n(3,i=C.iterations),"findMonthStart"in C&&n(4,u=C.findMonthStart),"findMonthStartStep"in C&&n(1,a=C.findMonthStartStep),"running"in C&&n(5,r=C.running),"villagerSetup"in C&&n(9,c=C.villagerSetup),"enemySetup"in C&&n(10,d=C.enemySetup),"cancel"in C&&n(6,h=C.cancel),"run"in C&&n(7,v=C.run)},t.$$.update=()=>{if(t.$$.dirty&1536&&n(8,l=Jt(c)*Jt(d)),t.$$.dirty&3){const C=Math.floor(s/2);a>C&&n(1,a=C)}},[s,a,o,i,u,r,h,v,l,c,d,_,b,S,B,g]}class Il extends we{constructor(e){super(),ve(this,e,Fl,zl,be,{monthLength:0,monthStart:2,iterations:3,findMonthStart:4,findMonthStartStep:1,running:5,villagerSetup:9,enemySetup:10,cancel:6,run:7})}}function jl(t){let e,n,l,s,o,i,u,a,r,c;return{c(){e=p("h3"),e.textContent="Display Settings",n=W(),l=p("table"),s=p("tr"),o=p("td"),o.textContent="Only show optimal start time:",i=W(),u=p("td"),a=p("input"),f(e,"class","svelte-1wdg570"),f(o,"class","svelte-1wdg570"),f(a,"type","checkbox"),f(u,"class","svelte-1wdg570"),f(s,"class","svelte-1wdg570"),f(l,"class","svelte-1wdg570")},m(d,h){O(d,e,h),O(d,n,h),O(d,l,h),m(l,s),m(s,o),m(s,i),m(s,u),m(u,a),a.checked=t[0],r||(c=F(a,"change",t[1]),r=!0)},p(d,[h]){h&1&&(a.checked=d[0])},i:ee,o:ee,d(d){d&&M(e),d&&M(n),d&&M(l),r=!1,c()}}}function Nl(t,e,n){let{onlyShowOptimal:l}=e;function s(){l=this.checked,n(0,l)}return t.$$set=o=>{"onlyShowOptimal"in o&&n(0,l=o.onlyShowOptimal)},[l,s]}class Yl extends we{constructor(e){super(),ve(this,e,Nl,jl,be,{onlyShowOptimal:0})}}function Hl(){return new Worker("/stacklands-combat-simulator/assets/worker.34de0b0d.js")}function Ul(t){let e,n,l={results:t[3],onlyShowOptimal:t[12]};return e=new Ll({props:l}),t[25](e),{c(){ue(e.$$.fragment)},m(s,o){se(e,s,o),n=!0},p(s,o){const i={};o[0]&8&&(i.results=s[3]),o[0]&4096&&(i.onlyShowOptimal=s[12]),e.$set(i)},i(s){n||(R(e.$$.fragment,s),n=!0)},o(s){z(e.$$.fragment,s),n=!1},d(s){t[25](null),ie(e,s)}}}function Vl(t){let e,n,l,s;function o(a){t[23](a)}function i(a){t[24](a)}let u={};return t[10]!==void 0&&(u.villagerSetup=t[10]),t[9]!==void 0&&(u.enemySetup=t[9]),e=new wl({props:u}),fe.push(()=>ye(e,"villagerSetup",o)),fe.push(()=>ye(e,"enemySetup",i)),{c(){ue(e.$$.fragment)},m(a,r){se(e,a,r),s=!0},p(a,r){const c={};!n&&r[0]&1024&&(n=!0,c.villagerSetup=a[10],ke(()=>n=!1)),!l&&r[0]&512&&(l=!0,c.enemySetup=a[9],ke(()=>l=!1)),e.$set(c)},i(a){s||(R(e.$$.fragment,a),s=!0)},o(a){z(e.$$.fragment,a),s=!1},d(a){ie(e,a)}}}function Ql(t){let e,n,l,s,o,i,u,a,r,c,d,h,v,_,b,S,B,g,C,y,A,w,k,L,T,N,J,U,q=`${t[1]}%`,Z,V,oe;const K=[Vl,Ul],j=[];function Q(G,P){return G[2]==="editor"?0:1}o=Q(t),i=j[o]=K[o](t);function x(G){t[28](G)}function le(G){t[29](G)}function te(G){t[30](G)}function D(G){t[31](G)}function _e(G){t[32](G)}let Y={villagerSetup:t[10],enemySetup:t[9],running:t[0],cancel:t[22],run:t[21]};t[11]!==void 0&&(Y.iterations=t[11]),t[8]!==void 0&&(Y.monthLength=t[8]),t[7]!==void 0&&(Y.monthStart=t[7]),t[6]!==void 0&&(Y.findMonthStart=t[6]),t[5]!==void 0&&(Y.findMonthStartStep=t[5]),_=new Il({props:Y}),fe.push(()=>ye(_,"iterations",x)),fe.push(()=>ye(_,"monthLength",le)),fe.push(()=>ye(_,"monthStart",te)),fe.push(()=>ye(_,"findMonthStart",D)),fe.push(()=>ye(_,"findMonthStartStep",_e));function ne(G){t[33](G)}let ce={};return t[12]!==void 0&&(ce.onlyShowOptimal=t[12]),w=new Yl({props:ce}),fe.push(()=>ye(w,"onlyShowOptimal",ne)),{c(){e=p("div"),n=p("h1"),n.textContent="Stacklands Combat Simulator",l=W(),s=p("main"),i.c(),u=W(),a=p("nav"),r=p("button"),r.textContent="Edit Setup",c=W(),d=p("button"),d.textContent="View Results",h=W(),v=p("aside"),ue(_.$$.fragment),y=W(),A=p("aside"),ue(w.$$.fragment),L=W(),T=p("a"),T.textContent="Source Code",N=W(),J=p("div"),U=p("div"),f(n,"class","svelte-1bo58wp"),f(s,"class","card svelte-1bo58wp"),f(r,"class","button svelte-1bo58wp"),f(d,"class","button svelte-1bo58wp"),f(a,"class","card svelte-1bo58wp"),f(v,"class","settings-simulation card svelte-1bo58wp"),f(A,"class","settings-view card svelte-1bo58wp"),f(T,"id","source-link"),f(T,"href","https://github.com/benediktwerner/stacklands-combat-simulator"),f(T,"target","_blank"),f(T,"class","svelte-1bo58wp"),f(e,"id","container"),f(e,"class","svelte-1bo58wp"),f(U,"class","progress-bar-inner svelte-1bo58wp"),Le(U,"width",q,!1),f(J,"class","progress-bar svelte-1bo58wp")},m(G,P){O(G,e,P),m(e,n),m(e,l),m(e,s),j[o].m(s,null),m(e,u),m(e,a),m(a,r),m(a,c),m(a,d),m(e,h),m(e,v),se(_,v,null),m(e,y),m(e,A),se(w,A,null),m(e,L),m(e,T),O(G,N,P),O(G,J,P),m(J,U),Z=!0,V||(oe=[F(r,"click",t[26]),F(d,"click",t[27])],V=!0)},p(G,P){let H=o;o=Q(G),o===H?j[o].p(G,P):(ge(),z(j[H],1,1,()=>{j[H]=null}),pe(),i=j[o],i?i.p(G,P):(i=j[o]=K[o](G),i.c()),R(i,1),i.m(s,null));const de={};P[0]&1024&&(de.villagerSetup=G[10]),P[0]&512&&(de.enemySetup=G[9]),P[0]&1&&(de.running=G[0]),!b&&P[0]&2048&&(b=!0,de.iterations=G[11],ke(()=>b=!1)),!S&&P[0]&256&&(S=!0,de.monthLength=G[8],ke(()=>S=!1)),!B&&P[0]&128&&(B=!0,de.monthStart=G[7],ke(()=>B=!1)),!g&&P[0]&64&&(g=!0,de.findMonthStart=G[6],ke(()=>g=!1)),!C&&P[0]&32&&(C=!0,de.findMonthStartStep=G[5],ke(()=>C=!1)),_.$set(de);const ze={};!k&&P[0]&4096&&(k=!0,ze.onlyShowOptimal=G[12],ke(()=>k=!1)),w.$set(ze),P[0]&2&&q!==(q=`${G[1]}%`)&&Le(U,"width",q,!1)},i(G){Z||(R(i),R(_.$$.fragment,G),R(w.$$.fragment,G),Z=!0)},o(G){z(i),z(_.$$.fragment,G),z(w.$$.fragment,G),Z=!1},d(G){G&&M(e),j[o].d(),ie(_),ie(w),G&&M(N),G&&M(J),V=!1,me(oe)}}}function Jl(t){let e,n;return e=new nl({props:{$$slots:{default:[Ql]},$$scope:{ctx:t}}}),{c(){ue(e.$$.fragment)},m(l,s){se(e,l,s),n=!0},p(l,s){const o={};s[0]&8191|s[1]&32&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(R(e.$$.fragment,l),n=!0)},o(l){z(e.$$.fragment,l),n=!1},d(l){ie(e,l)}}}function Xl(t,e,n){let l,s,o,i,u,a,r,c,d=Ee("monthLength",90);Oe(t,d,D=>n(8,i=D));let h=Ee("monthStart",0);Oe(t,h,D=>n(7,o=D));let v=Ee("iterations",1e3);Oe(t,v,D=>n(11,r=D));let _=Ee("findMonthStart",!0);Oe(t,_,D=>n(6,s=D));let b=Ee("findMonthStartStep",15);Oe(t,b,D=>n(5,l=D));let S=Ee("onlyShowOptimal",!0);Oe(t,S,D=>n(12,c=D));let B=!1,g=0,C="editor",y=Ee("villagerSetup",[{...ut[5],count:8,vary:!0,min_count:8,max_count:20}]);Oe(t,y,D=>n(10,a=D));let A=Ee("enemySetup",[{...rt[2],count:1}]);Oe(t,A,D=>n(9,u=D));let w=null,k=[],L,T=null;const N=()=>{n(2,C="results"),n(0,B=!0),n(1,g=0),n(3,k=[]),L==null||L.reset(),w===null&&(w=new Hl,w.onmessage=_e=>{const Y=_e.data;switch(Y.type){case"progress":n(1,g+=Y.progress),Y.newResult&&(Y.replace?n(3,k[k.length-1]=Y.newResult,k):k.push(Y.newResult),n(3,k));break;case"done":n(1,g=100),n(0,B=!1);break;case"cancelled":T&&(clearTimeout(T),T=null,n(1,g=100));break}});const D={type:"simulate",setup:{iterations:r,villagerSetup:a,enemySetup:u,monthLength:i,monthStart:o},findMonthStart:s,findMonthStartStep:l};w.postMessage(D)},J=()=>{n(0,B=!1),w!==null&&(w.postMessage({type:"cancel"}),T=setTimeout(()=>{w==null||w.terminate(),w=null,n(1,g=100)},1e3))};function U(D){a=D,y.set(a)}function q(D){u=D,A.set(u)}function Z(D){fe[D?"unshift":"push"](()=>{L=D,n(4,L)})}const V=()=>n(2,C="editor"),oe=()=>n(2,C="results");function K(D){r=D,v.set(r)}function j(D){i=D,d.set(i)}function Q(D){o=D,h.set(o)}function x(D){s=D,_.set(s)}function le(D){l=D,b.set(l)}function te(D){c=D,S.set(c)}return[B,g,C,k,L,l,s,o,i,u,a,r,c,d,h,v,_,b,S,y,A,N,J,U,q,Z,V,oe,K,j,Q,x,le,te]}class Kl extends we{constructor(e){super(),ve(this,e,Xl,Jl,be,{},null,[-1,-1])}}new Kl({target:document.getElementById("app")});
